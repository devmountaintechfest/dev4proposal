;/*FB_PKG_DELIM*/

__d("CometVideoPlayerLoggingConfigForMWChat",["CometVideoPlayerLoggingConfigForDisabledLogging"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("CometVideoPlayerLoggingConfigForDisabledLogging").createCometVideoPlayerLoggingConfigForDisabledLogging()}g.createCometVideoPlayerLoggingConfigForMWChat=a}),98);
__d("FBIconChevronLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M457.905 1075.53a.75.75 0 0 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 0 0 1.06-1.06l-3.97-3.97 3.97-3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconChevronRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M454.095 1083.47a.75.75 0 1 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06l-4.5-4.5a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSOnSendMessageFailure.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e){return(g||(g=b("Promise"))).resolve()}f["default"]=a}),66);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return a[2]===!0?d[0]=c.i64.cast([0,5]):d[0]=c.i64.cast([0,4]),a[2]===!0?d[1]=c.i64.cast([0,5]):d[1]=c.i64.cast([0,4]),a[2]===!0?d[2]=c.i64.cast([0,5]):d[2]=c.i64.cast([0,4]),c.nativeOperation(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:d[0],sendStatusV2:d[1]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkOptimisticMessageFailedStoredProcedure";e.exports=a}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSMarkOptimisticMessageFailed")(b.optimisticMid,b.errorMessage,b.isRetryable,a)}g["default"]=a}),98);
__d("MAWFTSRestoreSyncDeferred",["JSResourceForInteraction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MAWFTSRestoreSync").__setRef("MAWFTSRestoreSyncDeferred");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h.load());a=a.getFTSRestoreSync;return a()});return i.apply(this,arguments)}g.getInstance=a}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(a){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",d,f,a);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7846909995359316"}),null);
__d("MAWFetchXMAData_LinkPreviewQuery.graphql",["MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"url"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"params"}],kind:"ScalarField",name:"post_reshare_xma",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MAWFetchXMAData_LinkPreviewQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MAWFetchXMAData_LinkPreviewQuery",selections:c},params:{id:b("MAWFetchXMAData_LinkPreviewQuery_facebookRelayOperation"),metadata:{},name:"MAWFetchXMAData_LinkPreviewQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWUnshimUrl",["CometLinkShimUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return void 0;var b=d("CometLinkShimUtils").getLinkShimInfo(a,void 0,void 0,void 0,void 0,!0);return!b.shimmed?a:b.unshimmedHref}g.unshimUrl=a}),98);
__d("MAWFetchXMAData",["fbt","CometRelay","ConstUriUtils","FBLogger","LSXmaContentType","MAWFetchXMABlob","MAWFetchXMAData_LinkPreviewQuery.graphql","MAWGetImageSpec","MAWParseXMAFBConfig","MAWUnshimUrl","Promise","WAArmadilloXMA.pb","asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={failed_to_fetch_blob_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent",failed_to_fetch_json_for_xma_share:"Failed execute MAWShareAttachment_LinkPreviewQuery for MAWShareAttachent",failed_to_parse_json_for_xma_share:"Failed to fetch blob xma data for MAWShareAttachent"};function l(a){return{defaultCTA:{actionUrl:d("MAWUnshimUrl").unshimUrl(a),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a),title:h._("__JHASH__l7kNV274w6c__JHASH__").toString()},linkType:"internal",overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE,preview_blob:void 0,title_text:h._("__JHASH__2usVu04y012__JHASH__").toString()}}function m(a){var b=Object.entries(c("LSXmaContentType")).find(function(b){var c=b[0];b=b[1];return a===b&&d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[c]!=null});b=b!=null?d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE[b[0]]:void 0;if(b===void 0)return void 0;if(!d("MAWParseXMAFBConfig").isFBSupportedTargetType(b)){c("FBLogger")("messenger_web_sharing").mustfix("Unsupported XMA Target Type in sending path: "+b);return d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE}return b}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g;try{g=JSON.parse(e)}catch(a){throw c("FBLogger")("messenger_web_sharing").catching(a).mustfixThrow(k.failed_to_parse_json_for_xma_share)}e=g;var h=e.action_url,i=e.ctas,l=e.default_cta_title,n=e.favicon_url,o=e.header_image_url,p=e.header_title,q=e.image_url,r=e.preview_url,s=e.subtitle_text,t=e.title_text;e=e.xma_content_type;var u=e;e=(yield (j||(j=b("Promise"))).all([[(n==null?void 0:n.startsWith("ls"))===!0?null:n,"favicon"],[q,"image"],[r,"preview"],[o,"header_image"]].map(function(a){return d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"MAWFetchXMAData_"+a[1],url:a[0],xmaContentType:u}).then(function(a){return(a=a)!=null?a:void 0})}))["catch"](function(a){f.forEach(function(a){d("sendToSentQPLLogger").markSendToSentFail(a,"failed_to_fetch_blob_for_xma_share")});c("FBLogger")("messenger_web_sharing").catching(a).mustfix(k.failed_to_fetch_blob_for_xma_share);return[void 0,void 0,void 0,void 0]}));n=e[0];q=e[1];r=e[2];o=e[3];e=i;i=m(u);var v=e==null?void 0:e[0];h=d("MAWUnshimUrl").unshimUrl((h=(h=h)!=null?h:v==null?void 0:v.action_url)!=null?h:a);a=d("MAWUnshimUrl").unshimUrl((v==null?void 0:v.native_url)!=null&&(v==null?void 0:v.native_url)!==""?v==null?void 0:v.native_url:h);h={actionUrl:h,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a,title:(v=l)!=null?v:void 0};return{ctas:e==null?void 0:e.map(function(a){return{actionUrl:d("MAWUnshimUrl").unshimUrl(a.action_url!=null&&a.action_url!==""?a.action_url:void 0),buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:d("MAWUnshimUrl").unshimUrl(a.native_url!=null&&a.native_url!==""?a.native_url:void 0),title:(a=a.title)!=null?a:void 0}}),defaultCTA:h,favicon_blob:n,header_image_blob:o,header_title:(a=p)!=null?a:void 0,image_blob:q,linkType:"internal",preview_blob:r,subtitle_text:(l=s)!=null?l:void 0,title_text:(v=t)!=null?v:void 0,xma_message_type:i}});return o.apply(this,arguments)}function p(a,c){return d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MAWFetchXMAData_LinkPreviewQuery.graphql"),{url:c}).toPromise()}function a(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=d("ConstUriUtils").getUri(b);b=b==null?void 0:(b=b.setSubDomain("www"))==null?void 0:b.toString();if(b==null)return{linkType:"unknown"};e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_start")});a=(yield p(a,b)["catch"](function(a){e.forEach(function(b){d("sendToSentQPLLogger").markSendToSentFail(b,"failed_to_fetch_json_for_xma_share",a)}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix(k.failed_to_fetch_json_for_xma_share)}));e.forEach(function(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"fetch_json_for_xma_share_end")});if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"empty"}})});return{linkType:"unknown"}}a=a.post_reshare_xma;if(a==null){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"external"}})});return{linkType:"external"}}if(a==="private"){e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"private"}})});return l(b)}e.forEach(function(a){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{xma_data_result:"public"}})});return n(b,a,e)});return q.apply(this,arguments)}function e(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=a.favicon_blob,f=a.header_image_blob,g=a.overlayIconGlyph;a=a.preview_blob;a=a==null?void 0:new File([a],"preview",{type:a.type});e=e==null?void 0:new File([e],"favicon",{type:e.type});f=f==null?void 0:new File([f],"header",{type:f.type});g=g===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE?(j||(j=b("Promise"))).resolve({height:2,width:2}):a!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(a):(j||(j=b("Promise"))).resolve();var h=e!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(e):(j||(j=b("Promise"))).resolve(),i=f!=null?d("MAWGetImageSpec").getImageSpec_DEPRECATED(f):(j||(j=b("Promise"))).resolve();g=(yield (j||(j=b("Promise"))).all([g,h,i]));h=g[0];i=g[1];g=g[2];d("sendToSentQPLLogger").markSendToSentPoint(c,"preview_favicon_spec_ready");c=a==null||h==null?void 0:{file:a,height:h.height,width:h.width};a=e==null||i==null?void 0:{file:e,height:i.height,width:i.width};h=f==null||g==null?void 0:{file:f,height:g.height,width:g.width};return{faviconFileArgs:a,headerImageFileArgs:h,previewFileArgs:c}});return r.apply(this,arguments)}g.XMA_DATA_ERRORS=k;g.fetchXMAData=a;g.makeXMAFileArgs=e}),226);
__d("MAWGetProtocolMsgIdByMsgIdInUI",["MAWBridgeSendAndReceive","cr:11152","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return b("cr:11152")!=null&&c("gkx")("8564")?b("cr:11152").MAWGetProtocolMsgIdByMsgIdInUIIDB(a):h(a)};var h=function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:a})};g.getProtocolMsgIdByMsgIdUI=a}),98);
__d("MAWMarkMessageSendAsFailedLSDB",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e,f,g){return(d=f==null?void 0:f.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:e,isRetryable:g,optimisticMid:a})});return function(a){return d.apply(this,arguments)}}(),"readwrite"))!=null?d:(h||(h=b("Promise"))).resolve()}g.markMessageSendAsFailed=a}),98);
__d("MAWMessageSendReporterSideEffects",["I64","LSDatabaseSingleton","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler","MAWFolderTypes","MAWFolderUtils","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("gkx")("8630"))return;var e=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c,e=(yield (c=d("ReQL")).firstExnAsync(c.fromTableAscending(b.messages.index("optimistic")).getKeyRange(a.externalId)));c=(yield c.firstExnAsync(c.fromTableAscending(b.threads).getKeyRange(e.threadKey)));var f=c.clientThreadKey,g=c.consistentThreadFbid;c=c.folderName;yield d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler").call(b,{bumpTimestampMs:e.timestampMs,creationSource:"outgoing_message_from_current_tab",folderId:(b=d("MAWFolderUtils").folderTagToFolderId(c))!=null?b:d("MAWFolderTypes").FOLDER_ID.OTHER,jid:a.chatJid,threadKeys:{authoritative:g==null?null:(i||(i=d("I64"))).to_string(g),optimistic:f==null?null:(i||(i=d("I64"))).to_string(f)}})});return function(a){return c.apply(this,arguments)}}(),"readonly",void 0,void 0,f.id+":31")});return j.apply(this,arguments)}g.afterSendSideEffects=a}),98);
__d("MAWMessageSendReporter",["FBLogger","MAWMessageSendReporterSideEffects","MAWReportSendMessageSuccessResult","MWLogSendToSentFailedError","QPLUserFlow","QuickPerformanceLogger","WAGetSafeQPLError","asyncToGeneratorRuntime","cr:12058","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=e.qplEventType;e=e.qplInstanceKey;try{b=(yield b);if(b.success)b.value!=null?d("MAWReportSendMessageSuccessResult").reportSendMessageSuccessResultFn(b.value):c("QPLUserFlow").addPoint(g,"no-op",{instanceKey:e}),c("QPLUserFlow").endSuccess(g,{instanceKey:e}),b.value!=null&&(yield d("MAWMessageSendReporterSideEffects").afterSendSideEffects(b.value));else{var i,k=b.error.isRetriable===!0;c("MWLogSendToSentFailedError")((h||(h=c("QuickPerformanceLogger"))).getMarker(g,e),b.error.type);c("QPLUserFlow").endFailure(g,b.error.type,{annotations:{bool:{isRetriable:(i=b.error.isRetriable)!=null?i:!1},"int":{errorCode:(i=b.error.errorCode)!=null?i:0},string:{details:(i=b.error.details)!=null?i:""}},instanceKey:e});j(a,k,f)}}catch(b){c("MWLogSendToSentFailedError")((h||(h=c("QuickPerformanceLogger"))).getMarker(g,e),"runtime-failure",b),c("QPLUserFlow").endFailure(g,"runtime-failure",{annotations:{string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(b)}},instanceKey:e}),j(a,!1,f,b),c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("MAWMessageSendReporter")}});return i.apply(this,arguments)}function j(a,e,f,g){if(a==null)return;var h=a.chatJid;a=a.externalId;c("promiseDone")(b("cr:12058").markMessageSendAsFailed(a,h,d("WAGetSafeQPLError").getSafeQPLErrorMessage(g),f,e))}g.MAWMessageSendReporter=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a.tables,b,c,d)})}g["default"]=a}),98);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:12366","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12366")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:12368","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12368")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatMediaViewerNavigationTapTarget.react",["CometTrackingNodeProvider.react","Locale","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=d("Locale").isRTL(),m={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},invisible:{opacity:"xg01cxk",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",visibility:"xlshs6z",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1hc1fzr",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x1jl3cmp",transitionTimingFunction:"x1dhq9h",willChange:"xfwg19i",zIndex:"x1vjfegm",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=j(15),d=a.direction,e=a.invisible,f=a.label,g=a.onClick,i=a.testid;a=a.trackingNode;e=e===void 0?!1:e;var n=l?c("MWXIconChevronRight"):c("MWXIconChevronLeft"),o=l?c("MWXIconChevronLeft"):c("MWXIconChevronRight"),p;b[0]!==d?(p=function(a){a=a.hovered;return k.jsx("div",{className:(h||(h=c("stylex")))(m.navButton,m.buttonContainerBackground,a&&(d==="previous"?m.buttonContainerHoverLeft:m.buttonContainerHoverRight)),children:k.jsx("div",{className:"x6s0dn4 x1l31dnx x14yjl9h xudhj91 x18nykt9 xww2gxu x1qeybcx x78zum5 x1vqgdyp xl56j7k x100vrsf",children:k.jsx(c("MWXIconStrict.react"),{icon:d==="previous"?n:o,size:20})})})},b[0]=d,b[1]=p):p=b[1];var q;b[2]!==f||b[3]!==g||b[4]!==i||b[5]!==p?(q=k.jsx(c("MWXPressable.react"),{"aria-label":f,focusable:!1,onPress:g,testid:void 0,xstyle:m.tapTargetOverlay,children:p}),b[2]=f,b[3]=g,b[4]=i,b[5]=p,b[6]=q):q=b[6];f=q;g=e&&m.invisible;b[7]!==g?(i=(h||(h=c("stylex")))(m.root,g,m.fullHeight),b[7]=g,b[8]=i):i=b[8];b[9]!==a||b[10]!==f?(p=a!=null?k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:a,children:f}):f,b[9]=a,b[10]=f,b[11]=p):p=b[11];b[12]!==i||b[13]!==p?(q=k.jsx("div",{className:i,children:p}),b[12]=i,b[13]=p,b[14]=q):q=b[14];return q}g["default"]=a}),98);
__d("MWThumbnailDurationPill",["getFormattedTimestamp","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={durationDisplay:{alignItems:"x6s0dn4",fontSize:"x1ncwhqj",paddingTop:"x1nn3v0j",paddingEnd:"xsyo7zv",paddingBottom:"x1120s5i",paddingStart:"x16hj40l",position:"x10l6tqk",verticalAlign:"xxymvpz",$$css:!0},largeThumbnailSpacing:{bottom:"xqo3gd",end:"x1923su1",$$css:!0},newStyle:{backgroundColor:"x18l40ae",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",color:"x14ctfv",$$css:!0},oldStyle:{backgroundColor:"xal61yo",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",bottom:"xrb244j",color:"x14ctfv",end:"x4r51d9",$$css:!0},smallThumbnailSpacing:{bottom:"xbfrwjf",end:"xlr8s2x",$$css:!0}};function a(a){var b=j(7),d=a.spacing;a=a.videoDuration;var e;b[0]!==d?(e=(h||(h=c("stylex")))([l.durationDisplay].concat(c("gkx")("8622")?[l.newStyle,d==="TIGHT"?l.smallThumbnailSpacing:l.largeThumbnailSpacing]:[l.oldStyle])),b[0]=d,b[1]=e):e=b[1];b[2]!==a?(d=c("getFormattedTimestamp")(a),b[2]=a,b[3]=d):d=b[3];b[4]!==e||b[5]!==d?(a=k.jsx("div",{className:e,children:d}),b[4]=e,b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWChatVideoPlayerControls.react",["MWThumbnailDurationPill","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","cr:10680","gkx","justknobx","react","useVideoPlayerDefaultControlsVisibility","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function l(a){var b=j(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x12y6twl x1g0ag68",b[0]=c):c=b[0];b[1]!==a?(c=k.jsx("span",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var e=j(15),f=a.hideExpandButton;a=a.isMediaViewer;var g=c("useVideoPlayerDefaultControlsVisibility")(),h=g.isControlsVisible;g=g.onUserInteraction;var m=(i||(i=d("VideoPlayerHooks"))).usePaused(),n;e[0]!==m?(n={forceVisible:m},e[0]=m,e[1]=n):n=e[1];m=b("cr:10680")(n);n=m.bigPlayButtonElement;m=m.bigPlayButtonIsVisible;var o=i.useIsFullscreen(),p=i.useDuration(),q=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),r=i.usePlaying(),s=i.useEnded();q=!q&&!r||s;r=c("gkx")("5808")?h:h&&!m;e[2]!==o||e[3]!==g||e[4]!==q||e[5]!==p||e[6]!==a||e[7]!==f?(s=o?k.jsxs(k.Fragment,{children:[k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[k.jsx(c("VideoPlayerPlaybackControl.react"),{}),k.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[k.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g}),k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})]})]}):c("gkx")("8623")&&q?k.jsx(c("MWThumbnailDurationPill"),{spacing:"WIDE",videoDuration:p}):k.jsxs(k.Fragment,{children:[k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[c("justknobx")._("2253")&&a===!0?k.jsx(c("VideoPlayerPlaybackTimer.react"),{}):null,k.jsx(l,{children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})})]}),k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[f?null:k.jsx(l,{children:k.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g})}),k.jsx(l,{children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})})]})]}),e[2]=o,e[3]=g,e[4]=q,e[5]=p,e[6]=a,e[7]=f,e[8]=s):s=e[8];e[9]!==r||e[10]!==s?(h=k.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:r,children:s}),e[9]=r,e[10]=s,e[11]=h):h=e[11];m=h;e[12]!==n||e[13]!==m?(o=k.jsxs(k.Fragment,{children:[n,m]}),e[12]=n,e[13]=m,e[14]=o):o=e[14];return o}g["default"]=a}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useEffect,l=b.useRef,m=b.c;function a(a){var b=m(5),e=a.context,f=a.mediaRenderQpl,g=(j||(j=d("VideoPlayerHooks"))).useController(),i=l(),n;b[0]!==f||b[1]!==e||b[2]!==g?(a=function(){f==null?void 0:f.addPoint("setup-video-media-render-qpl",{string:{context:e}});var a=function(){var a=g.getCurrentState();if(a.error!=null){var b=a.error.errorName,d=a.error.errorType,j=a.error.errorMessageFormat+" - "+a.error.errorMessageParams.join(",");f==null?void 0:f.endFail("load-video-error",{string:{video_error_message:j,video_error_name:b,video_error_type:d}});c("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",e,j);(b=i.current)==null?void 0:b.remove()}d=a.domEventsLatestPerfMs.loadeddata!=null&&a.domEventsLatestPerfMs.loadeddata>0;d&&(f==null?void 0:f.addPoint("video-state-loaded-data"));j=a.domEventsLatestPerfMs.loadedmetadata!=null&&a.domEventsLatestPerfMs.loadedmetadata>0;j&&(f==null?void 0:f.addPoint("video-state-loaded-metadata"));d=(b=g.internal_getStateMachineState())==null?void 0:b.uncontrolledState;j=d==null?void 0:d.videoElementReadyState;j!=null&&j>0&&(f==null?void 0:f.addPoint("video-state-ready-state",{"int":{ready_state:j}}));b=a.domEventsLatestPerfMs.canplay!=null&&a.domEventsLatestPerfMs.canplay>0;if(b){var k=(h||(h=c("performanceAbsoluteNow")))();f==null?void 0:f.addPoint("video-state-can-play");c("setTimeout")(function(){var a;f==null?void 0:f.endSuccess(void 0,k);(a=i.current)==null?void 0:a.remove()},500)}};i.current=g.subscribe(function(){a()});a();return function(){var a;(a=i.current)==null?void 0:a.remove()}},n=[e,f,g],b[0]=f,b[1]=e,b[2]=g,b[3]=a,b[4]=n):(a=b[3],n=b[4]);k(a,n);return null}g["default"]=a}),98);
__d("MWVideoPlayerControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({ref:{current:null}});g["default"]=b}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","CometVideoPlayerLoggingConfigForMWChat","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","MWSetupMediaRenderQpl.react","MWVideoPlayerControllerContext.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","gkx","react","useVideoPlayerClickToPauseInteraction","useVideoPlayerClickToPlayInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m=b.c,n={link_context:null,navChainContent:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},o=-1;function p(a){var b=m(10),e=a.controls,f=a.hideExpandButton,g=a.isMediaViewer;a=a.shouldForcePauseOnClick;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={shouldUnmute:!0},b[0]=h):h=b[0];h=c("useVideoPlayerClickToPlayInteraction")(h);var k=c("useVideoPlayerClickToPauseInteraction")(),l=(i||(i=d("VideoPlayerHooks"))).usePaused();l=l&&!a?h:k;b[1]!==l?(a=j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:l}),b[1]=l,b[2]=a):a=b[2];b[3]!==e||b[4]!==f||b[5]!==g?(h=q(e,f,g),b[3]=e,b[4]=f,b[5]=g,b[6]=h):h=b[6];b[7]!==a||b[8]!==h?(k=j.jsxs(j.Fragment,{children:[a,h]}),b[7]=a,b[8]=h,b[9]=k):k=b[9];return k}var q=function(a,b,d){switch(a){case"mwchat":return j.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0,isMediaViewer:d===!0});case"default":return j.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}},r=function(a){return a!=null?function(b){return{objectFit:a}}:null};function s(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return function(){e.ref.current=null}},[e,b]);return a}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=m(42),e=a.autoPlaySetting,f=a.controls,g=a.errorBoundaryFallback,h=a.fbid,i=a.hdSrc,k=a.hideExpandButton,q=a.initialForceHD,t=a.isMediaViewer,u=a.loopCount,v=a.mediaRenderQpl,w=a.originalHeight,x=a.originalWidth,y=a.pixelsFit,z=a.sdSrc,A=a.shouldForcePauseOnClick,B=a.startTimestamp;a=a.volumeSetting;var C=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();q=(q=q)!=null?q:!1;var D;b[0]!==i||b[1]!==q||b[2]!==z?(D=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:i,hdSrcPreferred:q,sdSrc:z}),b[0]=i,b[1]=q,b[2]=z,b[3]=D):D=b[3];var E=D;b[4]!==v||b[5]!==E?(i=function(){v==null?void 0:v.addPoint("render-chat-video-player"),E instanceof Error&&(v==null?void 0:v.endFail("load-video-player-error",{string:{player_implementation_error_message:E.message,player_implementation_error_name:E.name}}))},q=[E,v],b[4]=v,b[5]=E,b[6]=i,b[7]=q):(i=b[6],q=b[7]);l(i,q);if(E instanceof Error){b[8]!==g?(z=c("gkx")("5619")?g==null?void 0:g():null,b[8]=g,b[9]=z):z=b[9];return z}b[10]!==E?(D=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:E,typename:"VideoPlayerProgressiveImplementation"}],b[10]=E,b[11]=D):D=b[11];i=D;z=(q=e)!=null?q:C;b[12]!==z?(D=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",z,!0),"respect_user_settings",null),b[12]=z,b[13]=D):D=b[13];e=D;b[14]!==x||b[15]!==w?(q=c("computeAspectRatio")(x,w),b[14]=x,b[15]=w,b[16]=q):q=b[16];C=q;z=c("gkx")("5619")?g:void 0;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(D=d("CometVideoPlayerLoggingConfigForMWChat").createCometVideoPlayerLoggingConfigForMWChat(),b[17]=D):D=b[17];w=(x=u)!=null?x:o;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(q={v2:[d("CometProductAttribution").getProductAttributionEntryV2(n)]},b[18]=q):q=b[18];b[19]!==y?(g=r(y),b[19]=y,b[20]=g):g=b[20];b[21]!==v?(u=j.jsx(c("MWSetupMediaRenderQpl.react"),{context:"MWChat",mediaRenderQpl:v}),b[21]=v,b[22]=u):u=b[22];x=k===!0;y=t===!0;b[23]!==f||b[24]!==x||b[25]!==y||b[26]!==A?(k=j.jsx(s,{children:j.jsx(p,{controls:f,hideExpandButton:x,isMediaViewer:y,shouldForcePauseOnClick:A})}),b[23]=f,b[24]=x,b[25]=y,b[26]=A,b[27]=k):k=b[27];b[28]!==u||b[29]!==k?(t=j.jsxs(c("VideoPlayerSurface.react"),{children:[u,k]}),b[28]=u,b[29]=k,b[30]=t):t=b[30];b[31]!==e||b[32]!==z||b[33]!==i||b[34]!==h||b[35]!==w||b[36]!==g||b[37]!==B||b[38]!==C||b[39]!==a||b[40]!==t?(f=j.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},e,{errorBoundaryFallback:z,implementations:i,key:h,loggingConfig:D,loopCount:w,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:q,renderVideoPixelsFit:g,startTimestamp:B,subOrigin:"messenger_thread",videoFBID:h,videoPixelsAspectRatio:C,volumeSetting:a}),t),b[31]=e,b[32]=z,b[33]=i,b[34]=h,b[35]=w,b[36]=g,b[37]=B,b[38]=C,b[39]=a,b[40]=t,b[41]=f):f=b[41];return f}g["default"]=a}),98);
__d("MWInboxMessageSearchStatusTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IN_PROGRESS","COMPLETE","NOT_RUNNING","NOT_REQUIRED"]);c=b("$InternalEnum").Mirrored(["IN_PROGRESS","COMPLETE","NOT_STARTED"]);d=b("$InternalEnum").Mirrored(["NOT_STARTED","IN_PROGRESS","COMPLETE","FAILED"]);f.RestoreStatus=a;f.OverallStatus=c;f.PrimarySearchStatus=d}),66);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=c("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),k=c("qpl")._(25298743,"1403"),l=6e3*10;function a(){var a=i(1),b=o,c=n,d=m;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={endCancel:d,endSuccess:c,startFlow:b},a[0]=d):d=a[0];return d}function m(a){j.onReadyImmediately(function(b){b.endCancel(k,{cancelReason:a})})}function n(a){j.onReadyImmediately(function(b){b.endSuccess(k,{annotations:a})})}function o(a){var b=a.attachmentType,c=a.entryPoint;a=a.isSecure;var d={attachmentType:b,entryPoint:c,isSecure:((b=a)!=null?b:!1).toString()};j.onReadyImmediately(function(a){a.start(k,{annotations:{string:babelHelpers["extends"]({},d)},cancelOnUnload:!0,timeoutInMs:l})})}g.useMWMediaViewerOpenQPLLogger=a}),98);