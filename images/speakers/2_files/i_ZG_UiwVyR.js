;/*FB_PKG_DELIM*/

__d("LSClearAllPublicChatEventStartAndEndTimes",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxClearAllPublicChatEventStartAndEndTimesStoredProcedure";e.exports=a}),null);
__d("getChatJidForLSDBJid",["I64","LSMessagingThreadTypeUtil","ReQL","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(a!=null){b=(h||(h=d("I64"))).to_string(c);return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)?d("WAJids").toGroupJid(b):d("WAJids").toMsgrUserJid(b)}});return i.apply(this,arguments)}g.getMaybeChatJidForLSDBJid=a}),98);
__d("LSShimCompleteThreadCutover.nop",["I64","MAWBridgeFireAndForget","ReQL","asyncToGeneratorRuntime","getChatJidForLSDBJid"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.cutover_threads).getKeyRange(e)));if(b!=null){c=b.showOpenMessageHistory===!1;if(c)return[(h||(h=d("I64"))).one];c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b.armadilloThreadId)));if(c!=null){b=(yield d("getChatJidForLSDBJid").getMaybeChatJidForLSDBJid(a,c.serverThreadKey,c.jid));if(b==null)return[(h||(h=d("I64"))).one];d("MAWBridgeFireAndForget").fireAndForget("backend","insertAdminMessageInCutoverThreads",{openThreadId:(h||(h=d("I64"))).to_string(e),threadJid:b,traceId:f});return[h.zero]}return[(h||(h=d("I64"))).one]}return[(h||(h=d("I64"))).one]});function c(b,c,d,e,f){return a.apply(this,arguments)}return c}();g["default"]=a}),98);
__d("LSCompleteThreadCutover",["LSShimCompleteThreadCutover.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.nativeOperation(b("LSShimCompleteThreadCutover.nop"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCompleteThreadCutoverStoredProcedure";e.exports=a}),null);
__d("LSDeleteAllPublicChatFbEventData",["LSClearAllPublicChatEventStartAndEndTimes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(a){return c.storedProcedure(b("LSClearAllPublicChatEventStartAndEndTimes"))},function(a){return c.resolve(d)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteAllPublicChatFbEventDataStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertProactiveWarningSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.db.table(183).put({threadKey:a[0],nextCheckTimestampMs:a[2],token:a[3],tag:a[4],storyLocation:a[5],entryPoint:a[6],context:a[7],suspectId:a[1]}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSProactiveWarningsDeleteThenInsertProactiveWarningSettingsStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertRankingRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(135).put({scoreType:a[0],requestId:a[1]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSRankingDeleteThenInsertRankingRequestStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertRankingScore",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(134).put({contactId:a[0],scoreType:a[1],contactType:a[2],score:a[3],scoreIndex:a[4]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSRankingDeleteThenInsertRankingScoreStoredProcedure";e.exports=a}),null);
__d("LSSetBotResponseInfo",["LSArrayGetObjectAt","LSDeserializeFromJsonIntoDictionaryV2.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.metadataDataclass)})},function(e){return d[0]!==void 0?c.sequence([function(a){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),d[0]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return d[3]=new c.Map(),d[60]="sticker",d[4]=d[2].get(d[60]),d[2],d[4]?d[5]=!1:d[5]=!0,d[5]?0:(d[4]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[95]="sticker_pack_id",d[91]=d[4].get(d[95]),d[4],d[91]!==void 0?d[90].set(d[95],d[91]):0,d[96]="sticker_id",d[92]=d[4].get(d[96]),d[4],d[92]!==void 0?d[90].set(d[96],d[92]):0,d[97]="avatar_style",d[93]=d[4].get(d[97]),d[4],d[93]!==void 0?d[90].set(d[97],d[93]):0,d[98]="avatar_revision_id",d[94]=d[4].get(d[98]),d[4],d[94]!==void 0?(d[94]!==void 0?d[99]=c.i64.from_string(d[94]):d[99]=void 0,d[90].set(d[98],d[99])):0,d[89]=d[90]),d[3].set(d[60],d[89])),d[61]="word_effects",d[6]=d[2].get(d[61]),d[2],d[6]?d[7]=!1:d[7]=!0,d[7]?c.resolve():c.sequence([function(a){return d[6]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[97]="magic_word_offsets",d[91]=d[6].get(d[97]),d[6],d[91]?d[92]=!1:d[92]=!0,d[92]?c.resolve():c.sequence([function(a){return d[100]=c.createArray(),d[101]=c.i64.of_int32(d[91].length),c.i64.gt(d[101],c.i64.cast([0,0]))?c.loopAsync(d[101],function(a){return d[102]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[91],d[102]).then(function(a){return a=a,d[103]=a[0],d[104]=a[1],a})},function(a){return d[105]=(d[100].push(d[103]),d[100])}])}):c.resolve()},function(a){return d[90].set(d[97],d[100])}])},function(a){return d[98]="magic_word_lengths",d[93]=d[6].get(d[98]),d[6],d[93]?d[94]=!1:d[94]=!0,d[94]?c.resolve():c.sequence([function(a){return d[100]=c.createArray(),d[101]=c.i64.of_int32(d[93].length),c.i64.gt(d[101],c.i64.cast([0,0]))?c.loopAsync(d[101],function(a){return d[102]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[93],d[102]).then(function(a){return a=a,d[103]=a[0],d[104]=a[1],a})},function(a){return d[105]=(d[100].push(d[103]),d[100])}])}):c.resolve()},function(a){return d[90].set(d[98],d[100])}])},function(a){return d[99]="magic_word_emojis",d[95]=d[6].get(d[99]),d[6],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[95]?d[100]=!1:d[100]=!0,d[100]?c.resolve(d[101]=void 0):c.sequence([function(a){return d[102]=c.createArray(),d[103]=c.i64.of_int32(d[95].length),c.i64.gt(d[103],c.i64.cast([0,0]))?c.loopAsync(d[103],function(a){return d[104]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],d[104]).then(function(a){return a=a,d[105]=a[0],d[106]=a[1],a})},function(a){return d[107]=(d[102].push(d[105]),d[102])}])}):c.resolve()},function(a){return d[101]=d[102]}])},function(a){return d[90].set(d[99],d[101])}])},function(a){return d[89]=d[90]}])},function(a){return d[3].set(d[61],d[89])}])},function(a){return d[62]="ig_avatar_sticker",d[8]=d[2].get(d[62]),d[2],d[8]?d[9]=!1:d[9]=!0,d[9]?0:(d[8]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="is_avatar_sticker",d[91]=d[8].get(d[92]),d[8],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[62],d[89])),d[63]="power_up",d[10]=d[2].get(d[63]),d[2],d[10]?d[11]=!1:d[11]=!0,d[11]?0:(d[10]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="power_up_style",d[91]=d[10].get(d[92]),d[10],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[63],d[89])),d[64]="ai_bot",d[12]=d[2].get(d[64]),d[2],d[12]?d[13]=!1:d[13]=!0,d[13]?c.resolve():c.sequence([function(a){return d[12]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[119]="response_id",d[91]=d[12].get(d[119]),d[12],d[91]!==void 0?d[90].set(d[119],d[91]):0,d[120]="bot_action",d[92]=d[12].get(d[120]),d[12],d[92]!==void 0?d[90].set(d[120],d[92]):0,d[121]="sentiment",d[93]=d[12].get(d[121]),d[12],d[93]!==void 0?d[90].set(d[121],d[93]):0,d[122]="sentiment_intensity",d[94]=d[12].get(d[122]),d[12],d[94]!==void 0?d[90].set(d[122],d[94]):0,d[123]="imagine_media_id",d[95]=d[12].get(d[123]),d[12],d[95]!==void 0?(d[95]!==void 0?d[144]=c.i64.from_string(d[95]):d[144]=void 0,d[90].set(d[123],d[144])):0,d[124]="bot_action_int",d[96]=d[12].get(d[124]),d[12],c.i64.neq(d[96],void 0)?d[90].set(d[124],d[96]):0,d[125]="sentiment_int",d[97]=d[12].get(d[125]),d[12],c.i64.neq(d[97],void 0)?d[90].set(d[125],d[97]):0,d[126]="sentiment_intensity_int",d[98]=d[12].get(d[126]),d[12],c.i64.neq(d[98],void 0)?d[90].set(d[126],d[98]):0,d[127]="bot_invocation_message_id",d[99]=d[12].get(d[127]),d[12],d[99]!==void 0?d[90].set(d[127],d[99]):0,d[128]="bot_response_id",d[100]=d[12].get(d[128]),d[12],d[100]!==void 0?d[90].set(d[128],d[100]):0,d[129]="bot_invocation_message_otid",d[101]=d[12].get(d[129]),d[12],d[101]!==void 0?d[90].set(d[129],d[101]):0,d[130]="bot_invocation_logging_id",d[102]=d[12].get(d[130]),d[12],d[102]!==void 0?d[90].set(d[130],d[102]):0,d[131]="bot_invocation_sender_id",d[103]=d[12].get(d[131]),d[12],d[103]!==void 0?d[90].set(d[131],d[103]):0,d[132]="is_error",d[104]=d[12].get(d[132]),d[12],d[104]!==void 0?d[90].set(d[132],d[104]):0,d[133]="bot_subscription_id",d[105]=d[12].get(d[133]),d[12],d[105]!==void 0?(d[105]!==void 0?d[144]=c.i64.from_string(d[105]):d[144]=void 0,d[90].set(d[133],d[144])):0,d[134]="bot_subscription_product_type",d[106]=d[12].get(d[134]),d[12],d[106]!==void 0?d[90].set(d[134],d[106]):0,d[135]="bot_response_product_type",d[107]=d[12].get(d[135]),d[12],d[107]!==void 0?d[90].set(d[135],d[107]):0,d[136]="original_prompt_text",d[108]=d[12].get(d[136]),d[12],d[108]!==void 0?d[90].set(d[136],d[108]):0,d[137]="bot_response_additional_message_otids",d[109]=d[12].get(d[137]),d[12],d[109]?d[110]=!1:d[110]=!0,d[110]?c.resolve():c.sequence([function(a){return d[109]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[109].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[109],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[90].set(d[137],d[145])}])},function(a){return d[138]="imagine_media_info",d[111]=d[12].get(d[138]),d[12],d[111]?d[112]=!1:d[112]=!0,d[112]?c.resolve():c.sequence([function(a){return d[111]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[111].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[111],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=new c.Map(),d[155]="imagine_media_id",d[152]=d[149].get(d[155]),d[149],d[152]!==void 0?(d[152]!==void 0?d[158]=c.i64.from_string(d[152]):d[158]=void 0,d[151].set(d[155],d[158])):0,d[156]="editable",d[153]=d[149].get(d[156]),d[149],d[153]!==void 0?d[151].set(d[156],d[153]):0,d[157]="animatable",d[154]=d[149].get(d[157]),d[149],d[154]!==void 0?d[151].set(d[157],d[154]):0,d[158]=(d[146].push(d[151]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[90].set(d[138],d[145])}])},function(a){return d[139]="groups_ugc_metadata",d[113]=d[12].get(d[139]),d[12],d[113]?d[114]=!1:d[114]=!0,d[114]?0:(d[113]?d[144]=!1:d[144]=!0,d[144]?d[145]=void 0:(d[146]=new c.Map(),d[148]="share_to_comment_uri",d[147]=d[113].get(d[148]),d[113],d[147]!==void 0?d[146].set(d[148],d[147]):0,d[145]=d[146]),d[90].set(d[139],d[145])),d[140]="bot_proactive_message_type",d[115]=d[12].get(d[140]),d[12],c.i64.neq(d[115],void 0)?d[90].set(d[140],d[115]):0,d[141]="conversation_header",d[116]=d[12].get(d[141]),d[12],d[116]!==void 0?d[90].set(d[141],d[116]):0,d[142]="stream_status",d[117]=d[12].get(d[142]),d[12],d[117]!==void 0?d[90].set(d[142],d[117]):0,d[143]="stream_status_type",d[118]=d[12].get(d[143]),d[12],d[118]!==void 0?d[90].set(d[143],d[118]):0,d[89]=d[90]}])},function(a){return d[3].set(d[64],d[89])}])},function(a){return d[65]="pobox",d[14]=d[2].get(d[65]),d[2],d[14]?d[15]=!1:d[15]=!0,d[15]?0:(d[14]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[93]="pobox_fbid",d[91]=d[14].get(d[93]),d[14],d[91]!==void 0?(d[91]!==void 0?d[95]=c.i64.from_string(d[91]):d[95]=void 0,d[90].set(d[93],d[95])):0,d[94]="pobox_id",d[92]=d[14].get(d[94]),d[14],d[92]!==void 0?d[90].set(d[94],d[92]):0,d[89]=d[90]),d[3].set(d[65],d[89])),d[66]="video",d[16]=d[2].get(d[66]),d[2],d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="unified_upload_mos",d[91]=d[16].get(d[92]),d[16],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[66],d[89])),d[67]="text_translation",d[18]=d[2].get(d[67]),d[2],d[18]?d[19]=!1:d[19]=!0,d[19]?0:(d[18]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[94]="translated_text",d[91]=d[18].get(d[94]),d[18],d[91]!==void 0?d[90].set(d[94],d[91]):0,d[95]="text_dialect",d[92]=d[18].get(d[95]),d[18],d[92]!==void 0?d[90].set(d[95],d[92]):0,d[96]="translated_text_dialect",d[93]=d[18].get(d[96]),d[18],d[93]!==void 0?d[90].set(d[96],d[93]):0,d[89]=d[90]),d[3].set(d[67],d[89])),d[68]="memories",d[20]=d[2].get(d[68]),d[2],d[20]?d[21]=!1:d[21]=!0,d[21]?c.resolve():c.sequence([function(a){return d[20]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[98]="original_message_id",d[91]=d[20].get(d[98]),d[20],d[91]!==void 0?d[90].set(d[98],d[91]):0,d[99]="original_message_creation_ts",d[92]=d[20].get(d[99]),d[20],d[92]!==void 0?(d[92]!==void 0?d[104]=c.i64.from_string(d[92]):d[104]=void 0,d[90].set(d[99],d[104])):0,d[100]="memory_server_id",d[93]=d[20].get(d[100]),d[20],d[93]!==void 0?(d[93]!==void 0?d[104]=c.i64.from_string(d[93]):d[104]=void 0,d[90].set(d[100],d[104])):0,d[101]="memory_template_type",d[94]=d[20].get(d[101]),d[20],d[94]!==void 0?d[90].set(d[101],d[94]):0,d[102]="memory_context_messages",d[95]=d[20].get(d[102]),d[20],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[95]?d[104]=!1:d[104]=!0,d[104]?c.resolve(d[105]=void 0):c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[95].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=new c.Map(),d[116]="sender_id",d[112]=d[109].get(d[116]),d[109],d[112]!==void 0?(d[112]!==void 0?d[119]=c.i64.from_string(d[112]):d[119]=void 0,d[111].set(d[116],d[119])):0,d[117]="message_text",d[113]=d[109].get(d[117]),d[109],d[113]!==void 0?d[111].set(d[117],d[113]):0,d[118]="reactions",d[114]=d[109].get(d[118]),d[109],d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[114]?d[119]=!1:d[119]=!0,d[119]?c.resolve(d[120]=void 0):c.sequence([function(a){return d[121]=c.createArray(),d[122]=c.i64.of_int32(d[114].length),c.i64.gt(d[122],c.i64.cast([0,0]))?c.loopAsync(d[122],function(a){return d[123]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[123]).then(function(a){return a=a,d[124]=a[0],d[125]=a[1],a})},function(a){return d[126]=(d[121].push(d[124]),d[121])}])}):c.resolve()},function(a){return d[120]=d[121]}])},function(a){return d[111].set(d[118],d[120])}])},function(a){return d[119]=(d[106].push(d[111]),d[106])}])}):c.resolve()},function(a){return d[105]=d[106]}])},function(a){return d[90].set(d[102],d[105])}])},function(a){return d[103]="is_memory_originating_thread",d[97]=d[20].get(d[103]),d[20],d[97]!==void 0?d[90].set(d[103],d[97]):0,d[89]=d[90]}])},function(a){return d[3].set(d[68],d[89])}])},function(a){return d[69]="command",d[22]=d[2].get(d[69]),d[2],d[22]?d[23]=!1:d[23]=!0,d[23]?0:(d[22]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="command_type",d[91]=d[22].get(d[92]),d[22],c.i64.neq(d[91],void 0)?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[69],d[89])),d[70]="admin_message",d[24]=d[2].get(d[70]),d[2],d[24]?d[25]=!1:d[25]=!0,d[25]?0:(d[24]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[101]="ad_client_token",d[91]=d[24].get(d[101]),d[24],d[91]!==void 0?d[90].set(d[101],d[91]):0,d[102]="ad_preference_url",d[92]=d[24].get(d[102]),d[24],d[92]!==void 0?d[90].set(d[102],d[92]):0,d[103]="ad_help_url",d[93]=d[24].get(d[103]),d[24],d[93]!==void 0?d[90].set(d[103],d[93]):0,d[104]="show_ad_choice_icon",d[94]=d[24].get(d[104]),d[24],d[94]!==void 0?d[90].set(d[104],d[94]):0,d[105]="title",d[95]=d[24].get(d[105]),d[24],d[95]!==void 0?d[90].set(d[105],d[95]):0,d[106]="action_url",d[96]=d[24].get(d[106]),d[24],d[96]!==void 0?d[90].set(d[106],d[96]):0,d[107]="admin_message_nickname_participant_id",d[97]=d[24].get(d[107]),d[24],d[97]!==void 0?(d[97]!==void 0?d[111]=c.i64.from_string(d[97]):d[111]=void 0,d[90].set(d[107],d[111])):0,d[108]="target_id",d[98]=d[24].get(d[108]),d[24],d[98]!==void 0?(d[98]!==void 0?d[111]=c.i64.from_string(d[98]):d[111]=void 0,d[90].set(d[108],d[111])):0,d[109]="target_title",d[99]=d[24].get(d[109]),d[24],d[99]!==void 0?d[90].set(d[109],d[99]):0,d[110]="identifier_name",d[100]=d[24].get(d[110]),d[24],d[100]!==void 0?d[90].set(d[110],d[100]):0,d[89]=d[90]),d[3].set(d[70],d[89])),d[71]="misinfo_metadata",d[26]=d[2].get(d[71]),d[2],d[26]?d[27]=!1:d[27]=!0,d[27]?0:(d[26]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[93]="has_misinfo",d[91]=d[26].get(d[93]),d[26],d[91]!==void 0?d[90].set(d[93],d[91]):0,d[94]="misinfo_source",d[92]=d[26].get(d[94]),d[26],d[92]!==void 0?d[90].set(d[94],d[92]):0,d[89]=d[90]),d[3].set(d[71],d[89])),d[72]="forwarded_message",d[28]=d[2].get(d[72]),d[2],d[28]?d[29]=!1:d[29]=!0,d[29]?0:(d[28]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[93]="forwarded_from_thread_name",d[91]=d[28].get(d[93]),d[28],d[91]!==void 0?d[90].set(d[93],d[91]):0,d[94]="forwarded_from_thread_url",d[92]=d[28].get(d[94]),d[28],d[92]!==void 0?d[90].set(d[94],d[92]):0,d[89]=d[90]),d[3].set(d[72],d[89])),d[73]="ai_metadata",d[30]=d[2].get(d[73]),d[2],d[30]?d[31]=!1:d[31]=!0,d[31]?0:(d[30]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[96]="is_ai_generated",d[91]=d[30].get(d[96]),d[30],d[91]!==void 0?d[90].set(d[96],d[91]):0,d[97]="gen_ai_integrity_ent_id",d[92]=d[30].get(d[97]),d[30],d[92]!==void 0?(d[92]!==void 0?d[101]=c.i64.from_string(d[92]):d[101]=void 0,d[90].set(d[97],d[101])):0,d[98]="ai_product",d[93]=d[30].get(d[98]),d[30],d[93]!==void 0?d[90].set(d[98],d[93]):0,d[99]="original_prompt_text",d[94]=d[30].get(d[99]),d[30],d[94]!==void 0?d[90].set(d[99],d[94]):0,d[100]="imagine_media_id",d[95]=d[30].get(d[100]),d[30],d[95]!==void 0?(d[95]!==void 0?d[101]=c.i64.from_string(d[95]):d[101]=void 0,d[90].set(d[100],d[101])):0,d[89]=d[90]),d[3].set(d[73],d[89])),d[74]="encrypted_message",d[32]=d[2].get(d[74]),d[2],d[32]?d[33]=!1:d[33]=!0,d[33]?c.resolve():c.sequence([function(a){return d[32]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[98]="thread_id",d[91]=d[32].get(d[98]),d[32],d[91]!==void 0?d[90].set(d[98],d[91]):0,d[99]="offline_threading_id",d[92]=d[32].get(d[99]),d[32],d[92]!==void 0?d[90].set(d[99],d[92]):0,d[100]="toplevel_payload",d[93]=d[32].get(d[100]),d[32],d[93]?d[94]=!1:d[94]=!0,d[94]?0:(d[103]=new c.Map(),d[109]="encrypted_payload",d[104]=d[93].get(d[109]),d[93],d[104]!==void 0?d[103].set(d[109],d[104]):0,d[110]="payloadTimestampMs",d[105]=d[93].get(d[110]),d[93],d[105]!==void 0?d[103].set(d[110],c.i64.from_string(d[105])):0,d[111]="encryption_version",d[106]=d[93].get(d[111]),d[93],c.i64.neq(d[106],void 0)?d[103].set(d[111],d[106]):0,d[112]="epoch_id",d[107]=d[93].get(d[112]),d[93],d[107]!==void 0?d[103].set(d[112],c.i64.from_string(d[107])):0,d[113]="epoch_anon_id",d[108]=d[93].get(d[113]),d[93],d[108]!==void 0?d[103].set(d[113],d[108]):0,d[90].set(d[100],d[103])),d[101]="supplemental_payloads",d[95]=d[32].get(d[101]),d[32],d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[103]=c.createArray(),d[104]=c.i64.of_int32(d[95].length),c.i64.gt(d[104],c.i64.cast([0,0]))?c.loopAsync(d[104],function(a){return d[105]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[95],d[105]).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return d[108]=new c.Map(),d[113]="encrypted_supplemental_key",d[109]=d[106].get(d[113]),d[106],d[109]!==void 0?d[108].set(d[113],d[109]):0,d[114]="supplemental_key_ciphertext",d[110]=d[106].get(d[114]),d[106],d[110]!==void 0?d[108].set(d[114],d[110]):0,d[115]="encrypted_supplemental_payload",d[111]=d[106].get(d[115]),d[106],d[111]?d[112]=!1:d[112]=!0,d[112]?0:(d[116]=new c.Map(),d[122]="encrypted_payload",d[117]=d[111].get(d[122]),d[111],d[117]!==void 0?d[116].set(d[122],d[117]):0,d[123]="payloadTimestampMs",d[118]=d[111].get(d[123]),d[111],d[118]!==void 0?d[116].set(d[123],c.i64.from_string(d[118])):0,d[124]="encryption_version",d[119]=d[111].get(d[124]),d[111],c.i64.neq(d[119],void 0)?d[116].set(d[124],d[119]):0,d[125]="epoch_id",d[120]=d[111].get(d[125]),d[111],d[120]!==void 0?d[116].set(d[125],c.i64.from_string(d[120])):0,d[126]="epoch_anon_id",d[121]=d[111].get(d[126]),d[111],d[121]!==void 0?d[116].set(d[126],d[121]):0,d[108].set(d[115],d[116])),d[116]=(d[103].push(d[108]),d[103])}])}):c.resolve()},function(a){return d[90].set(d[101],d[103])}])},function(a){return d[102]="is_open_eb",d[97]=d[32].get(d[102]),d[32],d[97]!==void 0?d[90].set(d[102],d[97]):0,d[89]=d[90]}])},function(a){return d[3].set(d[74],d[89])}])},function(a){return d[75]="rich_text",d[34]=d[2].get(d[75]),d[2],d[34]?d[35]=!1:d[35]=!0,d[35]?0:(d[34]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="rich_text_format_type",d[91]=d[34].get(d[92]),d[34],c.i64.neq(d[91],void 0)?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[75],d[89])),d[76]="content_logging_metadata",d[36]=d[2].get(d[76]),d[2],d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[95]="containing_post",d[91]=d[36].get(d[95]),d[36],d[91]?d[92]=!1:d[92]=!0,d[92]?c.resolve():c.sequence([function(a){return d[91]?d[97]=!1:d[97]=!0,d[97]?c.resolve(d[98]=void 0):c.sequence([function(a){return d[99]=new c.Map(),d[107]="key_type",d[100]=d[91].get(d[107]),d[91],d[100]!==void 0?d[99].set(d[107],d[100]):0,d[108]="fb_post_type",d[101]=d[91].get(d[108]),d[91],d[101]?d[102]=!1:d[102]=!0,d[102]?c.resolve():c.sequence([function(a){return d[101]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=c.createArray(),d[114]=c.i64.of_int32(d[101].length),c.i64.gt(d[114],c.i64.cast([0,0]))?c.loopAsync(d[114],function(a){return d[115]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[101],d[115]).then(function(a){return a=a,d[116]=a[0],d[117]=a[1],a})},function(a){return d[118]=(d[113].push(d[116]),d[113])}])}):c.resolve()},function(a){return d[112]=d[113]}])},function(a){return d[99].set(d[108],d[112])}])},function(a){return d[109]="photos",d[103]=d[91].get(d[109]),d[91],d[103]?d[104]=!1:d[104]=!0,d[104]?c.resolve():c.sequence([function(a){return d[103]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=c.createArray(),d[114]=c.i64.of_int32(d[103].length),c.i64.gt(d[114],c.i64.cast([0,0]))?c.loopAsync(d[114],function(a){return d[115]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[115]).then(function(a){return a=a,d[116]=a[0],d[117]=a[1],a})},function(a){return d[118]=new c.Map(),d[120]="key_type",d[119]=d[116].get(d[120]),d[116],d[119]!==void 0?d[118].set(d[120],d[119]):0,d[121]=(d[113].push(d[118]),d[113])}])}):c.resolve()},function(a){return d[112]=d[113]}])},function(a){return d[99].set(d[109],d[112])}])},function(a){return d[110]="videos",d[105]=d[91].get(d[110]),d[91],d[105]?d[106]=!1:d[106]=!0,d[106]?c.resolve():c.sequence([function(a){return d[105]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=c.createArray(),d[114]=c.i64.of_int32(d[105].length),c.i64.gt(d[114],c.i64.cast([0,0]))?c.loopAsync(d[114],function(a){return d[115]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[105],d[115]).then(function(a){return a=a,d[116]=a[0],d[117]=a[1],a})},function(a){return d[118]=new c.Map(),d[120]="key_type",d[119]=d[116].get(d[120]),d[116],d[119]!==void 0?d[118].set(d[120],d[119]):0,d[121]=(d[113].push(d[118]),d[113])}])}):c.resolve()},function(a){return d[112]=d[113]}])},function(a){return d[99].set(d[110],d[112])}])},function(a){return d[98]=d[99]}])},function(a){return d[90].set(d[95],d[98])}])},function(a){return d[96]="metadata",d[93]=d[36].get(d[96]),d[36],d[93]?d[94]=!1:d[94]=!0,d[94]?c.resolve():c.sequence([function(a){return d[93]?d[97]=!1:d[97]=!0,d[97]?c.resolve(d[98]=void 0):c.sequence([function(a){return d[99]=d[93].get("__typename"),d[93],d[99]==="XMSGGroupsContentLoggingMetadata"?c.resolve((d[101]=new c.Map(),d[103]="num_members",d[102]=d[93].get(d[103]),d[93],c.i64.neq(d[102],void 0)?d[101].set(d[103],d[102]):0,d[100]=d[101])):c.sequence([function(a){return d[99]==="XMSGStoriesContentLoggingMetadata"?c.resolve((d[102]=new c.Map(),d[107]="author",d[103]=d[93].get(d[107]),d[93],d[103]?d[104]=!1:d[104]=!0,d[104]?0:(d[103]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="profile",d[113]=d[103].get(d[115]),d[103],d[113]?d[114]=!1:d[114]=!0,d[114]?0:(d[113]?d[116]=!1:d[116]=!0,d[116]?d[117]=void 0:(d[118]=new c.Map(),d[120]="id",d[119]=d[113].get(d[120]),d[113],d[119]!==void 0?d[118].set(d[120],d[119]):0,d[117]=d[118]),d[112].set(d[115],d[117])),d[111]=d[112]),d[102].set(d[107],d[111])),d[108]="post_source",d[105]=d[93].get(d[108]),d[93],d[105]!==void 0?d[102].set(d[108],d[105]):0,d[109]="story_type",d[106]=d[93].get(d[109]),d[93],d[106]!==void 0?d[102].set(d[109],d[106]):0,d[101]=d[102])):c.sequence([function(a){return d[102]=new c.Map(),d[103]=d[93].keys(),d[104]=c.i64.of_int32(d[103].length),c.i64.gt(d[104],c.i64.cast([0,0]))?c.loopAsync(d[104],function(a){return d[105]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[103],d[105]).then(function(a){return a=a,d[106]=a[0],d[107]=a[1],a})},function(a){return d[108]=d[93].get(d[106]),d[93],d[102].set(d[106],d[108])}])}):c.resolve()},function(a){return d[101]=d[102]}])},function(a){return d[100]=d[101]}])},function(a){return d[100].set("__typename",d[99]),d[98]=d[100]}])},function(a){return d[90].set(d[96],d[98])}])},function(a){return d[89]=d[90]}])},function(a){return d[3].set(d[76],d[89])}])},function(a){return d[77]="suggested_moderation_actions",d[38]=d[2].get(d[77]),d[2],d[38]?d[39]=!1:d[39]=!0,d[39]?c.resolve():c.sequence([function(a){return d[38]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[94]="suggested_moderation_actions_list",d[91]=d[38].get(d[94]),d[38],d[91]?d[92]=!1:d[92]=!0,d[92]?c.resolve():c.sequence([function(a){return d[91]?d[96]=!1:d[96]=!0,d[96]?c.resolve(d[97]=void 0):c.sequence([function(a){return d[98]=new c.Map(),d[101]="suggested_moderation_actions",d[99]=d[91].get(d[101]),d[91],d[99]?d[100]=!1:d[100]=!0,d[100]?c.resolve():c.sequence([function(a){return d[99]?d[102]=!1:d[102]=!0,d[102]?c.resolve(d[103]=void 0):c.sequence([function(a){return d[104]=c.createArray(),d[105]=c.i64.of_int32(d[99].length),c.i64.gt(d[105],c.i64.cast([0,0]))?c.loopAsync(d[105],function(a){return d[106]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[99],d[106]).then(function(a){return a=a,d[107]=a[0],d[108]=a[1],a})},function(a){return d[109]=new c.Map(),d[112]="primary_action",d[110]=d[107].get(d[112]),d[107],d[110]!==void 0?d[109].set(d[112],d[110]):0,d[113]="chained_actions",d[111]=d[107].get(d[113]),d[107],d[111]!==void 0?d[109].set(d[113],d[111]):0,d[114]=(d[104].push(d[109]),d[104])}])}):c.resolve()},function(a){return d[103]=d[104]}])},function(a){return d[98].set(d[101],d[103])}])},function(a){return d[97]=d[98]}])},function(a){return d[90].set(d[94],d[97])}])},function(a){return d[95]="suggested_moderation_actions_json",d[93]=d[38].get(d[95]),d[38],d[93]!==void 0?d[90].set(d[95],d[93]):0,d[89]=d[90]}])},function(a){return d[3].set(d[77],d[89])}])},function(a){return d[78]="highlights_tab_custom_card_metadata",d[40]=d[2].get(d[78]),d[2],d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[93]="is_custom_card",d[91]=d[40].get(d[93]),d[40],d[91]!==void 0?d[90].set(d[93],d[91]):0,d[94]="moment",d[92]=d[40].get(d[94]),d[40],d[92]!==void 0?d[90].set(d[94],d[92]):0,d[89]=d[90]),d[3].set(d[78],d[89])),d[79]="highlights_tab_metadata",d[42]=d[2].get(d[79]),d[2],d[42]?d[43]=!1:d[43]=!0,d[43]?c.resolve():c.sequence([function(a){return d[42]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[96]="reply_source_type",d[91]=d[42].get(d[96]),d[42],d[91]!==void 0?d[90].set(d[96],d[91]):0,d[97]="reply_metadata",d[92]=d[42].get(d[97]),d[42],d[92]?d[93]=!1:d[93]=!0,d[93]?c.resolve():c.sequence([function(a){return d[92]?d[99]=!1:d[99]=!0,d[99]?c.resolve(d[100]=void 0):c.sequence([function(a){return d[101]=d[92].get("__typename"),d[92],d[101]==="XMSGHighlightsTabBirthdayReplyMetadata"?c.resolve((d[103]=new c.Map(),d[105]="birthday_age",d[104]=d[92].get(d[105]),d[92],c.i64.neq(d[104],void 0)?d[103].set(d[105],d[104]):0,d[102]=d[103])):c.sequence([function(a){return d[103]=new c.Map(),d[104]=d[92].keys(),d[105]=c.i64.of_int32(d[104].length),c.i64.gt(d[105],c.i64.cast([0,0]))?c.loopAsync(d[105],function(a){return d[106]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[104],d[106]).then(function(a){return a=a,d[107]=a[0],d[108]=a[1],a})},function(a){return d[109]=d[92].get(d[107]),d[92],d[103].set(d[107],d[109])}])}):c.resolve()},function(a){return d[102]=d[103]}])},function(a){return d[102].set("__typename",d[101]),d[100]=d[102]}])},function(a){return d[90].set(d[97],d[100])}])},function(a){return d[98]="moment_card_metadata",d[94]=d[42].get(d[98]),d[42],d[94]?d[95]=!1:d[95]=!0,d[95]?0:(d[94]?d[99]=!1:d[99]=!0,d[99]?d[100]=void 0:(d[101]=new c.Map(),d[103]="moment_card_type",d[102]=d[94].get(d[103]),d[94],d[102]!==void 0?d[101].set(d[103],d[102]):0,d[100]=d[101]),d[90].set(d[98],d[100])),d[89]=d[90]}])},function(a){return d[3].set(d[79],d[89])}])},function(a){return d[80]="business_thread_response_feedback",d[44]=d[2].get(d[80]),d[2],d[44]?d[45]=!1:d[45]=!0,d[45]?0:(d[44]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="is_feedback_button_enabled_for_message",d[91]=d[44].get(d[92]),d[44],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[80],d[89])),d[81]="live_shopping_metadata",d[46]=d[2].get(d[81]),d[2],d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="referral_post_id",d[91]=d[46].get(d[92]),d[46],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[81],d[89])),d[82]="reply_metadata",d[48]=d[2].get(d[82]),d[2],d[48]?d[49]=!1:d[49]=!0,d[49]?0:(d[48]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="is_markdown",d[91]=d[48].get(d[92]),d[48],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[82],d[89])),d[83]="mustache_cta",d[50]=d[2].get(d[83]),d[2],d[50]?d[51]=!1:d[51]=!0,d[51]?0:(d[50]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[94]="cta_type",d[91]=d[50].get(d[94]),d[50],d[91]!==void 0?d[90].set(d[94],d[91]):0,d[95]="title",d[92]=d[50].get(d[95]),d[50],d[92]!==void 0?d[90].set(d[95],d[92]):0,d[96]="action_url",d[93]=d[50].get(d[96]),d[50],d[93]!==void 0?d[90].set(d[96],d[93]):0,d[89]=d[90]),d[3].set(d[83],d[89])),d[84]="inline_entities",d[52]=d[2].get(d[84]),d[2],d[52]?d[53]=!1:d[53]=!0,d[53]?c.resolve():c.sequence([function(a){return d[52]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[95]="entities",d[91]=d[52].get(d[95]),d[52],d[91]?d[92]=!1:d[92]=!0,d[92]?c.resolve():c.sequence([function(a){return d[98]=c.createArray(),d[99]=c.i64.of_int32(d[91].length),c.i64.gt(d[99],c.i64.cast([0,0]))?c.loopAsync(d[99],function(a){return d[100]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[91],d[100]).then(function(a){return a=a,d[101]=a[0],d[102]=a[1],a})},function(a){return d[103]=new c.Map(),d[112]="offset",d[104]=d[101].get(d[112]),d[101],c.i64.neq(d[104],void 0)?d[103].set(d[112],d[104]):0,d[113]="length",d[105]=d[101].get(d[113]),d[101],c.i64.neq(d[105],void 0)?d[103].set(d[113],d[105]):0,d[114]="type",d[106]=d[101].get(d[114]),d[101],d[106]!==void 0?d[103].set(d[114],d[106]):0,d[115]="metadata",d[107]=d[101].get(d[115]),d[101],d[107]?d[108]=!1:d[108]=!0,d[108]?c.resolve():c.sequence([function(a){return d[107]?d[119]=!1:d[119]=!0,d[119]?c.resolve(d[120]=void 0):c.sequence([function(a){return d[121]=new c.Map(),d[126]="search_query",d[122]=d[107].get(d[126]),d[107],d[122]!==void 0?d[121].set(d[126],d[122]):0,d[127]="reminder_topic",d[123]=d[107].get(d[127]),d[107],d[123]!==void 0?d[121].set(d[127],d[123]):0,d[128]="thread_surfing_metadata",d[124]=d[107].get(d[128]),d[107],d[124]?d[125]=!1:d[125]=!0,d[125]?c.resolve():c.sequence([function(a){return d[124]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[135]="matched_entity",d[132]=d[124].get(d[135]),d[124],d[132]!==void 0?d[131].set(d[135],d[132]):0,d[136]="prompts",d[133]=d[124].get(d[136]),d[124],d[133]?d[134]=!1:d[134]=!0,d[134]?c.resolve():c.sequence([function(a){return d[137]=c.createArray(),d[138]=c.i64.of_int32(d[133].length),c.i64.gt(d[138],c.i64.cast([0,0]))?c.loopAsync(d[138],function(a){return d[139]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[133],d[139]).then(function(a){return a=a,d[140]=a[0],d[141]=a[1],a})},function(a){return d[142]=(d[137].push(d[140]),d[137])}])}):c.resolve()},function(a){return d[131].set(d[136],d[137])}])},function(a){return d[130]=d[131]}])},function(a){return d[121].set(d[128],d[130])}])},function(a){return d[120]=d[121]}])},function(a){return d[103].set(d[115],d[120])}])},function(a){return d[116]="action_label",d[109]=d[101].get(d[116]),d[101],d[109]!==void 0?d[103].set(d[116],d[109]):0,d[117]="context_token",d[110]=d[101].get(d[117]),d[101],d[110]!==void 0?d[103].set(d[117],d[110]):0,d[118]="context_token_type",d[111]=d[101].get(d[118]),d[101],c.i64.neq(d[111],void 0)?d[103].set(d[118],d[111]):0,d[119]=(d[98].push(d[103]),d[98])}])}):c.resolve()},function(a){return d[90].set(d[95],d[98])}])},function(a){return d[96]="inference_timestamp_ms",d[93]=d[52].get(d[96]),d[52],d[93]!==void 0?(d[93]!==void 0?d[98]=c.i64.from_string(d[93]):d[98]=void 0,d[90].set(d[96],d[98])):0,d[97]="inference_model_version",d[94]=d[52].get(d[97]),d[52],c.i64.neq(d[94],void 0)?d[90].set(d[97],d[94]):0,d[89]=d[90]}])},function(a){return d[3].set(d[84],d[89])}])},function(a){return d[85]="note_metadata",d[54]=d[2].get(d[85]),d[2],d[54]?d[55]=!1:d[55]=!0,d[55]?c.resolve():c.sequence([function(a){return d[54]?d[88]=!1:d[88]=!0,d[88]?c.resolve(d[89]=void 0):c.sequence([function(a){return d[90]=new c.Map(),d[95]="message_type",d[91]=d[54].get(d[95]),d[54],d[91]!==void 0?d[90].set(d[95],d[91]):0,d[96]="mentions",d[92]=d[54].get(d[96]),d[54],d[92]?d[93]=!1:d[93]=!0,d[93]?c.resolve():c.sequence([function(a){return d[98]=c.createArray(),d[99]=c.i64.of_int32(d[92].length),c.i64.gt(d[99],c.i64.cast([0,0]))?c.loopAsync(d[99],function(a){return d[100]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[92],d[100]).then(function(a){return a=a,d[101]=a[0],d[102]=a[1],a})},function(a){return d[103]=new c.Map(),d[106]="offset",d[104]=d[101].get(d[106]),d[101],c.i64.neq(d[104],void 0)?d[103].set(d[106],d[104]):0,d[107]="length",d[105]=d[101].get(d[107]),d[101],c.i64.neq(d[105],void 0)?d[103].set(d[107],d[105]):0,d[108]=(d[98].push(d[103]),d[98])}])}):c.resolve()},function(a){return d[90].set(d[96],d[98])}])},function(a){return d[97]="expiration_timestamp_ms",d[94]=d[54].get(d[97]),d[54],d[94]!==void 0?d[90].set(d[97],c.i64.from_string(d[94])):0,d[89]=d[90]}])},function(a){return d[3].set(d[85],d[89])}])},function(e){return d[86]="ai_bot_summon_metadata",d[56]=d[2].get(d[86]),d[2],d[56]?d[57]=!1:d[57]=!0,d[57]?0:(d[56]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="is_e2ee_summon_message",d[91]=d[56].get(d[92]),d[56],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[86],d[89])),d[87]="ai_forwarded_metadata",d[58]=d[2].get(d[87]),d[2],d[58]?d[59]=!1:d[59]=!0,d[59]?0:(d[58]?d[88]=!1:d[88]=!0,d[88]?d[89]=void 0:(d[90]=new c.Map(),d[92]="is_generated_by_meta_ai",d[91]=d[58].get(d[92]),d[58],d[91]!==void 0?d[90].set(d[92],d[91]):0,d[89]=d[90]),d[3].set(d[87],d[89])),a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[89]=new c.Map(),d[205]="sticker",d[90]=d[88].get(d[205]),d[88],d[90]?d[91]=!1:d[91]=!0,d[91]?0:(d[90]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[268]="sticker_pack_id",d[264]=d[90].get(d[268]),d[90],d[264]!==void 0?d[263].set(d[268],d[264]):0,d[269]="sticker_id",d[265]=d[90].get(d[269]),d[90],d[265]!==void 0?d[263].set(d[269],d[265]):0,d[270]="avatar_style",d[266]=d[90].get(d[270]),d[90],d[266]!==void 0?d[263].set(d[270],d[266]):0,d[271]="avatar_revision_id",d[267]=d[90].get(d[271]),d[90],d[267]!==void 0?(d[267]!==void 0?d[272]=c.i64.from_string(d[267]):d[272]=void 0,d[263].set(d[271],d[272])):0,d[262]=d[263]),d[89].set(d[205],d[262])),d[206]="word_effects",d[92]=d[88].get(d[206]),d[88],d[92]?d[93]=!1:d[93]=!0,d[93]?c.resolve():c.sequence([function(a){return d[92]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[270]="magic_word_offsets",d[264]=d[92].get(d[270]),d[92],d[264]?d[265]=!1:d[265]=!0,d[265]?c.resolve():c.sequence([function(a){return d[273]=c.createArray(),d[274]=c.i64.of_int32(d[264].length),c.i64.gt(d[274],c.i64.cast([0,0]))?c.loopAsync(d[274],function(a){return d[275]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[264],d[275]).then(function(a){return a=a,d[276]=a[0],d[277]=a[1],a})},function(a){return d[278]=(d[273].push(d[276]),d[273])}])}):c.resolve()},function(a){return d[263].set(d[270],d[273])}])},function(a){return d[271]="magic_word_lengths",d[266]=d[92].get(d[271]),d[92],d[266]?d[267]=!1:d[267]=!0,d[267]?c.resolve():c.sequence([function(a){return d[273]=c.createArray(),d[274]=c.i64.of_int32(d[266].length),c.i64.gt(d[274],c.i64.cast([0,0]))?c.loopAsync(d[274],function(a){return d[275]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[266],d[275]).then(function(a){return a=a,d[276]=a[0],d[277]=a[1],a})},function(a){return d[278]=(d[273].push(d[276]),d[273])}])}):c.resolve()},function(a){return d[263].set(d[271],d[273])}])},function(a){return d[272]="magic_word_emojis",d[268]=d[92].get(d[272]),d[92],d[268]?d[269]=!1:d[269]=!0,d[269]?c.resolve():c.sequence([function(a){return d[268]?d[273]=!1:d[273]=!0,d[273]?c.resolve(d[274]=void 0):c.sequence([function(a){return d[275]=c.createArray(),d[276]=c.i64.of_int32(d[268].length),c.i64.gt(d[276],c.i64.cast([0,0]))?c.loopAsync(d[276],function(a){return d[277]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[268],d[277]).then(function(a){return a=a,d[278]=a[0],d[279]=a[1],a})},function(a){return d[280]=(d[275].push(d[278]),d[275])}])}):c.resolve()},function(a){return d[274]=d[275]}])},function(a){return d[263].set(d[272],d[274])}])},function(a){return d[262]=d[263]}])},function(a){return d[89].set(d[206],d[262])}])},function(a){return d[207]="ig_avatar_sticker",d[94]=d[88].get(d[207]),d[88],d[94]?d[95]=!1:d[95]=!0,d[95]?0:(d[94]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="is_avatar_sticker",d[264]=d[94].get(d[265]),d[94],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[207],d[262])),d[208]="power_up",d[96]=d[88].get(d[208]),d[88],d[96]?d[97]=!1:d[97]=!0,d[97]?0:(d[96]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="power_up_style",d[264]=d[96].get(d[265]),d[96],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[208],d[262])),d[209]="ai_bot",d[98]=d[88].get(d[209]),d[88],d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[292]="response_id",d[264]=d[98].get(d[292]),d[98],d[264]!==void 0?d[263].set(d[292],d[264]):0,d[293]="bot_action",d[265]=d[98].get(d[293]),d[98],d[265]!==void 0?d[263].set(d[293],d[265]):0,d[294]="sentiment",d[266]=d[98].get(d[294]),d[98],d[266]!==void 0?d[263].set(d[294],d[266]):0,d[295]="sentiment_intensity",d[267]=d[98].get(d[295]),d[98],d[267]!==void 0?d[263].set(d[295],d[267]):0,d[296]="imagine_media_id",d[268]=d[98].get(d[296]),d[98],d[268]!==void 0?(d[268]!==void 0?d[317]=c.i64.from_string(d[268]):d[317]=void 0,d[263].set(d[296],d[317])):0,d[297]="bot_action_int",d[269]=d[98].get(d[297]),d[98],c.i64.neq(d[269],void 0)?d[263].set(d[297],d[269]):0,d[298]="sentiment_int",d[270]=d[98].get(d[298]),d[98],c.i64.neq(d[270],void 0)?d[263].set(d[298],d[270]):0,d[299]="sentiment_intensity_int",d[271]=d[98].get(d[299]),d[98],c.i64.neq(d[271],void 0)?d[263].set(d[299],d[271]):0,d[300]="bot_invocation_message_id",d[272]=d[98].get(d[300]),d[98],d[272]!==void 0?d[263].set(d[300],d[272]):0,d[301]="bot_response_id",d[273]=d[98].get(d[301]),d[98],d[273]!==void 0?d[263].set(d[301],d[273]):0,d[302]="bot_invocation_message_otid",d[274]=d[98].get(d[302]),d[98],d[274]!==void 0?d[263].set(d[302],d[274]):0,d[303]="bot_invocation_logging_id",d[275]=d[98].get(d[303]),d[98],d[275]!==void 0?d[263].set(d[303],d[275]):0,d[304]="bot_invocation_sender_id",d[276]=d[98].get(d[304]),d[98],d[276]!==void 0?d[263].set(d[304],d[276]):0,d[305]="is_error",d[277]=d[98].get(d[305]),d[98],d[277]!==void 0?d[263].set(d[305],d[277]):0,d[306]="bot_subscription_id",d[278]=d[98].get(d[306]),d[98],d[278]!==void 0?(d[278]!==void 0?d[317]=c.i64.from_string(d[278]):d[317]=void 0,d[263].set(d[306],d[317])):0,d[307]="bot_subscription_product_type",d[279]=d[98].get(d[307]),d[98],d[279]!==void 0?d[263].set(d[307],d[279]):0,d[308]="bot_response_product_type",d[280]=d[98].get(d[308]),d[98],d[280]!==void 0?d[263].set(d[308],d[280]):0,d[309]="original_prompt_text",d[281]=d[98].get(d[309]),d[98],d[281]!==void 0?d[263].set(d[309],d[281]):0,d[310]="bot_response_additional_message_otids",d[282]=d[98].get(d[310]),d[98],d[282]?d[283]=!1:d[283]=!0,d[283]?c.resolve():c.sequence([function(a){return d[282]?d[317]=!1:d[317]=!0,d[317]?c.resolve(d[318]=void 0):c.sequence([function(a){return d[319]=c.createArray(),d[320]=c.i64.of_int32(d[282].length),c.i64.gt(d[320],c.i64.cast([0,0]))?c.loopAsync(d[320],function(a){return d[321]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[282],d[321]).then(function(a){return a=a,d[322]=a[0],d[323]=a[1],a})},function(a){return d[324]=(d[319].push(d[322]),d[319])}])}):c.resolve()},function(a){return d[318]=d[319]}])},function(a){return d[263].set(d[310],d[318])}])},function(a){return d[311]="imagine_media_info",d[284]=d[98].get(d[311]),d[98],d[284]?d[285]=!1:d[285]=!0,d[285]?c.resolve():c.sequence([function(a){return d[284]?d[317]=!1:d[317]=!0,d[317]?c.resolve(d[318]=void 0):c.sequence([function(a){return d[319]=c.createArray(),d[320]=c.i64.of_int32(d[284].length),c.i64.gt(d[320],c.i64.cast([0,0]))?c.loopAsync(d[320],function(a){return d[321]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[284],d[321]).then(function(a){return a=a,d[322]=a[0],d[323]=a[1],a})},function(a){return d[324]=new c.Map(),d[328]="imagine_media_id",d[325]=d[322].get(d[328]),d[322],d[325]!==void 0?(d[325]!==void 0?d[331]=c.i64.from_string(d[325]):d[331]=void 0,d[324].set(d[328],d[331])):0,d[329]="editable",d[326]=d[322].get(d[329]),d[322],d[326]!==void 0?d[324].set(d[329],d[326]):0,d[330]="animatable",d[327]=d[322].get(d[330]),d[322],d[327]!==void 0?d[324].set(d[330],d[327]):0,d[331]=(d[319].push(d[324]),d[319])}])}):c.resolve()},function(a){return d[318]=d[319]}])},function(a){return d[263].set(d[311],d[318])}])},function(a){return d[312]="groups_ugc_metadata",d[286]=d[98].get(d[312]),d[98],d[286]?d[287]=!1:d[287]=!0,d[287]?0:(d[286]?d[317]=!1:d[317]=!0,d[317]?d[318]=void 0:(d[319]=new c.Map(),d[321]="share_to_comment_uri",d[320]=d[286].get(d[321]),d[286],d[320]!==void 0?d[319].set(d[321],d[320]):0,d[318]=d[319]),d[263].set(d[312],d[318])),d[313]="bot_proactive_message_type",d[288]=d[98].get(d[313]),d[98],c.i64.neq(d[288],void 0)?d[263].set(d[313],d[288]):0,d[314]="conversation_header",d[289]=d[98].get(d[314]),d[98],d[289]!==void 0?d[263].set(d[314],d[289]):0,d[315]="stream_status",d[290]=d[98].get(d[315]),d[98],d[290]!==void 0?d[263].set(d[315],d[290]):0,d[316]="stream_status_type",d[291]=d[98].get(d[316]),d[98],d[291]!==void 0?d[263].set(d[316],d[291]):0,d[262]=d[263]}])},function(a){return d[89].set(d[209],d[262])}])},function(a){return d[210]="pobox",d[100]=d[88].get(d[210]),d[88],d[100]?d[101]=!1:d[101]=!0,d[101]?0:(d[100]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[266]="pobox_fbid",d[264]=d[100].get(d[266]),d[100],d[264]!==void 0?(d[264]!==void 0?d[268]=c.i64.from_string(d[264]):d[268]=void 0,d[263].set(d[266],d[268])):0,d[267]="pobox_id",d[265]=d[100].get(d[267]),d[100],d[265]!==void 0?d[263].set(d[267],d[265]):0,d[262]=d[263]),d[89].set(d[210],d[262])),d[211]="video",d[102]=d[88].get(d[211]),d[88],d[102]?d[103]=!1:d[103]=!0,d[103]?0:(d[102]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="unified_upload_mos",d[264]=d[102].get(d[265]),d[102],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[211],d[262])),d[212]="text_translation",d[104]=d[88].get(d[212]),d[88],d[104]?d[105]=!1:d[105]=!0,d[105]?0:(d[104]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[267]="translated_text",d[264]=d[104].get(d[267]),d[104],d[264]!==void 0?d[263].set(d[267],d[264]):0,d[268]="text_dialect",d[265]=d[104].get(d[268]),d[104],d[265]!==void 0?d[263].set(d[268],d[265]):0,d[269]="translated_text_dialect",d[266]=d[104].get(d[269]),d[104],d[266]!==void 0?d[263].set(d[269],d[266]):0,d[262]=d[263]),d[89].set(d[212],d[262])),d[213]="memories",d[106]=d[88].get(d[213]),d[88],d[106]?d[107]=!1:d[107]=!0,d[107]?c.resolve():c.sequence([function(a){return d[106]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[271]="original_message_id",d[264]=d[106].get(d[271]),d[106],d[264]!==void 0?d[263].set(d[271],d[264]):0,d[272]="original_message_creation_ts",d[265]=d[106].get(d[272]),d[106],d[265]!==void 0?(d[265]!==void 0?d[277]=c.i64.from_string(d[265]):d[277]=void 0,d[263].set(d[272],d[277])):0,d[273]="memory_server_id",d[266]=d[106].get(d[273]),d[106],d[266]!==void 0?(d[266]!==void 0?d[277]=c.i64.from_string(d[266]):d[277]=void 0,d[263].set(d[273],d[277])):0,d[274]="memory_template_type",d[267]=d[106].get(d[274]),d[106],d[267]!==void 0?d[263].set(d[274],d[267]):0,d[275]="memory_context_messages",d[268]=d[106].get(d[275]),d[106],d[268]?d[269]=!1:d[269]=!0,d[269]?c.resolve():c.sequence([function(a){return d[268]?d[277]=!1:d[277]=!0,d[277]?c.resolve(d[278]=void 0):c.sequence([function(a){return d[279]=c.createArray(),d[280]=c.i64.of_int32(d[268].length),c.i64.gt(d[280],c.i64.cast([0,0]))?c.loopAsync(d[280],function(a){return d[281]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[268],d[281]).then(function(a){return a=a,d[282]=a[0],d[283]=a[1],a})},function(a){return d[284]=new c.Map(),d[289]="sender_id",d[285]=d[282].get(d[289]),d[282],d[285]!==void 0?(d[285]!==void 0?d[292]=c.i64.from_string(d[285]):d[292]=void 0,d[284].set(d[289],d[292])):0,d[290]="message_text",d[286]=d[282].get(d[290]),d[282],d[286]!==void 0?d[284].set(d[290],d[286]):0,d[291]="reactions",d[287]=d[282].get(d[291]),d[282],d[287]?d[288]=!1:d[288]=!0,d[288]?c.resolve():c.sequence([function(a){return d[287]?d[292]=!1:d[292]=!0,d[292]?c.resolve(d[293]=void 0):c.sequence([function(a){return d[294]=c.createArray(),d[295]=c.i64.of_int32(d[287].length),c.i64.gt(d[295],c.i64.cast([0,0]))?c.loopAsync(d[295],function(a){return d[296]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[287],d[296]).then(function(a){return a=a,d[297]=a[0],d[298]=a[1],a})},function(a){return d[299]=(d[294].push(d[297]),d[294])}])}):c.resolve()},function(a){return d[293]=d[294]}])},function(a){return d[284].set(d[291],d[293])}])},function(a){return d[292]=(d[279].push(d[284]),d[279])}])}):c.resolve()},function(a){return d[278]=d[279]}])},function(a){return d[263].set(d[275],d[278])}])},function(a){return d[276]="is_memory_originating_thread",d[270]=d[106].get(d[276]),d[106],d[270]!==void 0?d[263].set(d[276],d[270]):0,d[262]=d[263]}])},function(a){return d[89].set(d[213],d[262])}])},function(a){return d[214]="command",d[108]=d[88].get(d[214]),d[88],d[108]?d[109]=!1:d[109]=!0,d[109]?0:(d[108]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="command_type",d[264]=d[108].get(d[265]),d[108],c.i64.neq(d[264],void 0)?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[214],d[262])),d[215]="admin_message",d[110]=d[88].get(d[215]),d[88],d[110]?d[111]=!1:d[111]=!0,d[111]?0:(d[110]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[274]="ad_client_token",d[264]=d[110].get(d[274]),d[110],d[264]!==void 0?d[263].set(d[274],d[264]):0,d[275]="ad_preference_url",d[265]=d[110].get(d[275]),d[110],d[265]!==void 0?d[263].set(d[275],d[265]):0,d[276]="ad_help_url",d[266]=d[110].get(d[276]),d[110],d[266]!==void 0?d[263].set(d[276],d[266]):0,d[277]="show_ad_choice_icon",d[267]=d[110].get(d[277]),d[110],d[267]!==void 0?d[263].set(d[277],d[267]):0,d[278]="title",d[268]=d[110].get(d[278]),d[110],d[268]!==void 0?d[263].set(d[278],d[268]):0,d[279]="action_url",d[269]=d[110].get(d[279]),d[110],d[269]!==void 0?d[263].set(d[279],d[269]):0,d[280]="admin_message_nickname_participant_id",d[270]=d[110].get(d[280]),d[110],d[270]!==void 0?(d[270]!==void 0?d[284]=c.i64.from_string(d[270]):d[284]=void 0,d[263].set(d[280],d[284])):0,d[281]="target_id",d[271]=d[110].get(d[281]),d[110],d[271]!==void 0?(d[271]!==void 0?d[284]=c.i64.from_string(d[271]):d[284]=void 0,d[263].set(d[281],d[284])):0,d[282]="target_title",d[272]=d[110].get(d[282]),d[110],d[272]!==void 0?d[263].set(d[282],d[272]):0,d[283]="identifier_name",d[273]=d[110].get(d[283]),d[110],d[273]!==void 0?d[263].set(d[283],d[273]):0,d[262]=d[263]),d[89].set(d[215],d[262])),d[216]="misinfo_metadata",d[112]=d[88].get(d[216]),d[88],d[112]?d[113]=!1:d[113]=!0,d[113]?0:(d[112]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[266]="has_misinfo",d[264]=d[112].get(d[266]),d[112],d[264]!==void 0?d[263].set(d[266],d[264]):0,d[267]="misinfo_source",d[265]=d[112].get(d[267]),d[112],d[265]!==void 0?d[263].set(d[267],d[265]):0,d[262]=d[263]),d[89].set(d[216],d[262])),d[217]="forwarded_message",d[114]=d[88].get(d[217]),d[88],d[114]?d[115]=!1:d[115]=!0,d[115]?0:(d[114]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[266]="forwarded_from_thread_name",d[264]=d[114].get(d[266]),d[114],d[264]!==void 0?d[263].set(d[266],d[264]):0,d[267]="forwarded_from_thread_url",d[265]=d[114].get(d[267]),d[114],d[265]!==void 0?d[263].set(d[267],d[265]):0,d[262]=d[263]),d[89].set(d[217],d[262])),d[218]="ai_metadata",d[116]=d[88].get(d[218]),d[88],d[116]?d[117]=!1:d[117]=!0,d[117]?0:(d[116]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[269]="is_ai_generated",d[264]=d[116].get(d[269]),d[116],d[264]!==void 0?d[263].set(d[269],d[264]):0,d[270]="gen_ai_integrity_ent_id",d[265]=d[116].get(d[270]),d[116],d[265]!==void 0?(d[265]!==void 0?d[274]=c.i64.from_string(d[265]):d[274]=void 0,d[263].set(d[270],d[274])):0,d[271]="ai_product",d[266]=d[116].get(d[271]),d[116],d[266]!==void 0?d[263].set(d[271],d[266]):0,d[272]="original_prompt_text",d[267]=d[116].get(d[272]),d[116],d[267]!==void 0?d[263].set(d[272],d[267]):0,d[273]="imagine_media_id",d[268]=d[116].get(d[273]),d[116],d[268]!==void 0?(d[268]!==void 0?d[274]=c.i64.from_string(d[268]):d[274]=void 0,d[263].set(d[273],d[274])):0,d[262]=d[263]),d[89].set(d[218],d[262])),d[219]="encrypted_message",d[118]=d[88].get(d[219]),d[88],d[118]?d[119]=!1:d[119]=!0,d[119]?c.resolve():c.sequence([function(a){return d[118]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[271]="thread_id",d[264]=d[118].get(d[271]),d[118],d[264]!==void 0?d[263].set(d[271],d[264]):0,d[272]="offline_threading_id",d[265]=d[118].get(d[272]),d[118],d[265]!==void 0?d[263].set(d[272],d[265]):0,d[273]="toplevel_payload",d[266]=d[118].get(d[273]),d[118],d[266]?d[267]=!1:d[267]=!0,d[267]?0:(d[276]=new c.Map(),d[282]="encrypted_payload",d[277]=d[266].get(d[282]),d[266],d[277]!==void 0?d[276].set(d[282],d[277]):0,d[283]="payloadTimestampMs",d[278]=d[266].get(d[283]),d[266],d[278]!==void 0?d[276].set(d[283],c.i64.from_string(d[278])):0,d[284]="encryption_version",d[279]=d[266].get(d[284]),d[266],c.i64.neq(d[279],void 0)?d[276].set(d[284],d[279]):0,d[285]="epoch_id",d[280]=d[266].get(d[285]),d[266],d[280]!==void 0?d[276].set(d[285],c.i64.from_string(d[280])):0,d[286]="epoch_anon_id",d[281]=d[266].get(d[286]),d[266],d[281]!==void 0?d[276].set(d[286],d[281]):0,d[263].set(d[273],d[276])),d[274]="supplemental_payloads",d[268]=d[118].get(d[274]),d[118],d[268]?d[269]=!1:d[269]=!0,d[269]?c.resolve():c.sequence([function(a){return d[276]=c.createArray(),d[277]=c.i64.of_int32(d[268].length),c.i64.gt(d[277],c.i64.cast([0,0]))?c.loopAsync(d[277],function(a){return d[278]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[268],d[278]).then(function(a){return a=a,d[279]=a[0],d[280]=a[1],a})},function(a){return d[281]=new c.Map(),d[286]="encrypted_supplemental_key",d[282]=d[279].get(d[286]),d[279],d[282]!==void 0?d[281].set(d[286],d[282]):0,d[287]="supplemental_key_ciphertext",d[283]=d[279].get(d[287]),d[279],d[283]!==void 0?d[281].set(d[287],d[283]):0,d[288]="encrypted_supplemental_payload",d[284]=d[279].get(d[288]),d[279],d[284]?d[285]=!1:d[285]=!0,d[285]?0:(d[289]=new c.Map(),d[295]="encrypted_payload",d[290]=d[284].get(d[295]),d[284],d[290]!==void 0?d[289].set(d[295],d[290]):0,d[296]="payloadTimestampMs",d[291]=d[284].get(d[296]),d[284],d[291]!==void 0?d[289].set(d[296],c.i64.from_string(d[291])):0,d[297]="encryption_version",d[292]=d[284].get(d[297]),d[284],c.i64.neq(d[292],void 0)?d[289].set(d[297],d[292]):0,d[298]="epoch_id",d[293]=d[284].get(d[298]),d[284],d[293]!==void 0?d[289].set(d[298],c.i64.from_string(d[293])):0,d[299]="epoch_anon_id",d[294]=d[284].get(d[299]),d[284],d[294]!==void 0?d[289].set(d[299],d[294]):0,d[281].set(d[288],d[289])),d[289]=(d[276].push(d[281]),d[276])}])}):c.resolve()},function(a){return d[263].set(d[274],d[276])}])},function(a){return d[275]="is_open_eb",d[270]=d[118].get(d[275]),d[118],d[270]!==void 0?d[263].set(d[275],d[270]):0,d[262]=d[263]}])},function(a){return d[89].set(d[219],d[262])}])},function(a){return d[220]="rich_text",d[120]=d[88].get(d[220]),d[88],d[120]?d[121]=!1:d[121]=!0,d[121]?0:(d[120]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="rich_text_format_type",d[264]=d[120].get(d[265]),d[120],c.i64.neq(d[264],void 0)?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[220],d[262])),d[221]="content_logging_metadata",d[122]=d[88].get(d[221]),d[88],d[122]?d[123]=!1:d[123]=!0,d[123]?c.resolve():c.sequence([function(a){return d[122]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[268]="containing_post",d[264]=d[122].get(d[268]),d[122],d[264]?d[265]=!1:d[265]=!0,d[265]?c.resolve():c.sequence([function(a){return d[264]?d[270]=!1:d[270]=!0,d[270]?c.resolve(d[271]=void 0):c.sequence([function(a){return d[272]=new c.Map(),d[280]="key_type",d[273]=d[264].get(d[280]),d[264],d[273]!==void 0?d[272].set(d[280],d[273]):0,d[281]="fb_post_type",d[274]=d[264].get(d[281]),d[264],d[274]?d[275]=!1:d[275]=!0,d[275]?c.resolve():c.sequence([function(a){return d[274]?d[284]=!1:d[284]=!0,d[284]?c.resolve(d[285]=void 0):c.sequence([function(a){return d[286]=c.createArray(),d[287]=c.i64.of_int32(d[274].length),c.i64.gt(d[287],c.i64.cast([0,0]))?c.loopAsync(d[287],function(a){return d[288]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[274],d[288]).then(function(a){return a=a,d[289]=a[0],d[290]=a[1],a})},function(a){return d[291]=(d[286].push(d[289]),d[286])}])}):c.resolve()},function(a){return d[285]=d[286]}])},function(a){return d[272].set(d[281],d[285])}])},function(a){return d[282]="photos",d[276]=d[264].get(d[282]),d[264],d[276]?d[277]=!1:d[277]=!0,d[277]?c.resolve():c.sequence([function(a){return d[276]?d[284]=!1:d[284]=!0,d[284]?c.resolve(d[285]=void 0):c.sequence([function(a){return d[286]=c.createArray(),d[287]=c.i64.of_int32(d[276].length),c.i64.gt(d[287],c.i64.cast([0,0]))?c.loopAsync(d[287],function(a){return d[288]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[276],d[288]).then(function(a){return a=a,d[289]=a[0],d[290]=a[1],a})},function(a){return d[291]=new c.Map(),d[293]="key_type",d[292]=d[289].get(d[293]),d[289],d[292]!==void 0?d[291].set(d[293],d[292]):0,d[294]=(d[286].push(d[291]),d[286])}])}):c.resolve()},function(a){return d[285]=d[286]}])},function(a){return d[272].set(d[282],d[285])}])},function(a){return d[283]="videos",d[278]=d[264].get(d[283]),d[264],d[278]?d[279]=!1:d[279]=!0,d[279]?c.resolve():c.sequence([function(a){return d[278]?d[284]=!1:d[284]=!0,d[284]?c.resolve(d[285]=void 0):c.sequence([function(a){return d[286]=c.createArray(),d[287]=c.i64.of_int32(d[278].length),c.i64.gt(d[287],c.i64.cast([0,0]))?c.loopAsync(d[287],function(a){return d[288]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[278],d[288]).then(function(a){return a=a,d[289]=a[0],d[290]=a[1],a})},function(a){return d[291]=new c.Map(),d[293]="key_type",d[292]=d[289].get(d[293]),d[289],d[292]!==void 0?d[291].set(d[293],d[292]):0,d[294]=(d[286].push(d[291]),d[286])}])}):c.resolve()},function(a){return d[285]=d[286]}])},function(a){return d[272].set(d[283],d[285])}])},function(a){return d[271]=d[272]}])},function(a){return d[263].set(d[268],d[271])}])},function(a){return d[269]="metadata",d[266]=d[122].get(d[269]),d[122],d[266]?d[267]=!1:d[267]=!0,d[267]?c.resolve():c.sequence([function(a){return d[266]?d[270]=!1:d[270]=!0,d[270]?c.resolve(d[271]=void 0):c.sequence([function(a){return d[272]=d[266].get("__typename"),d[266],d[272]==="XMSGGroupsContentLoggingMetadata"?c.resolve((d[274]=new c.Map(),d[276]="num_members",d[275]=d[266].get(d[276]),d[266],c.i64.neq(d[275],void 0)?d[274].set(d[276],d[275]):0,d[273]=d[274])):c.sequence([function(a){return d[272]==="XMSGStoriesContentLoggingMetadata"?c.resolve((d[275]=new c.Map(),d[280]="author",d[276]=d[266].get(d[280]),d[266],d[276]?d[277]=!1:d[277]=!0,d[277]?0:(d[276]?d[283]=!1:d[283]=!0,d[283]?d[284]=void 0:(d[285]=new c.Map(),d[288]="profile",d[286]=d[276].get(d[288]),d[276],d[286]?d[287]=!1:d[287]=!0,d[287]?0:(d[286]?d[289]=!1:d[289]=!0,d[289]?d[290]=void 0:(d[291]=new c.Map(),d[293]="id",d[292]=d[286].get(d[293]),d[286],d[292]!==void 0?d[291].set(d[293],d[292]):0,d[290]=d[291]),d[285].set(d[288],d[290])),d[284]=d[285]),d[275].set(d[280],d[284])),d[281]="post_source",d[278]=d[266].get(d[281]),d[266],d[278]!==void 0?d[275].set(d[281],d[278]):0,d[282]="story_type",d[279]=d[266].get(d[282]),d[266],d[279]!==void 0?d[275].set(d[282],d[279]):0,d[274]=d[275])):c.sequence([function(a){return d[275]=new c.Map(),d[276]=d[266].keys(),d[277]=c.i64.of_int32(d[276].length),c.i64.gt(d[277],c.i64.cast([0,0]))?c.loopAsync(d[277],function(a){return d[278]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[276],d[278]).then(function(a){return a=a,d[279]=a[0],d[280]=a[1],a})},function(a){return d[281]=d[266].get(d[279]),d[266],d[275].set(d[279],d[281])}])}):c.resolve()},function(a){return d[274]=d[275]}])},function(a){return d[273]=d[274]}])},function(a){return d[273].set("__typename",d[272]),d[271]=d[273]}])},function(a){return d[263].set(d[269],d[271])}])},function(a){return d[262]=d[263]}])},function(a){return d[89].set(d[221],d[262])}])},function(a){return d[222]="suggested_moderation_actions",d[124]=d[88].get(d[222]),d[88],d[124]?d[125]=!1:d[125]=!0,d[125]?c.resolve():c.sequence([function(a){return d[124]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[267]="suggested_moderation_actions_list",d[264]=d[124].get(d[267]),d[124],d[264]?d[265]=!1:d[265]=!0,d[265]?c.resolve():c.sequence([function(a){return d[264]?d[269]=!1:d[269]=!0,d[269]?c.resolve(d[270]=void 0):c.sequence([function(a){return d[271]=new c.Map(),d[274]="suggested_moderation_actions",d[272]=d[264].get(d[274]),d[264],d[272]?d[273]=!1:d[273]=!0,d[273]?c.resolve():c.sequence([function(a){return d[272]?d[275]=!1:d[275]=!0,d[275]?c.resolve(d[276]=void 0):c.sequence([function(a){return d[277]=c.createArray(),d[278]=c.i64.of_int32(d[272].length),c.i64.gt(d[278],c.i64.cast([0,0]))?c.loopAsync(d[278],function(a){return d[279]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[272],d[279]).then(function(a){return a=a,d[280]=a[0],d[281]=a[1],a})},function(a){return d[282]=new c.Map(),d[285]="primary_action",d[283]=d[280].get(d[285]),d[280],d[283]!==void 0?d[282].set(d[285],d[283]):0,d[286]="chained_actions",d[284]=d[280].get(d[286]),d[280],d[284]!==void 0?d[282].set(d[286],d[284]):0,d[287]=(d[277].push(d[282]),d[277])}])}):c.resolve()},function(a){return d[276]=d[277]}])},function(a){return d[271].set(d[274],d[276])}])},function(a){return d[270]=d[271]}])},function(a){return d[263].set(d[267],d[270])}])},function(a){return d[268]="suggested_moderation_actions_json",d[266]=d[124].get(d[268]),d[124],d[266]!==void 0?d[263].set(d[268],d[266]):0,d[262]=d[263]}])},function(a){return d[89].set(d[222],d[262])}])},function(a){return d[223]="highlights_tab_custom_card_metadata",d[126]=d[88].get(d[223]),d[88],d[126]?d[127]=!1:d[127]=!0,d[127]?0:(d[126]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[266]="is_custom_card",d[264]=d[126].get(d[266]),d[126],d[264]!==void 0?d[263].set(d[266],d[264]):0,d[267]="moment",d[265]=d[126].get(d[267]),d[126],d[265]!==void 0?d[263].set(d[267],d[265]):0,d[262]=d[263]),d[89].set(d[223],d[262])),d[224]="highlights_tab_metadata",d[128]=d[88].get(d[224]),d[88],d[128]?d[129]=!1:d[129]=!0,d[129]?c.resolve():c.sequence([function(a){return d[128]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[269]="reply_source_type",d[264]=d[128].get(d[269]),d[128],d[264]!==void 0?d[263].set(d[269],d[264]):0,d[270]="reply_metadata",d[265]=d[128].get(d[270]),d[128],d[265]?d[266]=!1:d[266]=!0,d[266]?c.resolve():c.sequence([function(a){return d[265]?d[272]=!1:d[272]=!0,d[272]?c.resolve(d[273]=void 0):c.sequence([function(a){return d[274]=d[265].get("__typename"),d[265],d[274]==="XMSGHighlightsTabBirthdayReplyMetadata"?c.resolve((d[276]=new c.Map(),d[278]="birthday_age",d[277]=d[265].get(d[278]),d[265],c.i64.neq(d[277],void 0)?d[276].set(d[278],d[277]):0,d[275]=d[276])):c.sequence([function(a){return d[276]=new c.Map(),d[277]=d[265].keys(),d[278]=c.i64.of_int32(d[277].length),c.i64.gt(d[278],c.i64.cast([0,0]))?c.loopAsync(d[278],function(a){return d[279]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[277],d[279]).then(function(a){return a=a,d[280]=a[0],d[281]=a[1],a})},function(a){return d[282]=d[265].get(d[280]),d[265],d[276].set(d[280],d[282])}])}):c.resolve()},function(a){return d[275]=d[276]}])},function(a){return d[275].set("__typename",d[274]),d[273]=d[275]}])},function(a){return d[263].set(d[270],d[273])}])},function(a){return d[271]="moment_card_metadata",d[267]=d[128].get(d[271]),d[128],d[267]?d[268]=!1:d[268]=!0,d[268]?0:(d[267]?d[272]=!1:d[272]=!0,d[272]?d[273]=void 0:(d[274]=new c.Map(),d[276]="moment_card_type",d[275]=d[267].get(d[276]),d[267],d[275]!==void 0?d[274].set(d[276],d[275]):0,d[273]=d[274]),d[263].set(d[271],d[273])),d[262]=d[263]}])},function(a){return d[89].set(d[224],d[262])}])},function(a){return d[225]="business_thread_response_feedback",d[130]=d[88].get(d[225]),d[88],d[130]?d[131]=!1:d[131]=!0,d[131]?0:(d[130]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="is_feedback_button_enabled_for_message",d[264]=d[130].get(d[265]),d[130],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[225],d[262])),d[226]="live_shopping_metadata",d[132]=d[88].get(d[226]),d[88],d[132]?d[133]=!1:d[133]=!0,d[133]?0:(d[132]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="referral_post_id",d[264]=d[132].get(d[265]),d[132],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[226],d[262])),d[227]="reply_metadata",d[134]=d[88].get(d[227]),d[88],d[134]?d[135]=!1:d[135]=!0,d[135]?0:(d[134]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="is_markdown",d[264]=d[134].get(d[265]),d[134],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[227],d[262])),d[228]="mustache_cta",d[136]=d[88].get(d[228]),d[88],d[136]?d[137]=!1:d[137]=!0,d[137]?0:(d[136]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[267]="cta_type",d[264]=d[136].get(d[267]),d[136],d[264]!==void 0?d[263].set(d[267],d[264]):0,d[268]="title",d[265]=d[136].get(d[268]),d[136],d[265]!==void 0?d[263].set(d[268],d[265]):0,d[269]="action_url",d[266]=d[136].get(d[269]),d[136],d[266]!==void 0?d[263].set(d[269],d[266]):0,d[262]=d[263]),d[89].set(d[228],d[262])),d[229]="inline_entities",d[138]=d[88].get(d[229]),d[88],d[138]?d[139]=!1:d[139]=!0,d[139]?c.resolve():c.sequence([function(a){return d[138]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[268]="entities",d[264]=d[138].get(d[268]),d[138],d[264]?d[265]=!1:d[265]=!0,d[265]?c.resolve():c.sequence([function(a){return d[271]=c.createArray(),d[272]=c.i64.of_int32(d[264].length),c.i64.gt(d[272],c.i64.cast([0,0]))?c.loopAsync(d[272],function(a){return d[273]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[264],d[273]).then(function(a){return a=a,d[274]=a[0],d[275]=a[1],a})},function(a){return d[276]=new c.Map(),d[285]="offset",d[277]=d[274].get(d[285]),d[274],c.i64.neq(d[277],void 0)?d[276].set(d[285],d[277]):0,d[286]="length",d[278]=d[274].get(d[286]),d[274],c.i64.neq(d[278],void 0)?d[276].set(d[286],d[278]):0,d[287]="type",d[279]=d[274].get(d[287]),d[274],d[279]!==void 0?d[276].set(d[287],d[279]):0,d[288]="metadata",d[280]=d[274].get(d[288]),d[274],d[280]?d[281]=!1:d[281]=!0,d[281]?c.resolve():c.sequence([function(a){return d[280]?d[292]=!1:d[292]=!0,d[292]?c.resolve(d[293]=void 0):c.sequence([function(a){return d[294]=new c.Map(),d[299]="search_query",d[295]=d[280].get(d[299]),d[280],d[295]!==void 0?d[294].set(d[299],d[295]):0,d[300]="reminder_topic",d[296]=d[280].get(d[300]),d[280],d[296]!==void 0?d[294].set(d[300],d[296]):0,d[301]="thread_surfing_metadata",d[297]=d[280].get(d[301]),d[280],d[297]?d[298]=!1:d[298]=!0,d[298]?c.resolve():c.sequence([function(a){return d[297]?d[302]=!1:d[302]=!0,d[302]?c.resolve(d[303]=void 0):c.sequence([function(a){return d[304]=new c.Map(),d[308]="matched_entity",d[305]=d[297].get(d[308]),d[297],d[305]!==void 0?d[304].set(d[308],d[305]):0,d[309]="prompts",d[306]=d[297].get(d[309]),d[297],d[306]?d[307]=!1:d[307]=!0,d[307]?c.resolve():c.sequence([function(a){return d[310]=c.createArray(),d[311]=c.i64.of_int32(d[306].length),c.i64.gt(d[311],c.i64.cast([0,0]))?c.loopAsync(d[311],function(a){return d[312]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[306],d[312]).then(function(a){return a=a,d[313]=a[0],d[314]=a[1],a})},function(a){return d[315]=(d[310].push(d[313]),d[310])}])}):c.resolve()},function(a){return d[304].set(d[309],d[310])}])},function(a){return d[303]=d[304]}])},function(a){return d[294].set(d[301],d[303])}])},function(a){return d[293]=d[294]}])},function(a){return d[276].set(d[288],d[293])}])},function(a){return d[289]="action_label",d[282]=d[274].get(d[289]),d[274],d[282]!==void 0?d[276].set(d[289],d[282]):0,d[290]="context_token",d[283]=d[274].get(d[290]),d[274],d[283]!==void 0?d[276].set(d[290],d[283]):0,d[291]="context_token_type",d[284]=d[274].get(d[291]),d[274],c.i64.neq(d[284],void 0)?d[276].set(d[291],d[284]):0,d[292]=(d[271].push(d[276]),d[271])}])}):c.resolve()},function(a){return d[263].set(d[268],d[271])}])},function(a){return d[269]="inference_timestamp_ms",d[266]=d[138].get(d[269]),d[138],d[266]!==void 0?(d[266]!==void 0?d[271]=c.i64.from_string(d[266]):d[271]=void 0,d[263].set(d[269],d[271])):0,d[270]="inference_model_version",d[267]=d[138].get(d[270]),d[138],c.i64.neq(d[267],void 0)?d[263].set(d[270],d[267]):0,d[262]=d[263]}])},function(a){return d[89].set(d[229],d[262])}])},function(a){return d[230]="note_metadata",d[140]=d[88].get(d[230]),d[88],d[140]?d[141]=!1:d[141]=!0,d[141]?c.resolve():c.sequence([function(a){return d[140]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[263]=new c.Map(),d[268]="message_type",d[264]=d[140].get(d[268]),d[140],d[264]!==void 0?d[263].set(d[268],d[264]):0,d[269]="mentions",d[265]=d[140].get(d[269]),d[140],d[265]?d[266]=!1:d[266]=!0,d[266]?c.resolve():c.sequence([function(a){return d[271]=c.createArray(),d[272]=c.i64.of_int32(d[265].length),c.i64.gt(d[272],c.i64.cast([0,0]))?c.loopAsync(d[272],function(a){return d[273]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[265],d[273]).then(function(a){return a=a,d[274]=a[0],d[275]=a[1],a})},function(a){return d[276]=new c.Map(),d[279]="offset",d[277]=d[274].get(d[279]),d[274],c.i64.neq(d[277],void 0)?d[276].set(d[279],d[277]):0,d[280]="length",d[278]=d[274].get(d[280]),d[274],c.i64.neq(d[278],void 0)?d[276].set(d[280],d[278]):0,d[281]=(d[271].push(d[276]),d[271])}])}):c.resolve()},function(a){return d[263].set(d[269],d[271])}])},function(a){return d[270]="expiration_timestamp_ms",d[267]=d[140].get(d[270]),d[140],d[267]!==void 0?d[263].set(d[270],c.i64.from_string(d[267])):0,d[262]=d[263]}])},function(a){return d[89].set(d[230],d[262])}])},function(a){return d[231]="ai_bot_summon_metadata",d[142]=d[88].get(d[231]),d[88],d[142]?d[143]=!1:d[143]=!0,d[143]?0:(d[142]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="is_e2ee_summon_message",d[264]=d[142].get(d[265]),d[142],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[231],d[262])),d[232]="ai_forwarded_metadata",d[144]=d[88].get(d[232]),d[88],d[144]?d[145]=!1:d[145]=!0,d[145]?0:(d[144]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[263]=new c.Map(),d[265]="is_generated_by_meta_ai",d[264]=d[144].get(d[265]),d[144],d[264]!==void 0?d[263].set(d[265],d[264]):0,d[262]=d[263]),d[89].set(d[232],d[262])),d[146]=d[89].get("ai_bot"),d[89],d[3].set("ai_bot",d[146]),d[147]=new c.Map(),d[233]="sticker",d[148]=d[3].get(d[233]),d[3],d[148]?d[149]=!1:d[149]=!0,d[149]?0:(d[148]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[270]="sticker_pack_id",d[266]=d[148].get(d[270]),d[148],d[266]!==void 0?d[265].set(d[270],d[266]):0,d[271]="sticker_id",d[267]=d[148].get(d[271]),d[148],d[267]!==void 0?d[265].set(d[271],d[267]):0,d[272]="avatar_style",d[268]=d[148].get(d[272]),d[148],d[268]!==void 0?d[265].set(d[272],d[268]):0,d[273]="avatar_revision_id",d[269]=d[148].get(d[273]),d[148],c.i64.neq(d[269],void 0)?(c.i64.neq(d[269],void 0)?d[274]=c.i64.to_string(d[269]):d[274]=void 0,d[265].set(d[273],d[274])):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[233],d[262]):0),d[234]="word_effects",d[150]=d[3].get(d[234]),d[3],d[150]?d[151]=!1:d[151]=!0,d[151]?0:(d[150]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[272]="magic_word_offsets",d[266]=d[150].get(d[272]),d[150],d[266]?d[267]=!1:d[267]=!0,d[267]?0:d[265].set(d[272],d[266]),d[273]="magic_word_lengths",d[268]=d[150].get(d[273]),d[150],d[268]?d[269]=!1:d[269]=!0,d[269]?0:d[265].set(d[273],d[268]),d[274]="magic_word_emojis",d[270]=d[150].get(d[274]),d[150],d[270]?d[271]=!1:d[271]=!0,d[271]?0:(d[275]=c.i64.of_int32(d[270].length),c.i64.neq(d[275],c.i64.cast([0,0]))?d[265].set(d[274],d[270]):0),d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[234],d[262]):0),d[235]="ig_avatar_sticker",d[152]=d[3].get(d[235]),d[3],d[152]?d[153]=!1:d[153]=!0,d[153]?0:(d[152]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="is_avatar_sticker",d[266]=d[152].get(d[267]),d[152],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[235],d[262]):0),d[236]="power_up",d[154]=d[3].get(d[236]),d[3],d[154]?d[155]=!1:d[155]=!0,d[155]?0:(d[154]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="power_up_style",d[266]=d[154].get(d[267]),d[154],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[236],d[262]):0),d[237]="ai_bot",d[156]=d[3].get(d[237]),d[3],d[156]?d[157]=!1:d[157]=!0,d[157]?c.resolve():c.sequence([function(a){return d[156]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[294]="response_id",d[266]=d[156].get(d[294]),d[156],d[266]!==void 0?d[265].set(d[294],d[266]):0,d[295]="bot_action",d[267]=d[156].get(d[295]),d[156],d[267]!==void 0?d[265].set(d[295],d[267]):0,d[296]="sentiment",d[268]=d[156].get(d[296]),d[156],d[268]!==void 0?d[265].set(d[296],d[268]):0,d[297]="sentiment_intensity",d[269]=d[156].get(d[297]),d[156],d[269]!==void 0?d[265].set(d[297],d[269]):0,d[298]="imagine_media_id",d[270]=d[156].get(d[298]),d[156],c.i64.neq(d[270],void 0)?(c.i64.neq(d[270],void 0)?d[319]=c.i64.to_string(d[270]):d[319]=void 0,d[265].set(d[298],d[319])):0,d[299]="bot_action_int",d[271]=d[156].get(d[299]),d[156],c.i64.neq(d[271],void 0)?d[265].set(d[299],d[271]):0,d[300]="sentiment_int",d[272]=d[156].get(d[300]),d[156],c.i64.neq(d[272],void 0)?d[265].set(d[300],d[272]):0,d[301]="sentiment_intensity_int",d[273]=d[156].get(d[301]),d[156],c.i64.neq(d[273],void 0)?d[265].set(d[301],d[273]):0,d[302]="bot_invocation_message_id",d[274]=d[156].get(d[302]),d[156],d[274]!==void 0?d[265].set(d[302],d[274]):0,d[303]="bot_response_id",d[275]=d[156].get(d[303]),d[156],d[275]!==void 0?d[265].set(d[303],d[275]):0,d[304]="bot_invocation_message_otid",d[276]=d[156].get(d[304]),d[156],d[276]!==void 0?d[265].set(d[304],d[276]):0,d[305]="bot_invocation_logging_id",d[277]=d[156].get(d[305]),d[156],d[277]!==void 0?d[265].set(d[305],d[277]):0,d[306]="bot_invocation_sender_id",d[278]=d[156].get(d[306]),d[156],d[278]!==void 0?d[265].set(d[306],d[278]):0,d[307]="is_error",d[279]=d[156].get(d[307]),d[156],d[279]!==void 0?d[265].set(d[307],d[279]):0,d[308]="bot_subscription_id",d[280]=d[156].get(d[308]),d[156],c.i64.neq(d[280],void 0)?(c.i64.neq(d[280],void 0)?d[319]=c.i64.to_string(d[280]):d[319]=void 0,d[265].set(d[308],d[319])):0,d[309]="bot_subscription_product_type",d[281]=d[156].get(d[309]),d[156],d[281]!==void 0?d[265].set(d[309],d[281]):0,d[310]="bot_response_product_type",d[282]=d[156].get(d[310]),d[156],d[282]!==void 0?d[265].set(d[310],d[282]):0,d[311]="original_prompt_text",d[283]=d[156].get(d[311]),d[156],d[283]!==void 0?d[265].set(d[311],d[283]):0,d[312]="bot_response_additional_message_otids",d[284]=d[156].get(d[312]),d[156],d[284]?d[285]=!1:d[285]=!0,d[285]?0:(d[319]=c.i64.of_int32(d[284].length),c.i64.neq(d[319],c.i64.cast([0,0]))?d[265].set(d[312],d[284]):0),d[313]="imagine_media_info",d[286]=d[156].get(d[313]),d[156],d[286]?d[287]=!1:d[287]=!0,d[287]?c.resolve():c.sequence([function(a){return d[286]?d[319]=!1:d[319]=!0,d[319]?c.resolve(d[320]=void 0):c.sequence([function(a){return d[322]=c.createArray(),d[323]=c.i64.of_int32(d[286].length),c.i64.gt(d[323],c.i64.cast([0,0]))?c.loopAsync(d[323],function(a){return d[324]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[286],d[324]).then(function(a){return a=a,d[325]=a[0],d[326]=a[1],a})},function(a){return d[327]=new c.Map(),d[331]="imagine_media_id",d[328]=d[325].get(d[331]),d[325],c.i64.neq(d[328],void 0)?(c.i64.neq(d[328],void 0)?d[334]=c.i64.to_string(d[328]):d[334]=void 0,d[327].set(d[331],d[334])):0,d[332]="editable",d[329]=d[325].get(d[332]),d[325],d[329]!==void 0?d[327].set(d[332],d[329]):0,d[333]="animatable",d[330]=d[325].get(d[333]),d[325],d[330]!==void 0?d[327].set(d[333],d[330]):0,d[334]=(d[322].push(d[327]),d[322])}])}):c.resolve()},function(a){return d[320]=d[322]}])},function(a){return d[321]=c.i64.of_int32(d[320].length),c.i64.neq(d[321],c.i64.cast([0,0]))?d[265].set(d[313],d[320]):0}])},function(a){return d[314]="groups_ugc_metadata",d[288]=d[156].get(d[314]),d[156],d[288]?d[289]=!1:d[289]=!0,d[289]?0:(d[288]?d[319]=!1:d[319]=!0,d[319]?d[320]=void 0:(d[323]=new c.Map(),d[325]="share_to_comment_uri",d[324]=d[288].get(d[325]),d[288],d[324]!==void 0?d[323].set(d[325],d[324]):0,d[320]=d[323]),d[321]=d[320].keys(),d[322]=c.i64.of_int32(d[321].length),c.i64.neq(d[322],c.i64.cast([0,0]))?d[265].set(d[314],d[320]):0),d[315]="bot_proactive_message_type",d[290]=d[156].get(d[315]),d[156],c.i64.neq(d[290],void 0)?d[265].set(d[315],d[290]):0,d[316]="conversation_header",d[291]=d[156].get(d[316]),d[156],d[291]!==void 0?d[265].set(d[316],d[291]):0,d[317]="stream_status",d[292]=d[156].get(d[317]),d[156],d[292]!==void 0?d[265].set(d[317],d[292]):0,d[318]="stream_status_type",d[293]=d[156].get(d[318]),d[156],d[293]!==void 0?d[265].set(d[318],d[293]):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[237],d[262]):0}])},function(a){return d[238]="pobox",d[158]=d[3].get(d[238]),d[3],d[158]?d[159]=!1:d[159]=!0,d[159]?0:(d[158]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[268]="pobox_fbid",d[266]=d[158].get(d[268]),d[158],c.i64.neq(d[266],void 0)?(c.i64.neq(d[266],void 0)?d[270]=c.i64.to_string(d[266]):d[270]=void 0,d[265].set(d[268],d[270])):0,d[269]="pobox_id",d[267]=d[158].get(d[269]),d[158],d[267]!==void 0?d[265].set(d[269],d[267]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[238],d[262]):0),d[239]="video",d[160]=d[3].get(d[239]),d[3],d[160]?d[161]=!1:d[161]=!0,d[161]?0:(d[160]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="unified_upload_mos",d[266]=d[160].get(d[267]),d[160],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[239],d[262]):0),d[240]="text_translation",d[162]=d[3].get(d[240]),d[3],d[162]?d[163]=!1:d[163]=!0,d[163]?0:(d[162]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[269]="translated_text",d[266]=d[162].get(d[269]),d[162],d[266]!==void 0?d[265].set(d[269],d[266]):0,d[270]="text_dialect",d[267]=d[162].get(d[270]),d[162],d[267]!==void 0?d[265].set(d[270],d[267]):0,d[271]="translated_text_dialect",d[268]=d[162].get(d[271]),d[162],d[268]!==void 0?d[265].set(d[271],d[268]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[240],d[262]):0),d[241]="memories",d[164]=d[3].get(d[241]),d[3],d[164]?d[165]=!1:d[165]=!0,d[165]?c.resolve():c.sequence([function(a){return d[164]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[273]="original_message_id",d[266]=d[164].get(d[273]),d[164],d[266]!==void 0?d[265].set(d[273],d[266]):0,d[274]="original_message_creation_ts",d[267]=d[164].get(d[274]),d[164],c.i64.neq(d[267],void 0)?(c.i64.neq(d[267],void 0)?d[279]=c.i64.to_string(d[267]):d[279]=void 0,d[265].set(d[274],d[279])):0,d[275]="memory_server_id",d[268]=d[164].get(d[275]),d[164],c.i64.neq(d[268],void 0)?(c.i64.neq(d[268],void 0)?d[279]=c.i64.to_string(d[268]):d[279]=void 0,d[265].set(d[275],d[279])):0,d[276]="memory_template_type",d[269]=d[164].get(d[276]),d[164],d[269]!==void 0?d[265].set(d[276],d[269]):0,d[277]="memory_context_messages",d[270]=d[164].get(d[277]),d[164],d[270]?d[271]=!1:d[271]=!0,d[271]?c.resolve():c.sequence([function(a){return d[270]?d[279]=!1:d[279]=!0,d[279]?c.resolve(d[280]=void 0):c.sequence([function(a){return d[282]=c.createArray(),d[283]=c.i64.of_int32(d[270].length),c.i64.gt(d[283],c.i64.cast([0,0]))?c.loopAsync(d[283],function(a){return d[284]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[270],d[284]).then(function(a){return a=a,d[285]=a[0],d[286]=a[1],a})},function(a){return d[287]=new c.Map(),d[292]="sender_id",d[288]=d[285].get(d[292]),d[285],c.i64.neq(d[288],void 0)?(c.i64.neq(d[288],void 0)?d[295]=c.i64.to_string(d[288]):d[295]=void 0,d[287].set(d[292],d[295])):0,d[293]="message_text",d[289]=d[285].get(d[293]),d[285],d[289]!==void 0?d[287].set(d[293],d[289]):0,d[294]="reactions",d[290]=d[285].get(d[294]),d[285],d[290]?d[291]=!1:d[291]=!0,d[291]?0:(d[295]=c.i64.of_int32(d[290].length),c.i64.neq(d[295],c.i64.cast([0,0]))?d[287].set(d[294],d[290]):0),d[295]=(d[282].push(d[287]),d[282])}])}):c.resolve()},function(a){return d[280]=d[282]}])},function(a){return d[281]=c.i64.of_int32(d[280].length),c.i64.neq(d[281],c.i64.cast([0,0]))?d[265].set(d[277],d[280]):0}])},function(a){return d[278]="is_memory_originating_thread",d[272]=d[164].get(d[278]),d[164],d[272]!==void 0?d[265].set(d[278],d[272]):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[241],d[262]):0}])},function(a){return d[242]="command",d[166]=d[3].get(d[242]),d[3],d[166]?d[167]=!1:d[167]=!0,d[167]?0:(d[166]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="command_type",d[266]=d[166].get(d[267]),d[166],c.i64.neq(d[266],void 0)?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[242],d[262]):0),d[243]="admin_message",d[168]=d[3].get(d[243]),d[3],d[168]?d[169]=!1:d[169]=!0,d[169]?0:(d[168]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[276]="ad_client_token",d[266]=d[168].get(d[276]),d[168],d[266]!==void 0?d[265].set(d[276],d[266]):0,d[277]="ad_preference_url",d[267]=d[168].get(d[277]),d[168],d[267]!==void 0?d[265].set(d[277],d[267]):0,d[278]="ad_help_url",d[268]=d[168].get(d[278]),d[168],d[268]!==void 0?d[265].set(d[278],d[268]):0,d[279]="show_ad_choice_icon",d[269]=d[168].get(d[279]),d[168],d[269]!==void 0?d[265].set(d[279],d[269]):0,d[280]="title",d[270]=d[168].get(d[280]),d[168],d[270]!==void 0?d[265].set(d[280],d[270]):0,d[281]="action_url",d[271]=d[168].get(d[281]),d[168],d[271]!==void 0?d[265].set(d[281],d[271]):0,d[282]="admin_message_nickname_participant_id",d[272]=d[168].get(d[282]),d[168],c.i64.neq(d[272],void 0)?(c.i64.neq(d[272],void 0)?d[286]=c.i64.to_string(d[272]):d[286]=void 0,d[265].set(d[282],d[286])):0,d[283]="target_id",d[273]=d[168].get(d[283]),d[168],c.i64.neq(d[273],void 0)?(c.i64.neq(d[273],void 0)?d[286]=c.i64.to_string(d[273]):d[286]=void 0,d[265].set(d[283],d[286])):0,d[284]="target_title",d[274]=d[168].get(d[284]),d[168],d[274]!==void 0?d[265].set(d[284],d[274]):0,d[285]="identifier_name",d[275]=d[168].get(d[285]),d[168],d[275]!==void 0?d[265].set(d[285],d[275]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[243],d[262]):0),d[244]="misinfo_metadata",d[170]=d[3].get(d[244]),d[3],d[170]?d[171]=!1:d[171]=!0,d[171]?0:(d[170]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[268]="has_misinfo",d[266]=d[170].get(d[268]),d[170],d[266]!==void 0?d[265].set(d[268],d[266]):0,d[269]="misinfo_source",d[267]=d[170].get(d[269]),d[170],d[267]!==void 0?d[265].set(d[269],d[267]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[244],d[262]):0),d[245]="forwarded_message",d[172]=d[3].get(d[245]),d[3],d[172]?d[173]=!1:d[173]=!0,d[173]?0:(d[172]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[268]="forwarded_from_thread_name",d[266]=d[172].get(d[268]),d[172],d[266]!==void 0?d[265].set(d[268],d[266]):0,d[269]="forwarded_from_thread_url",d[267]=d[172].get(d[269]),d[172],d[267]!==void 0?d[265].set(d[269],d[267]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[245],d[262]):0),d[246]="ai_metadata",d[174]=d[3].get(d[246]),d[3],d[174]?d[175]=!1:d[175]=!0,d[175]?0:(d[174]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[271]="is_ai_generated",d[266]=d[174].get(d[271]),d[174],d[266]!==void 0?d[265].set(d[271],d[266]):0,d[272]="gen_ai_integrity_ent_id",d[267]=d[174].get(d[272]),d[174],c.i64.neq(d[267],void 0)?(c.i64.neq(d[267],void 0)?d[276]=c.i64.to_string(d[267]):d[276]=void 0,d[265].set(d[272],d[276])):0,d[273]="ai_product",d[268]=d[174].get(d[273]),d[174],d[268]!==void 0?d[265].set(d[273],d[268]):0,d[274]="original_prompt_text",d[269]=d[174].get(d[274]),d[174],d[269]!==void 0?d[265].set(d[274],d[269]):0,d[275]="imagine_media_id",d[270]=d[174].get(d[275]),d[174],c.i64.neq(d[270],void 0)?(c.i64.neq(d[270],void 0)?d[276]=c.i64.to_string(d[270]):d[276]=void 0,d[265].set(d[275],d[276])):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[246],d[262]):0),d[247]="encrypted_message",d[176]=d[3].get(d[247]),d[3],d[176]?d[177]=!1:d[177]=!0,d[177]?c.resolve():c.sequence([function(a){return d[176]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[273]="thread_id",d[266]=d[176].get(d[273]),d[176],d[266]!==void 0?d[265].set(d[273],d[266]):0,d[274]="offline_threading_id",d[267]=d[176].get(d[274]),d[176],d[267]!==void 0?d[265].set(d[274],d[267]):0,d[275]="toplevel_payload",d[268]=d[176].get(d[275]),d[176],d[268]?d[269]=!1:d[269]=!0,d[269]?0:(d[278]=new c.Map(),d[284]="encrypted_payload",d[279]=d[268].get(d[284]),d[268],d[279]!==void 0?d[278].set(d[284],d[279]):0,d[285]="payloadTimestampMs",d[280]=d[268].get(d[285]),d[268],c.i64.neq(d[280],void 0)?d[278].set(d[285],c.i64.to_string(d[280])):0,d[286]="encryption_version",d[281]=d[268].get(d[286]),d[268],c.i64.neq(d[281],void 0)?d[278].set(d[286],d[281]):0,d[287]="epoch_id",d[282]=d[268].get(d[287]),d[268],c.i64.neq(d[282],void 0)?d[278].set(d[287],c.i64.to_string(d[282])):0,d[288]="epoch_anon_id",d[283]=d[268].get(d[288]),d[268],d[283]!==void 0?d[278].set(d[288],d[283]):0,d[265].set(d[275],d[278])),d[276]="supplemental_payloads",d[270]=d[176].get(d[276]),d[176],d[270]?d[271]=!1:d[271]=!0,d[271]?c.resolve():c.sequence([function(a){return d[278]=c.createArray(),d[279]=c.i64.of_int32(d[270].length),c.i64.gt(d[279],c.i64.cast([0,0]))?c.loopAsync(d[279],function(a){return d[280]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[270],d[280]).then(function(a){return a=a,d[281]=a[0],d[282]=a[1],a})},function(a){return d[283]=new c.Map(),d[288]="encrypted_supplemental_key",d[284]=d[281].get(d[288]),d[281],d[284]!==void 0?d[283].set(d[288],d[284]):0,d[289]="supplemental_key_ciphertext",d[285]=d[281].get(d[289]),d[281],d[285]!==void 0?d[283].set(d[289],d[285]):0,d[290]="encrypted_supplemental_payload",d[286]=d[281].get(d[290]),d[281],d[286]?d[287]=!1:d[287]=!0,d[287]?0:(d[291]=new c.Map(),d[297]="encrypted_payload",d[292]=d[286].get(d[297]),d[286],d[292]!==void 0?d[291].set(d[297],d[292]):0,d[298]="payloadTimestampMs",d[293]=d[286].get(d[298]),d[286],c.i64.neq(d[293],void 0)?d[291].set(d[298],c.i64.to_string(d[293])):0,d[299]="encryption_version",d[294]=d[286].get(d[299]),d[286],c.i64.neq(d[294],void 0)?d[291].set(d[299],d[294]):0,d[300]="epoch_id",d[295]=d[286].get(d[300]),d[286],c.i64.neq(d[295],void 0)?d[291].set(d[300],c.i64.to_string(d[295])):0,d[301]="epoch_anon_id",d[296]=d[286].get(d[301]),d[286],d[296]!==void 0?d[291].set(d[301],d[296]):0,d[283].set(d[290],d[291])),d[291]=(d[278].push(d[283]),d[278])}])}):c.resolve()},function(a){return d[265].set(d[276],d[278])}])},function(a){return d[277]="is_open_eb",d[272]=d[176].get(d[277]),d[176],d[272]!==void 0?d[265].set(d[277],d[272]):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[247],d[262]):0}])},function(a){return d[248]="rich_text",d[178]=d[3].get(d[248]),d[3],d[178]?d[179]=!1:d[179]=!0,d[179]?0:(d[178]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="rich_text_format_type",d[266]=d[178].get(d[267]),d[178],c.i64.neq(d[266],void 0)?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[248],d[262]):0),d[249]="content_logging_metadata",d[180]=d[3].get(d[249]),d[3],d[180]?d[181]=!1:d[181]=!0,d[181]?c.resolve():c.sequence([function(a){return d[180]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[270]="containing_post",d[266]=d[180].get(d[270]),d[180],d[266]?d[267]=!1:d[267]=!0,d[267]?c.resolve():c.sequence([function(a){return d[266]?d[272]=!1:d[272]=!0,d[272]?c.resolve(d[273]=void 0):c.sequence([function(a){return d[276]=new c.Map(),d[284]="key_type",d[277]=d[266].get(d[284]),d[266],d[277]!==void 0?d[276].set(d[284],d[277]):0,d[285]="fb_post_type",d[278]=d[266].get(d[285]),d[266],d[278]?d[279]=!1:d[279]=!0,d[279]?0:(d[288]=c.i64.of_int32(d[278].length),c.i64.neq(d[288],c.i64.cast([0,0]))?d[276].set(d[285],d[278]):0),d[286]="photos",d[280]=d[266].get(d[286]),d[266],d[280]?d[281]=!1:d[281]=!0,d[281]?c.resolve():c.sequence([function(a){return d[280]?d[288]=!1:d[288]=!0,d[288]?c.resolve(d[289]=void 0):c.sequence([function(a){return d[291]=c.createArray(),d[292]=c.i64.of_int32(d[280].length),c.i64.gt(d[292],c.i64.cast([0,0]))?c.loopAsync(d[292],function(a){return d[293]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[280],d[293]).then(function(a){return a=a,d[294]=a[0],d[295]=a[1],a})},function(a){return d[296]=new c.Map(),d[298]="key_type",d[297]=d[294].get(d[298]),d[294],d[297]!==void 0?d[296].set(d[298],d[297]):0,d[299]=(d[291].push(d[296]),d[291])}])}):c.resolve()},function(a){return d[289]=d[291]}])},function(a){return d[290]=c.i64.of_int32(d[289].length),c.i64.neq(d[290],c.i64.cast([0,0]))?d[276].set(d[286],d[289]):0}])},function(a){return d[287]="videos",d[282]=d[266].get(d[287]),d[266],d[282]?d[283]=!1:d[283]=!0,d[283]?c.resolve():c.sequence([function(a){return d[282]?d[288]=!1:d[288]=!0,d[288]?c.resolve(d[289]=void 0):c.sequence([function(a){return d[291]=c.createArray(),d[292]=c.i64.of_int32(d[282].length),c.i64.gt(d[292],c.i64.cast([0,0]))?c.loopAsync(d[292],function(a){return d[293]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[282],d[293]).then(function(a){return a=a,d[294]=a[0],d[295]=a[1],a})},function(a){return d[296]=new c.Map(),d[298]="key_type",d[297]=d[294].get(d[298]),d[294],d[297]!==void 0?d[296].set(d[298],d[297]):0,d[299]=(d[291].push(d[296]),d[291])}])}):c.resolve()},function(a){return d[289]=d[291]}])},function(a){return d[290]=c.i64.of_int32(d[289].length),c.i64.neq(d[290],c.i64.cast([0,0]))?d[276].set(d[287],d[289]):0}])},function(a){return d[273]=d[276]}])},function(a){return d[274]=d[273].keys(),d[275]=c.i64.of_int32(d[274].length),c.i64.neq(d[275],c.i64.cast([0,0]))?d[265].set(d[270],d[273]):0}])},function(a){return d[271]="metadata",d[268]=d[180].get(d[271]),d[180],d[268]?d[269]=!1:d[269]=!0,d[269]?0:(d[268]?d[272]=!1:d[272]=!0,d[272]?d[273]=void 0:(d[276]=d[268].get("__typename"),d[268],d[276]==="XMSGGroupsContentLoggingMetadata"?(d[278]=new c.Map(),d[280]="num_members",d[279]=d[268].get(d[280]),d[268],c.i64.neq(d[279],void 0)?d[278].set(d[280],d[279]):0,d[277]=d[278]):(d[276]==="XMSGStoriesContentLoggingMetadata"?(d[279]=new c.Map(),d[284]="author",d[280]=d[268].get(d[284]),d[268],d[280]?d[281]=!1:d[281]=!0,d[281]?0:(d[280]?d[287]=!1:d[287]=!0,d[287]?d[288]=void 0:(d[291]=new c.Map(),d[294]="profile",d[292]=d[280].get(d[294]),d[280],d[292]?d[293]=!1:d[293]=!0,d[293]?0:(d[292]?d[295]=!1:d[295]=!0,d[295]?d[296]=void 0:(d[299]=new c.Map(),d[301]="id",d[300]=d[292].get(d[301]),d[292],d[300]!==void 0?d[299].set(d[301],d[300]):0,d[296]=d[299]),d[297]=d[296].keys(),d[298]=c.i64.of_int32(d[297].length),c.i64.neq(d[298],c.i64.cast([0,0]))?d[291].set(d[294],d[296]):0),d[288]=d[291]),d[289]=d[288].keys(),d[290]=c.i64.of_int32(d[289].length),c.i64.neq(d[290],c.i64.cast([0,0]))?d[279].set(d[284],d[288]):0),d[285]="post_source",d[282]=d[268].get(d[285]),d[268],d[282]!==void 0?d[279].set(d[285],d[282]):0,d[286]="story_type",d[283]=d[268].get(d[286]),d[268],d[283]!==void 0?d[279].set(d[286],d[283]):0,d[278]=d[279]):d[278]=d[268],d[277]=d[278]),d[277].set("__typename",d[276]),d[273]=d[277]),d[274]=d[273].keys(),d[275]=c.i64.of_int32(d[274].length),c.i64.neq(d[275],c.i64.cast([0,0]))?d[265].set(d[271],d[273]):0),d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[249],d[262]):0}])},function(a){return d[250]="suggested_moderation_actions",d[182]=d[3].get(d[250]),d[3],d[182]?d[183]=!1:d[183]=!0,d[183]?c.resolve():c.sequence([function(a){return d[182]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[269]="suggested_moderation_actions_list",d[266]=d[182].get(d[269]),d[182],d[266]?d[267]=!1:d[267]=!0,d[267]?c.resolve():c.sequence([function(a){return d[266]?d[271]=!1:d[271]=!0,d[271]?c.resolve(d[272]=void 0):c.sequence([function(a){return d[275]=new c.Map(),d[278]="suggested_moderation_actions",d[276]=d[266].get(d[278]),d[266],d[276]?d[277]=!1:d[277]=!0,d[277]?c.resolve():c.sequence([function(a){return d[276]?d[279]=!1:d[279]=!0,d[279]?c.resolve(d[280]=void 0):c.sequence([function(a){return d[282]=c.createArray(),d[283]=c.i64.of_int32(d[276].length),c.i64.gt(d[283],c.i64.cast([0,0]))?c.loopAsync(d[283],function(a){return d[284]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[276],d[284]).then(function(a){return a=a,d[285]=a[0],d[286]=a[1],a})},function(a){return d[287]=new c.Map(),d[290]="primary_action",d[288]=d[285].get(d[290]),d[285],d[288]!==void 0?d[287].set(d[290],d[288]):0,d[291]="chained_actions",d[289]=d[285].get(d[291]),d[285],d[289]!==void 0?d[287].set(d[291],d[289]):0,d[292]=(d[282].push(d[287]),d[282])}])}):c.resolve()},function(a){return d[280]=d[282]}])},function(a){return d[281]=c.i64.of_int32(d[280].length),c.i64.neq(d[281],c.i64.cast([0,0]))?d[275].set(d[278],d[280]):0}])},function(a){return d[272]=d[275]}])},function(a){return d[273]=d[272].keys(),d[274]=c.i64.of_int32(d[273].length),c.i64.neq(d[274],c.i64.cast([0,0]))?d[265].set(d[269],d[272]):0}])},function(a){return d[270]="suggested_moderation_actions_json",d[268]=d[182].get(d[270]),d[182],d[268]!==void 0?d[265].set(d[270],d[268]):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[250],d[262]):0}])},function(a){return d[251]="highlights_tab_custom_card_metadata",d[184]=d[3].get(d[251]),d[3],d[184]?d[185]=!1:d[185]=!0,d[185]?0:(d[184]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[268]="is_custom_card",d[266]=d[184].get(d[268]),d[184],d[266]!==void 0?d[265].set(d[268],d[266]):0,d[269]="moment",d[267]=d[184].get(d[269]),d[184],d[267]!==void 0?d[265].set(d[269],d[267]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[251],d[262]):0),d[252]="highlights_tab_metadata",d[186]=d[3].get(d[252]),d[3],d[186]?d[187]=!1:d[187]=!0,d[187]?0:(d[186]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[271]="reply_source_type",d[266]=d[186].get(d[271]),d[186],d[266]!==void 0?d[265].set(d[271],d[266]):0,d[272]="reply_metadata",d[267]=d[186].get(d[272]),d[186],d[267]?d[268]=!1:d[268]=!0,d[268]?0:(d[267]?d[274]=!1:d[274]=!0,d[274]?d[275]=void 0:(d[278]=d[267].get("__typename"),d[267],d[278]==="XMSGHighlightsTabBirthdayReplyMetadata"?(d[280]=new c.Map(),d[282]="birthday_age",d[281]=d[267].get(d[282]),d[267],c.i64.neq(d[281],void 0)?d[280].set(d[282],d[281]):0,d[279]=d[280]):d[279]=d[267],d[279].set("__typename",d[278]),d[275]=d[279]),d[276]=d[275].keys(),d[277]=c.i64.of_int32(d[276].length),c.i64.neq(d[277],c.i64.cast([0,0]))?d[265].set(d[272],d[275]):0),d[273]="moment_card_metadata",d[269]=d[186].get(d[273]),d[186],d[269]?d[270]=!1:d[270]=!0,d[270]?0:(d[269]?d[274]=!1:d[274]=!0,d[274]?d[275]=void 0:(d[278]=new c.Map(),d[280]="moment_card_type",d[279]=d[269].get(d[280]),d[269],d[279]!==void 0?d[278].set(d[280],d[279]):0,d[275]=d[278]),d[276]=d[275].keys(),d[277]=c.i64.of_int32(d[276].length),c.i64.neq(d[277],c.i64.cast([0,0]))?d[265].set(d[273],d[275]):0),d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[252],d[262]):0),d[253]="business_thread_response_feedback",d[188]=d[3].get(d[253]),d[3],d[188]?d[189]=!1:d[189]=!0,d[189]?0:(d[188]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="is_feedback_button_enabled_for_message",d[266]=d[188].get(d[267]),d[188],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[253],d[262]):0),d[254]="live_shopping_metadata",d[190]=d[3].get(d[254]),d[3],d[190]?d[191]=!1:d[191]=!0,d[191]?0:(d[190]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="referral_post_id",d[266]=d[190].get(d[267]),d[190],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[254],d[262]):0),d[255]="reply_metadata",d[192]=d[3].get(d[255]),d[3],d[192]?d[193]=!1:d[193]=!0,d[193]?0:(d[192]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="is_markdown",d[266]=d[192].get(d[267]),d[192],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[255],d[262]):0),d[256]="mustache_cta",d[194]=d[3].get(d[256]),d[3],d[194]?d[195]=!1:d[195]=!0,d[195]?0:(d[194]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[269]="cta_type",d[266]=d[194].get(d[269]),d[194],d[266]!==void 0?d[265].set(d[269],d[266]):0,d[270]="title",d[267]=d[194].get(d[270]),d[194],d[267]!==void 0?d[265].set(d[270],d[267]):0,d[271]="action_url",d[268]=d[194].get(d[271]),d[194],d[268]!==void 0?d[265].set(d[271],d[268]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[256],d[262]):0),d[257]="inline_entities",d[196]=d[3].get(d[257]),d[3],d[196]?d[197]=!1:d[197]=!0,d[197]?c.resolve():c.sequence([function(a){return d[196]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[270]="entities",d[266]=d[196].get(d[270]),d[196],d[266]?d[267]=!1:d[267]=!0,d[267]?c.resolve():c.sequence([function(a){return d[273]=c.createArray(),d[274]=c.i64.of_int32(d[266].length),c.i64.gt(d[274],c.i64.cast([0,0]))?c.loopAsync(d[274],function(a){return d[275]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[266],d[275]).then(function(a){return a=a,d[276]=a[0],d[277]=a[1],a})},function(a){return d[278]=new c.Map(),d[287]="offset",d[279]=d[276].get(d[287]),d[276],c.i64.neq(d[279],void 0)?d[278].set(d[287],d[279]):0,d[288]="length",d[280]=d[276].get(d[288]),d[276],c.i64.neq(d[280],void 0)?d[278].set(d[288],d[280]):0,d[289]="type",d[281]=d[276].get(d[289]),d[276],d[281]!==void 0?d[278].set(d[289],d[281]):0,d[290]="metadata",d[282]=d[276].get(d[290]),d[276],d[282]?d[283]=!1:d[283]=!0,d[283]?0:(d[282]?d[294]=!1:d[294]=!0,d[294]?d[295]=void 0:(d[298]=new c.Map(),d[303]="search_query",d[299]=d[282].get(d[303]),d[282],d[299]!==void 0?d[298].set(d[303],d[299]):0,d[304]="reminder_topic",d[300]=d[282].get(d[304]),d[282],d[300]!==void 0?d[298].set(d[304],d[300]):0,d[305]="thread_surfing_metadata",d[301]=d[282].get(d[305]),d[282],d[301]?d[302]=!1:d[302]=!0,d[302]?0:(d[301]?d[306]=!1:d[306]=!0,d[306]?d[307]=void 0:(d[310]=new c.Map(),d[314]="matched_entity",d[311]=d[301].get(d[314]),d[301],d[311]!==void 0?d[310].set(d[314],d[311]):0,d[315]="prompts",d[312]=d[301].get(d[315]),d[301],d[312]?d[313]=!1:d[313]=!0,d[313]?0:d[310].set(d[315],d[312]),d[307]=d[310]),d[308]=d[307].keys(),d[309]=c.i64.of_int32(d[308].length),c.i64.neq(d[309],c.i64.cast([0,0]))?d[298].set(d[305],d[307]):0),d[295]=d[298]),d[296]=d[295].keys(),d[297]=c.i64.of_int32(d[296].length),c.i64.neq(d[297],c.i64.cast([0,0]))?d[278].set(d[290],d[295]):0),d[291]="action_label",d[284]=d[276].get(d[291]),d[276],d[284]!==void 0?d[278].set(d[291],d[284]):0,d[292]="context_token",d[285]=d[276].get(d[292]),d[276],d[285]!==void 0?d[278].set(d[292],d[285]):0,d[293]="context_token_type",d[286]=d[276].get(d[293]),d[276],c.i64.neq(d[286],void 0)?d[278].set(d[293],d[286]):0,d[294]=(d[273].push(d[278]),d[273])}])}):c.resolve()},function(a){return d[265].set(d[270],d[273])}])},function(a){return d[271]="inference_timestamp_ms",d[268]=d[196].get(d[271]),d[196],c.i64.neq(d[268],void 0)?(c.i64.neq(d[268],void 0)?d[273]=c.i64.to_string(d[268]):d[273]=void 0,d[265].set(d[271],d[273])):0,d[272]="inference_model_version",d[269]=d[196].get(d[272]),d[196],c.i64.neq(d[269],void 0)?d[265].set(d[272],d[269]):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[257],d[262]):0}])},function(a){return d[258]="note_metadata",d[198]=d[3].get(d[258]),d[3],d[198]?d[199]=!1:d[199]=!0,d[199]?c.resolve():c.sequence([function(a){return d[198]?d[261]=!1:d[261]=!0,d[261]?c.resolve(d[262]=void 0):c.sequence([function(a){return d[265]=new c.Map(),d[270]="message_type",d[266]=d[198].get(d[270]),d[198],d[266]!==void 0?d[265].set(d[270],d[266]):0,d[271]="mentions",d[267]=d[198].get(d[271]),d[198],d[267]?d[268]=!1:d[268]=!0,d[268]?c.resolve():c.sequence([function(a){return d[273]=c.createArray(),d[274]=c.i64.of_int32(d[267].length),c.i64.gt(d[274],c.i64.cast([0,0]))?c.loopAsync(d[274],function(a){return d[275]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[267],d[275]).then(function(a){return a=a,d[276]=a[0],d[277]=a[1],a})},function(a){return d[278]=new c.Map(),d[281]="offset",d[279]=d[276].get(d[281]),d[276],c.i64.neq(d[279],void 0)?d[278].set(d[281],d[279]):0,d[282]="length",d[280]=d[276].get(d[282]),d[276],c.i64.neq(d[280],void 0)?d[278].set(d[282],d[280]):0,d[283]=(d[273].push(d[278]),d[273])}])}):c.resolve()},function(a){return d[265].set(d[271],d[273])}])},function(a){return d[272]="expiration_timestamp_ms",d[269]=d[198].get(d[272]),d[198],c.i64.neq(d[269],void 0)?d[265].set(d[272],c.i64.to_string(d[269])):0,d[262]=d[265]}])},function(a){return d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[258],d[262]):0}])},function(b){return d[259]="ai_bot_summon_metadata",d[200]=d[3].get(d[259]),d[3],d[200]?d[201]=!1:d[201]=!0,d[201]?0:(d[200]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="is_e2ee_summon_message",d[266]=d[200].get(d[267]),d[200],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[259],d[262]):0),d[260]="ai_forwarded_metadata",d[202]=d[3].get(d[260]),d[3],d[202]?d[203]=!1:d[203]=!0,d[203]?0:(d[202]?d[261]=!1:d[261]=!0,d[261]?d[262]=void 0:(d[265]=new c.Map(),d[267]="is_generated_by_meta_ai",d[266]=d[202].get(d[267]),d[202],d[266]!==void 0?d[265].set(d[267],d[266]):0,d[262]=d[265]),d[263]=d[262].keys(),d[264]=c.i64.of_int32(d[263].length),c.i64.neq(d[264],c.i64.cast([0,0]))?d[147].set(d[260],d[262]):0),d[204]=c.toJSON(d[147]),c.forEach(c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}),function(b){var c=b.update;b.item;return c({botResponseId:a[2],metadataDataclass:d[204]})})}]):c.forEach(c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}),function(b){var c=b.update;b.item;return c({botResponseId:a[2]})})}]):c.forEach(c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}),function(b){var c=b.update;b.item;return c({botResponseId:a[2],metadataDataclass:a[3]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSetBotResponseInfoStoredProcedure";e.exports=a}),null);
__d("LSTruncatePinnedThreads",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(82).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncatePinnedThreadsStoredProcedure";e.exports=a}),null);
__d("LSUpdateFolderThreadSnippet",["LSArrayGetObjectAt","LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[3]=a[1]):c.sequence([function(b){return d[4]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[7]=(d[4].push(a.threadKey),d[4])})},function(a){return c.sequence([function(a){return d[7]=c.createArray(),d[8]=c.i64.of_int32(d[4].length),c.i64.gt(d[8],c.i64.cast([0,0]))?c.loopAsync(d[8],function(a){return d[10]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(a){return d[13]=(d[7].push(c.i64.to_string(d[11])),d[7])}])}):c.resolve()},function(a){return d[9]=d[7].join(","),d[5]=d[9]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[4].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[1]=d[3]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[3]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}])},function(a){return d[1]=d[3]}])},function(e){return c.i64.eq(d[1],c.i64.cast([0,0]))?c.sequence([function(b){return d[3]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[8]=(d[3].push(a.threadKey),d[3])})},function(a){return c.sequence([function(a){return d[8]=c.createArray(),d[9]=c.i64.of_int32(d[3].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(a){return d[11]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[3],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=(d[8].push(c.i64.to_string(d[12])),d[8])}])}):c.resolve()},function(a){return d[10]=d[8].join(","),d[4]=d[10]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[5]=a[0],a})},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[3].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.eq(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&c.i64.neq(a.snippetSenderContactId,d[5])&&a.isAdminSnippet===!1})).then(function(a){return d[6]=a})},function(e){return c.i64.eq(c.i64.cast([0,0]),d[6])?c.resolve((d[8]=a[2].get("all_read"),a[2],d[7]=d[8])):c.sequence([function(b){return d[8]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[19]=(d[8].push(a.threadKey),d[8])})},function(a){return c.sequence([function(a){return d[19]=c.createArray(),d[20]=c.i64.of_int32(d[8].length),c.i64.gt(d[20],c.i64.cast([0,0]))?c.loopAsync(d[20],function(a){return d[22]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[22]).then(function(a){return a=a,d[23]=a[0],d[24]=a[1],a})},function(a){return d[25]=(d[19].push(c.i64.to_string(d[23])),d[19])}])}):c.resolve()},function(a){return d[21]=d[19].join(","),d[9]=d[21]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.islc(c.filter(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),function(a){return d[8].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.eq(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&c.i64.neq(a.snippetSenderContactId,d[10])&&a.isAdminSnippet===!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=["",c.i64.cast([-1,4294967295])],d[11]=a[0],d[12]=a[1],a):(e=b.item,a=[e.snippet,e.threadKey],d[11]=a[0],d[12]=a[1],a)})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.islc(c.db.table(14).fetch([[[d[12],{gt:d[14]}],[d[12],{lt:d[14]}]]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?d[15]=c.i64.cast([-1,4294967295]):(e=b.item,d[15]=e.contactId)})},function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[12],d[15]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[6],c.i64.cast([0,1]))?c.sequence([function(a){return d[19]=c.createArray(),d[21]=(d[19].push(d[17]),d[19]),c.localizeV2Async(c.i64.cast([0,1907280305]),d[19]).then(function(a){return d[20]=a})},function(a){return d[18]=d[20]}]):c.sequence([function(a){return d[19]=c.createArray(),d[21]=(d[19].push(d[17]),d[19]),c.localizeV2Async(c.i64.cast([0,1112375422]),d[19]).then(function(a){return d[20]=a})},function(a){return d[18]=d[20]}])},function(a){return d[7]=d[18]}])},function(a){return d[2]=d[7]}]):c.sequence([function(e){return c.i64.eq(d[1],c.i64.cast([0,1]))?c.sequence([function(b){return d[4]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[10]=(d[4].push(a.threadKey),d[4])})},function(a){return c.sequence([function(a){return d[10]=c.createArray(),d[11]=c.i64.of_int32(d[4].length),c.i64.gt(d[11],c.i64.cast([0,0]))?c.loopAsync(d[11],function(a){return d[13]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[4],d[13]).then(function(a){return a=a,d[14]=a[0],d[15]=a[1],a})},function(a){return d[16]=(d[10].push(c.i64.to_string(d[14])),d[10])}])}):c.resolve()},function(a){return d[12]=d[10].join(","),d[5]=d[12]}])},function(a){return c.islc(c.filter(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),function(a){return d[4].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&a.isAdminSnippet===!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=["",c.i64.cast([-1,4294967295])],d[6]=a[0],d[7]=a[1],a):(e=b.item,a=[e.snippet,e.threadKey],d[6]=a[0],d[7]=a[1],a)})},function(b){return d[6]!==void 0?d[9]=d[6]:(d[10]=a[2].get("unread_singular"),a[2],d[9]=[c.i64.to_string(d[1]),d[10]].join("")),d[3]=d[9]}]):c.sequence([function(a){return d[4]=c.createArray(),d[6]=(d[4].push(c.i64.to_string(d[1])),d[4]),c.localizeV2Async(c.i64.cast([0,3575257287]),d[4]).then(function(a){return d[5]=a})},function(a){return d[3]=d[5]}])},function(a){return d[2]=d[3]}])},function(a){return d[0]=d[2]}]):c.sequence([function(e){return c.i64.eq(f.threadType,c.i64.cast([0,17]))?c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[4]=a[1]):c.sequence([function(b){return d[5]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[8]=(d[5].push(a.threadKey),d[5])})},function(a){return c.sequence([function(a){return d[8]=c.createArray(),d[9]=c.i64.of_int32(d[5].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(a){return d[11]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[5],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return d[14]=(d[8].push(c.i64.to_string(d[12])),d[8])}])}):c.resolve()},function(a){return d[10]=d[8].join(","),d[6]=d[10]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[5].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}])},function(a){return d[2]=d[4]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[4]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[5]=a})},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(b){return c.i64.eq(d[2],c.i64.cast([0,0]))?c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&[c.i64.cast([0,18]),c.i64.cast([0,19])].some(function(a){return c.i64.eq(b.threadType,a)})})).then(function(a){return d[4]=a})},function(a){return c.i64.eq(d[4],c.i64.cast([0,1]))?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1416259530]),void 0).then(function(a){return d[6]=a})},function(a){return d[5]=d[6]}]):c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(c.i64.to_string(d[4])),d[6]),c.localizeV2Async(c.i64.cast([0,1681736754]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}])},function(a){return d[3]=d[5]}]):c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3802288555]),void 0).then(function(a){return d[5]=a})},function(a){return d[6]=d[5],d[4]=d[6]}]):c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(c.i64.to_string(d[2])),d[5]),c.localizeV2Async(c.i64.cast([0,1420387436]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}])},function(a){return d[3]=d[4]}])},function(a){return d[1]=d[3]}]):c.sequence([function(e){return c.i64.eq(a[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.resolve(d[7]=a[1]):c.sequence([function(b){return d[8]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[11]=(d[8].push(a.threadKey),d[8])})},function(a){return c.sequence([function(a){return d[11]=c.createArray(),d[12]=c.i64.of_int32(d[8].length),c.i64.gt(d[12],c.i64.cast([0,0]))?c.loopAsync(d[12],function(a){return d[14]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=(d[11].push(c.i64.to_string(d[15])),d[11])}])}):c.resolve()},function(a){return d[13]=d[11].join(","),d[9]=d[13]}])},function(a){return c.count(c.filter(c.db.table(9).fetch(),function(a){return d[8].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)&&!0&&!0})).then(function(a){return d[10]=a})},function(a){return d[7]=d[10]}])},function(a){return d[2]=d[7]}]):c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.resolve(d[7]=a[1]):c.sequence([function(b){return c.count(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))&&c.i64.eq(b.syncSource,c.i64.cast([0,2])))})).then(function(a){return d[8]=a})},function(a){return d[7]=d[8]}])},function(a){return d[2]=d[7]}])},function(b){return d[3]=a[2].get("all_read"),a[2],d[4]=a[2].get("unread_singular"),a[2],d[5]=a[2].get("unread_plural"),a[2],c.i64.eq(d[2],c.i64.cast([0,0]))?d[6]=d[3]:(c.i64.eq(d[2],c.i64.cast([0,1]))?d[7]=[c.i64.to_string(d[2]),d[4]].join(""):d[7]=[c.i64.to_string(d[2]),d[5]].join(""),d[6]=d[7]),d[1]=d[6]}])},function(a){return d[0]=d[1]}])},function(a){return c.forEach(c.db.table(9).fetch([[[f.threadKey]]]),function(a){var b=a.update;a.item;return b({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0})})}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateFolderThreadSnippetStoredProcedure";e.exports=a}),null);
__d("LSUpsertFolder",["LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.neq(a[3],void 0)?c.resolve(d[0]=a[3]):c.sequence([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,0]):(b=a.item,d[3]=b.lastActivityTimestampMs)})},function(a){return d[0]=d[3]}])},function(b){return c.i64.neq(a[4],void 0)?c.resolve(d[1]=a[4]):c.sequence([function(b){return c.sortBy(c.filter(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.i64.neq(a[3],void 0)?c.resolve(d[5]=a[3]):c.sequence([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[6]=c.i64.cast([0,0]):(e=b.item,d[6]=e.lastActivityTimestampMs)})},function(a){return d[5]=d[6]}])},function(a){return d[3]=d[5]}]):(e=b.item,d[3]=e.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[3]}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.sequence([function(b){return c.forEach(c.filter(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,6]),threadName:a[1],folderName:"",parentThreadKey:c.i64.cast([0,0]),threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:c.i64.cast([0,0]),muteExpireTimeMs:c.i64.cast([0,0]),snippet:"",isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:c.i64.cast([0,80]),ongoingCallState:c.i64.cast([0,0]),capabilities:c.i64.cast([0,0]),shouldRoundThreadPicture:!1})}]):(b.item,c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({threadName:a[1],folderName:"",parentThreadKey:c.i64.cast([0,0]),threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:c.i64.cast([0,0]),muteExpireTimeMs:c.i64.cast([0,0]),snippet:"",snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:c.i64.cast([0,80]),ongoingCallState:c.i64.cast([0,0]),capabilities:c.i64.cast([0,0]),shouldRoundThreadPicture:!1})}))})},function(d){return c.storedProcedure(b("LSUpdateFolderThreadSnippet"),a[0],a[5],a[6])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertFolderStoredProcedure";e.exports=a}),null);
__d("LSExpandedStaticDependencies",["LSAppendDataTraceAddon","LSBeginHandlingFireForgetTasksForQueue","LSClearAllScreenTimeRecords","LSClearAllSupervisionEdgeRecords","LSClearAllSupervisionMetadataRecords","LSClearThreadLimits","LSCompleteThreadCutover","LSDeleteAllCmFbEventData","LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteAllDeliverySettingWarnings","LSDeleteAllPublicChatFbEventData","LSDeleteBannersByIds","LSDeleteThenInsertBotProfileInfoV2","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertDeliverySetting","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertMessagingPrivacySettings","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertProactiveWarningSettings","LSDeleteThenInsertRankingRequest","LSDeleteThenInsertRankingScore","LSDeleteThenInsertThread","LSEncryptedBackupsStatusTriggerUpsert","LSEpdCookieSettingsUpsert","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSInsertDeliverySettingWarning","LSIssueNextSync","LSMailboxTaskCompletionApiOnTaskCompletion","LSMarkBumpedThreadsSeen","LSMarkFolderSeen","LSPopulateCommunityFolderData","LSRemoveTask","LSReportAppState","LSRoomTruncate","LSSerializeTask","LSSetBotResponseInfo","LSSetMessageTextHasLinks","LSSetRegionHint","LSStoreProjectConfiguration","LSStoryContactSyncFromBucket","LSTaskExists","LSTruncateCommunityListTable","LSTruncateFeatureLimits","LSTruncateNotificationSettings","LSTruncatePakeMessagesDatabase","LSTruncatePinnedThreads","LSTruncateQuietTime","LSTruncateReachabilitySettings","LSUpdateCommunityThreadStaleState","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpdateOrInsertCommunitySurfaceRange","LSUpdateOrInsertOhaiGatewayKeyConfigs","LSUpsertFolder","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyAndSaveNewCredentials","LSVerifyContactParticipantExist","LSVerifyContactRowExists","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadExists","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={appendDataTraceAddon:c("LSAppendDataTraceAddon"),beginHandlingFireForgetTasksForQueue:c("LSBeginHandlingFireForgetTasksForQueue"),clearAllScreenTimeRecords:c("LSClearAllScreenTimeRecords"),clearAllSupervisionEdgeRecords:c("LSClearAllSupervisionEdgeRecords"),clearAllSupervisionMetadataRecords:c("LSClearAllSupervisionMetadataRecords"),clearThreadLimits:c("LSClearThreadLimits"),completeThreadCutover:c("LSCompleteThreadCutover"),deleteAllCmFbEventData:c("LSDeleteAllCmFbEventData"),deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteAllDeliverySettingWarnings:c("LSDeleteAllDeliverySettingWarnings"),deleteAllPublicChatFbEventData:c("LSDeleteAllPublicChatFbEventData"),deleteBannersByIds:c("LSDeleteBannersByIds"),deleteThenInsertBotProfileInfoV2:c("LSDeleteThenInsertBotProfileInfoV2"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertDeliverySetting:c("LSDeleteThenInsertDeliverySetting"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertMessagingPrivacySettings:c("LSDeleteThenInsertMessagingPrivacySettings"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertProactiveWarningSettings:c("LSDeleteThenInsertProactiveWarningSettings"),deleteThenInsertRankingRequest:c("LSDeleteThenInsertRankingRequest"),deleteThenInsertRankingScore:c("LSDeleteThenInsertRankingScore"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),encryptedBackupsStatusTriggerUpsert:c("LSEncryptedBackupsStatusTriggerUpsert"),epdCookieSettingsUpsert:c("LSEpdCookieSettingsUpsert"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),insertDeliverySettingWarning:c("LSInsertDeliverySettingWarning"),issueNextSync:c("LSIssueNextSync"),mailboxTaskCompletionApiOnTaskCompletion:c("LSMailboxTaskCompletionApiOnTaskCompletion"),markBumpedThreadsSeen:c("LSMarkBumpedThreadsSeen"),markFolderSeen:c("LSMarkFolderSeen"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),reportAppState:c("LSReportAppState"),roomTruncate:c("LSRoomTruncate"),serializeTask:c("LSSerializeTask"),setBotResponseInfo:c("LSSetBotResponseInfo"),setMessageTextHasLinks:c("LSSetMessageTextHasLinks"),setRegionHint:c("LSSetRegionHint"),storeProjectConfiguration:c("LSStoreProjectConfiguration"),storyContactSyncFromBucket:c("LSStoryContactSyncFromBucket"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateFeatureLimits:c("LSTruncateFeatureLimits"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),truncatePakeMessagesDatabase:c("LSTruncatePakeMessagesDatabase"),truncatePinnedThreads:c("LSTruncatePinnedThreads"),truncateQuietTime:c("LSTruncateQuietTime"),truncateReachabilitySettings:c("LSTruncateReachabilitySettings"),updateCommunityThreadStaleState:c("LSUpdateCommunityThreadStaleState"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),updateOrInsertCommunitySurfaceRange:c("LSUpdateOrInsertCommunitySurfaceRange"),updateOrInsertOhaiGatewayKeyConfigs:c("LSUpdateOrInsertOhaiGatewayKeyConfigs"),upsertFolder:c("LSUpsertFolder"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyAndSaveNewCredentials:c("LSVerifyAndSaveNewCredentials"),verifyContactParticipantExist:c("LSVerifyContactParticipantExist"),verifyContactRowExists:c("LSVerifyContactRowExists"),verifyE2EEMetadataThreadExistsV2:c("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadExists:c("LSVerifyThreadExists"),verifyThreadRowExists:c("LSVerifyThreadRowExists")};b=a;g["default"]=b}),98);
__d("LSGetParentThreadKey",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,0]):(d=a.item,c[0]=d.parentThreadKey)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetParentThreadKeyStoredProcedure";e.exports=a}),null);
__d("LSReceiveMarkThreadReadNative",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.lastReadWatermarkTimestampMs)})},function(d){return b.i64.neq(c[0],void 0)&&b.i64.neq(a[1],void 0)&&b.i64.gt(a[1],c[0])?c[2]=a[1]:c[2]=void 0,b.i64.neq(c[2],void 0)?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[2]})})},function(a){return c[3]=c[2]}]):b.resolve(c[3]=void 0)},function(a){return d[0]=c[3]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxReceiveMarkThreadReadNativeStoredProcedure";e.exports=a}),null);
__d("LSUpdateParentFolderReadWatermark",["LSArrayGetObjectAt","LSGetParentThreadKey","LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSGetParentThreadKey"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],c.i64.cast([0,0]))?c.sequence([function(a){return c.i64.eq(d[0],c.i64.cast([-1,4294967284]))&&!1?c.sequence([function(a){return d[2]=c.createArray(),c.forEach(c.islc(c.db.table(9).fetchDesc([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,20]))),function(a){a=a.item;return d[6]=(d[2].push(a.threadKey),d[2])})},function(a){return c.sequence([function(a){return d[6]=c.createArray(),d[7]=c.i64.of_int32(d[2].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(a){return d[9]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[2],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(a){return d[12]=(d[6].push(c.i64.to_string(d[10])),d[6])}])}):c.resolve()},function(a){return d[8]=d[6].join(","),d[3]=d[8]}])},function(a){return c.sortBy(c.filter(c.db.table(9).fetch(),function(a){return d[2].some(function(b){return c.i64.eq(a.threadKey,b)})&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=void 0:(b=a.item,d[4]=b.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[4]}]):c.sequence([function(a){return c.sortBy(c.filter(c.db.table(9).fetch([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(a){return c.i64.eq(a.parentThreadKey,d[0])&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[2]}])},function(a){return c.i64.neq(d[1],void 0)?c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[1]})}):c.sequence([function(a){return c.db.table(9).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.lastActivityTimestampMs)})},function(a){return c.i64.neq(d[2],void 0)?c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[2]})}):c.resolve()}])},function(e){return c.storedProcedure(b("LSUpdateFolderThreadSnippet"),d[0],void 0,a[1])}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateParentFolderReadWatermarkStoredProcedure";e.exports=a}),null);