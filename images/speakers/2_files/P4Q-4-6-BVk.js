;/*FB_PKG_DELIM*/

__d("ChannelShareDialogLoggingContext",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BROADCAST_CHANNEL_CREATION","THREAD_DETAILS_SHARE_ITEM","THREAD_DETAILS_QUICK_ACTION","CONTEXT_BANNER_QUICK_ACTION"]);c=a;f["default"]=c}),66);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),e=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),f;b[0]!==a||b[1]!==e?(f=j.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:e})),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function a(a){var b=i(3);a=a.error;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=[k.cardWidth,k.errorBoundary],b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"fb_chat_tab",xstyle:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("FBIconChevronDownFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDownloadFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m101.18 938.694 3.259-3.258a.256.256 0 0 0-.182-.436h-1.382l-.714-5.278a.256.256 0 0 0-.254-.222h-1.803a.256.256 0 0 0-.253.221L99.125 935h-1.382a.256.256 0 0 0-.181.436l3.257 3.258c.1.1.262.1.362 0",transform:"translate(355 144.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.656 929.655a.756.756 0 0 0-.749-.655h-1.803a.756.756 0 0 0-.749.655l-.666 4.845h-.946a.756.756 0 0 0-.534 1.29l3.257 3.258a.756.756 0 0 0 1.068 0l3.258-3.258a.756.756 0 0 0-.535-1.29h-.945l-.656-4.845zm-4.026 5.277.495-.432h-.436l-.06.432zm-.298.568h.793a.5.5 0 0 0 .495-.432l.697-5.068h1.377l.686 5.067a.5.5 0 0 0 .495.433h.793L101 938.168l-2.668-2.668z",transform:"translate(355 144.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M96 939v.989c0 .558.453 1.011 1.011 1.011h7.978c.558 0 1.011-.453 1.011-1.011V939a.5.5 0 0 0-1 0v.989a.011.011 0 0 1-.011.011H97.01a.011.011 0 0 1-.011-.011V939a.5.5 0 0 0-1 0z",transform:"translate(355 144.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconFriendAddFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M105 920.25c0 1.242-.895 2.25-2 2.25s-2-1.008-2-2.25.572-2.25 2-2.25 2 1.008 2 2.25",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 920.25c0 1.506-1.105 2.75-2.5 2.75s-2.5-1.244-2.5-2.75c0-1.638.878-2.75 2.5-2.75 1.622 0 2.5 1.112 2.5 2.75zm-1 0c0-1.13-.489-1.75-1.5-1.75-1.011 0-1.5.62-1.5 1.75 0 .979.686 1.75 1.5 1.75s1.5-.771 1.5-1.75z",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M106.564 929h-7.129a.938.938 0 0 1-.935-.936v-.515a3.058 3.058 0 0 1 3.049-3.049h2.902a3.058 3.058 0 0 1 3.049 3.049v.515a.938.938 0 0 1-.936.936",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.564 929.5h-7.129c-.79 0-1.435-.645-1.435-1.436v-.515a3.558 3.558 0 0 1 3.549-3.549h2.902a3.558 3.558 0 0 1 3.549 3.549v.515c0 .791-.645 1.436-1.436 1.436zm0-1a.438.438 0 0 0 .436-.436v-.515c0-1.4-1.148-2.549-2.549-2.549h-2.902a2.558 2.558 0 0 0-2.55 2.549l.001.515c0 .239.197.436.435.436h7.13z",transform:"translate(351.5 156) translate(.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107 922h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0 0 1z",transform:"translate(351.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 920v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-1 0z",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a==null)throw c("FBLogger")("hdwp").mustfixThrow(b);return a}g.nullthrows=a}),98);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("message_id",a[0]),d[0].set("content_ref",a[1]),d[0].set("video_ps_product_holdout_2024h2_launch",a[2]),d[1]=d[0].get("message_id"),d[0],d[4]=["LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchSyncAction",".",d[1]].join(""),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskUsingSyncChannel"),d[4],c.i64.cast([0,1006]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),!1,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[3])},function(a){return c.storedProcedure(b("LSInsertAnonymousTaskContext"),d[3],"LS_MsgrXmaReceiverFetch")}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure";e.exports=a}),null);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch")(b.messageId,b.contentRef,b.videoPsProductHoldout2024h2Launch,a)}g["default"]=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure";e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSExecuteCTA")(b.ctaId,a)}g["default"]=a}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSFetchBanners")(b.threadKey,a)}g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[0],d[2]=d[0].get("armadillo_thread_key"),d[0],d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure";e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSInitiateThreadMigration")(b.openMessageThreadKey,b.armadilloThreadKey,b.shouldCopyMessages,b.traceId,a)}g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure";e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSRequestAdContextFromThreadKey")(b.threadKey,a)}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure";e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSServerMutationCta")(b.threadKey,b.marketplaceCtaType,a)}g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("MAWAttachmentSizeUtils",["I64","LSIntEnum","MWMessageListImageSizingUtils","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.previewHeight!=null?(h||(h=d("I64"))).to_float(a.previewHeight):a.previewHeightLarge!=null?(h||(h=d("I64"))).to_float(a.previewHeightLarge):void 0;a=a.previewWidth!=null?(h||(h=d("I64"))).to_float(a.previewWidth):a.previewWidthLarge!=null?(h||(h=d("I64"))).to_float(a.previewWidthLarge):void 0;return{height:b,width:a}}function j(a,b){var c=a.height;a=a.width;c=Math.min((c=c)!=null?c:200,200);a=Math.min((a=a)!=null?a:480,b==="Inbox"?500:167);return{maxHeight:c,maxWidth:a}}function b(a,b){var e,f=a==null?void 0:a.type;a=a.size;var g=a.height;a=a.width;switch(!0){case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,(e=b)!=null?e:void 0,!1);case(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return j({height:g,width:a},b)}return{maxHeight:void 0,maxWidth:void 0}}g.getSizeFromAttachment=a;g.getMaxSizeForVideo=j;g.getMaxSize=b}),98);
__d("useMAWMediaDownloadStatus",["react","useMAWBulkMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b,d){var e=i(4);if(e[0]!==a||e[1]!==d||e[2]!==b){var f;f=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(f=d)!=null?f:a.attachmentFbid}]:[];e[0]=a;e[1]=d;e[2]=b;e[3]=f}else f=e[3];a=f;d=a;b=c("useMAWBulkMediaDownloadStatus")(d);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMAWMaybeAutoTriggerDownload",["MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWMediaDownloadStatus","MAWRetryReceiverFetchSticker","MAWStateContext.react","WAHashUtils","gkx","isReceiverFetchSticker","react","useAsyncReStore","useMAWMediaDownloadStatus","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.c;function a(a,b,e,f){var g=l(21),h=c("useMAWMediaDownloadStatus")(a,b,f),m;g[0]!==a?(m=c("isReceiverFetchSticker")(a),g[0]=a,g[1]=m):m=g[1];var n=m,o=(h==null?void 0:(m=h.status)==null?void 0:m.mainMediaStatus)===c("MAWMediaDownloadStatus").MISSING_FILE||(h==null?void 0:(m=h.status)==null?void 0:m.mainMediaStatus)===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE||c("gkx")("5850")&&(h==null?void 0:(m=h.status)==null?void 0:m.mainMediaStatus)===c("MAWMediaDownloadStatus").DOWNLOADING;h=c("usePrevious")(o);var p=k(!1),q=i(d("MAWStateContext.react").MAWDispatchContext),r=c("useAsyncReStore")();g[2]!==o||g[3]!==n||g[4]!==r||g[5]!==a||g[6]!==q||g[7]!==b||g[8]!==f||g[9]!==e?(m=function(){o&&p.current===!1&&(p.current=!0,n?d("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(r,a,q,b):d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(a)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()?d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorkerWithPlaintextHash({attachment:a,dispatch:q,mediaRenderQpl:b,plaintextHash:f!=null?d("WAHashUtils").stringToPlaintextHash(f):void 0,triggerUIView:e}):d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:a,dispatch:q,mediaRenderQpl:b,triggerUIView:e}))},g[2]=o,g[3]=n,g[4]=r,g[5]=a,g[6]=q,g[7]=b,g[8]=f,g[9]=e,g[10]=m):m=g[10];var s;g[11]!==a||g[12]!==b||g[13]!==o||g[14]!==h||g[15]!==e||g[16]!==q||g[17]!==n||g[18]!==r||g[19]!==f?(s=[a,b,o,h,e,q,p,n,r,f],g[11]=a,g[12]=b,g[13]=o,g[14]=h,g[15]=e,g[16]=q,g[17]=n,g[18]=r,g[19]=f,g[20]=s):s=g[20];j(m,s)}g["default"]=a}),98);
__d("MAWAttachmentStateHandlerContentBase.react",["FBLogger","MAWMediaDownloadStatusUIStateType","react","useMAWBulkMediaDownloadManualRetry","useMAWMaybeAutoTriggerDownload","useMAWMediaDownloadStatus","useMAWMediaStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");h||(h=c("react"));var j=b.useEffect,k=b.useMemo;function a(a){var b=a.attachmentsFromGroupToRetry,e=a.dbAttachment,f=a.descriptionForLogging,g=a.downloadStatusKeyOverride,h=a.errorComponentRenderer,i=a.errorWithBlurComponentRenderer,l=a.loadingPlaceholderRenderer,m=a.mediaRenderQpl;a=a.successfulComponentRenderer;var n=k(function(){return b!=null&&b.length>0?b:[e]},[e,b]);n=c("useMAWBulkMediaDownloadManualRetry")(n,m);var o=c("useMAWMediaStatusUIState")(e,m,g),p=o.downloadStatus;o=(o=c("useMAWMediaDownloadStatus")(e,m,g))!=null?o:{};var q=o.status;c("useMAWMaybeAutoTriggerDownload")(e,m,"thread",g);j(function(){var a,b={string:{call_site:f,download_status_main_details:q==null?void 0:q.mainMediaStatusDetails,download_status_main_media:String(q==null?void 0:q.mainMediaStatus),download_status_preview_details:q==null?void 0:q.previewMediaStatusDetails,download_status_preview_media:String(q==null?void 0:q.previewMediaStatus),download_status_ui_state:p}};m==null?void 0:m.addPoint("render-attachment-state-handler-content-wrapper-"+((a=p)!=null?a:"null"),b)},[m,p,q==null?void 0:q.mainMediaStatusDetails,q==null?void 0:q.mainMediaStatus,q==null?void 0:q.previewMediaStatusDetails,q==null?void 0:q.previewMediaStatus,f]);j(function(){switch(p){case"non_retryable_error":case"retryable_error":case"non_retryable_error_with_preview":case"retryable_error_with_preview":Boolean(q==null?void 0:q.mainMediaStatusDetails)?m==null?void 0:m.endFail(p+": "+(q==null?void 0:q.mainMediaStatusDetails)):m==null?void 0:m.endFail(p);break;case null:case"downloaded":case"loading":break;default:m==null?void 0:m.endFail("unknown_state",{string:{unknown_state_value:p}});break}},[m,p,f]);o=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(p);switch(p){case null:case"loading":return l(f+".MAWAttachmentStateHandlerContentBase.NoMedia",!1);case"non_retryable_error":case"retryable_error":return h(o,n);case"non_retryable_error_with_preview":case"retryable_error_with_preview":return i==null?h(o,n):i(o,n);case"downloaded":return a(l);default:c("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",p);return l(f+".MAWAttachmentStateHandlerContentBase.UnknownState",!1)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=h._("__JHASH__uiTAWyhPCWI__JHASH__");function a(a){return a.filesize==null?null:c("formatFileSize")((i||(i=d("I64"))).to_int32(a.filesize))}g.PLACEHOLDER_FILENAME=b;g.getFileSize=a}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWFileViewerLogger","MWXPressable.react","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useEffect,m=b.c,n={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function o(a){var b=m(5),d=a.children,e=a.linkProps,f=a.onPress;a=a.testid;var g;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==d?(g=j.jsx(c("MWXPressable.react"),{display:"inline",linkProps:e,onPress:f,overlayDisabled:!0,testid:void 0,xstyle:n.filePressable,children:d}),b[0]=e,b[1]=f,b[2]=a,b[3]=d,b[4]=g):g=b[4];return g}function p(a){var b=m(6),e=a.attachmentID,f=a.children,g=a.entrypoint,h=a.linkProps,i=a.messageID,k=a.onPress;a=a.testid;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("MWFileViewerLogger").generateSessionId(),b[0]=l):l=b[0];i=c("useMWFileOnPress")(i,e,k,g,l);b[1]!==h||b[2]!==i||b[3]!==a||b[4]!==f?(e=j.jsx(o,{linkProps:h,onPress:i,testid:void 0,children:f}),b[1]=h,b[2]=i,b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.getFileUrl,h=a.mediaRenderQpl,m=a.onPress,n=a.renderUnsupportedAttachment;a=a.testid;a=((a=f.filename)!=null?a:d("MWFileUtils").PLACEHOLDER_FILENAME).toString();var q=g!=null?g(f,"MAWFilePressable",h):d("MAWAttachmentBlob.react").getAttachmentBlob(f,"MAWFilePressable",h);g=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(f.threadKey),f.messageId,i.to_string(f.timestampMs));var r={download:a,target:"_blank",url:q},s=d("MWFileUtils").getFileSize(f),t=k(function(a,b){c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),q!=null&&c("goUriOnNewWindow")(q)},[q]);l(function(){q!=null&&q.length>0?(h==null?void 0:h.addPoint("render-file-pressable"),h==null?void 0:h.endSuccess()):h==null?void 0:h.endFail("load-file-error")},[h,q]);if((q==null||q.length===0)&&n!=null)return n(f);return g.type==="sent"?j.jsx(c("CometErrorBoundary.react"),{onError:t,children:j.jsx(p,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:r,messageID:g.value,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}):j.jsx(o,{linkProps:r,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=j(8),d=a.file,e=a.getFileUrl,f=a.mediaRenderQpl;a=a.renderUnsupportedAttachment;var g;b[0]!==d?(g=function(a){var b=a.filename;a=a.size;return k.jsxs("div",{className:(h||(h=c("stylex")))(l.root,!1),children:[k.jsx(c("MWChatFilePreview.react"),{attachment:d,withPreview:!1}),k.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe",children:[k.jsx(c("MWXTextPairing.react"),{headline:b,headlineLineLimit:3,level:4}),k.jsx("div",{className:"x889kno",children:k.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]})},b[0]=d,b[1]=g):g=b[1];var i;b[2]!==d||b[3]!==e||b[4]!==f||b[5]!==a||b[6]!==g?(i=k.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:d,getFileUrl:e,mediaRenderQpl:f,renderUnsupportedAttachment:a,testid:void 0,children:g}),b[2]=d,b[3]=e,b[4]=f,b[5]=a,b[6]=g,b[7]=i):i=b[7];return i}g["default"]=a}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var d=i(4);a=a.isShown;var e;d[0]!==a?(e=a&&b("cr:3127")?j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(b("cr:3127"),{})}):null,d[0]=a,d[1]=e):e=d[1];d[2]!==e?(a=j.jsx(j.Fragment,{children:e}),d[2]=e,d[3]=a):a=d[3];return a}function k(){return null}g["default"]=a}),98);
__d("MAWCutoverQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={instanceKey:0,isInProgress:!1};function a(a){h.isInProgress&&c("QPLUserFlow").endCancel(c("qpl")._(1056840990,"2431"),{instanceKey:h.instanceKey});c("QPLUserFlow").start(c("qpl")._(1056840990,"2431"),{annotations:{bool:{is_dtc:a}},instanceKey:++h.instanceKey,timeoutInMs:1e4});h.isInProgress=!0;return h.instanceKey}function b(a,b,d){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(1056840990,"2431"),b,babelHelpers["extends"]({instanceKey:a},d))}function d(a,b){if(a==null)return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}function e(a){if(a==null)return;h.isInProgress=!1;c("QPLUserFlow").endSuccess(c("qpl")._(1056840990,"2431"),{instanceKey:a})}function f(a,b){if(a==null)return;c("QPLUserFlow").endFailure(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}g.startQpl=a;g.addPoint=b;g.addAnnotations=d;g.endSuccess=e;g.endFailure=f}),98);
__d("MWEBChatTabBannerNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8795529810476139"}),null);
__d("MWEBChatTabBannerNuxQuery.graphql",["MWEBChatTabBannerNuxQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNuxQuery",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWEBChatTabBannerNuxQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null}]},params:{id:b("MWEBChatTabBannerNuxQuery_facebookRelayOperation"),metadata:{},name:"MWEBChatTabBannerNuxQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNuxQuery.graphql","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsThreadListQPWrapper.react","cr:10252","react","useEncryptedBackupsProcessStatePreLoaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function l(){var a=j(3),e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWEBChatTabBannerNuxQuery.graphql"),{},{fetchPolicy:"store-or-network"}),f;a[0]!==e?(f={entrypoint:c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:e},a[0]=e,a[1]=f):f=a[1];e=c("useEncryptedBackupsProcessStatePreLoaded")(f);switch(e){case 2:a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:10252")&&k.jsx(b("cr:10252"),{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}),a[2]=f):f=a[2];return f;default:return null}}function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEBChatTabBannerNux",children:k.jsx(l,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["CometPlaceholder.react","MWEBChatTabBannerNux.react","cr:9715","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(2);if(b("cr:9715")&&c("gkx")("1778")){var d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:j.jsx(b("cr:9715"),{hasNoMargin:!0})}),a[0]=d):d=a[0];return d}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx(c("MWEBChatTabBannerNux.react"),{}),a[1]=d):d=a[1];return d}}g["default"]=a}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function a(a,b,d,e,g,i,j,k,l){h.onReady(function(h){return c("promiseDone")(h.runMessageIntegrityCheck(a,b,d,e,g,i,j,k,l))})}g.runMessageIntegrityCheckDeferred=a}),98);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MAWStateContext.react","MWXMAAttachment.react","isReceiverFetchDualSendReceivingEnabled","isReceiverFetchReceivingEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.c;function a(a){var b=l(17),c=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.hasText,h=a.mediaRenderQpl;a=a.outgoing;var p=j(d("MAWStateContext.react").MAWDispatchContext),q,r;b[0]!==f||b[1]!==p||b[2]!==h?(q=function(){f.hasMedia!==!0&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()&&!(d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(f)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled())&&d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:f,dispatch:p,mediaRenderQpl:h,triggerUIView:"thread"})},r=[f,h,p],b[0]=f,b[1]=p,b[2]=h,b[3]=q,b[4]=r):(q=b[3],r=b[4]);k(q,r);b[5]!==h?(q=function(){h==null?void 0:h.addPoint("render-xma-attachment")},b[5]=h,b[6]=q):q=b[6];b[7]!==f.hasMedia||b[8]!==h?(r=[f.hasMedia,h],b[7]=f.hasMedia,b[8]=h,b[9]=r):r=b[9];k(q,r);b[10]!==f||b[11]!==c||b[12]!==e||b[13]!==g||b[14]!==h||b[15]!==a?(q=i.jsx(d("MWXMAAttachment.react").MWXMAAttachment,{attachment:f,connectBottom:c,connectTop:e,getFaviconUrlXMA:o,getHeaderUrlXMA:n,getPreviewUrlXMA:m,hasText:g,mediaRenderQpl:h,outgoing:a}),b[10]=f,b[11]=c,b[12]=e,b[13]=g,b[14]=h,b[15]=a,b[16]=q):q=b[16];return q}function m(a,b,e,f){f==null?void 0:f.addPoint("fetch_preview_url_xma_start");if(a.previewUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){f==null?void 0:f.addPoint("fetch_preview_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").previewUrl(a);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaPreview===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function n(a,b,e){e==null?void 0:e.addPoint("fetch_header_url_xma_start");if(a.headerImageUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){e==null?void 0:e.addPoint("fetch_header_url_xma_receiver_fetch");var f=d("LSMediaUrlAttachment").headerImageUrl(a);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"receiver_fetch"}});return f}if(a.hasXmaHeaderImage===!0){f=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+b,e);e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(f)},string:{fetch_by:"maw_backend"}});return f}e==null?void 0:e.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function o(a,b,e,f){f==null?void 0:f.addPoint("fetch_favicon_url_xma_start");if(a.faviconUrl!=null&&(c("isReceiverFetchReceivingEnabled")(!0)||a.hasXmaPreview===!0&&c("isReceiverFetchDualSendReceivingEnabled")(!0))){f==null?void 0:f.addPoint("fetch_favicon_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").faviconUrl(a);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaFavicon===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+e,f);f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}f==null?void 0:f.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}g["default"]=a}),98);
__d("MAWReceiverFetchQPLLogger",["I64","MAWLoggerUtils","QPLUserFlow","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=60*1e3,k=c("qpl")._(973799425,"190"),l="error_message",m={PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",RECEIVER_FETCH_XMA_IN_VIEW:"receiver_fetch_xma_in_view"},n={ERROR_PARSING_XMA_DATACLASS_CONTENT:"error_parsing_xma_dataclass_content",EXISTING_ATTACHMENT_IS_NULL:"existing_attachment_is_null",EXISTING_MESSAGE_IS_NULL:"existing_message_is_null",RECEIVER_FECH_PARAMS_IS_NULL:"receiver_fech_params_is_null",RECEIVER_FETCH_TASK_FAILURE:"receiver_fetch_task_failure",TYPENAME_IS_NOT_XMA_SINGLE_CONTENT:"typename_is_not_xma_single_content",XMA_DATACLASS_IS_NULL:"xma_dataclass_is_null"};function o(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addPoint(k,b,{instanceKey:a})}function a(a,b){a=d("MAWLoggerUtils").getInstanceKeyFromId(a);a!=null&&c("QPLUserFlow").addAnnotations(k,b,{instanceKey:a})}function b(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);if((i||(i=c("QuickPerformanceLogger"))).isMarkerOn(k,b))return;c("QPLUserFlow").start(k,{instanceKey:b,timeoutInMs:j});o(a,m.RECEIVER_FETCH_XMA_IN_VIEW)}function e(a){o(a,m.PREVIEW_FETCH_START)}function f(a){var b=d("MAWLoggerUtils").getInstanceKeyFromId(a);o(a,m.PREVIEW_FETCH_TASK_COMPLETED);c("QPLUserFlow").endSuccess(k,{instanceKey:b})}function p(a,b,e,f){b=n[b];a=d("MAWLoggerUtils").getInstanceKeyFromId(a);c("QPLUserFlow").endFailure(k,b,{annotations:{"int":f!=null?{error_code:(h||(h=d("I64"))).to_int32(f)}:{},string:e!=null?(b={},b[l]=e,b):{}},instanceKey:a})}g.MARKER_POINTS=m;g.FAILURE_REASONS=n;g.logReceiverFetchPoint=o;g.logReceiverFetchAnnotation=a;g.logReceiverFetchXMAStartQPL=b;g.logPreviewFetchStart=e;g.logSuccess=f;g.logFailure=p}),98);
__d("MessagingACSClientTokenStoreContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g.MessagingACSClientTokenStoreContext=b}),98);
__d("useIssueXMAReceiverFetchTask",["FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","MessagingACSClientTokenStoreContext.react","Promise","cr:8567","gkx","promiseDone","react","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useContext,l=e.useRef,m=e.c;function n(a,e,g,i){if(g==null){d("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null");return(h||(h=b("Promise"))).resolve()}d("MAWReceiverFetchQPLLogger").logPreviewFetchStart(e);if(b("cr:8567"))return b("cr:8567").fetchGraphQLXMAReceiverFetchData(a,e,g,i);var j=c("gkx")("8698");return a.runInTransaction(function(a){return c("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(c("LSFactory")(a),{contentRef:g,messageId:e,videoPsProductHoldout2024h2Launch:j})},"readwrite",void 0,void 0,f.id+":61")}function a(a,b,e,f,g){var h=m(17),j=c("useAsyncReStore")(),o=c("useXMAPreviewsDisabledSetting")(),p=l(!1),q=k(d("MessagingACSClientTokenStoreContext.react").MessagingACSClientTokenStoreContext),r;h[0]!==e||h[1]!==o||h[2]!==g||h[3]!==a||h[4]!==j||h[5]!==b||h[6]!==q?(r=function(){if(e==null||(i||(i=d("LSIntEnum"))).toNumber(e)!==c("LSXmaContentType").MSG_RECEIVER_FETCH||o||p.current)return;g==null?void 0:g.addPoint("xma_receiver_fetch_task_start");p.current=!0;d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(a);c("promiseDone")(j,function(c){return n(c,a,b,q)},function(b){g==null?void 0:g.endFail("xma_receiver_fetch_task_fail"),d("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FETCH_TASK_FAILURE",b),c("FBLogger")("messenger_web_sharing").catching(b).warn("Failed to issue receiver fetch task on mount")})},h[0]=e,h[1]=o,h[2]=g,h[3]=a,h[4]=j,h[5]=b,h[6]=q,h[7]=r):r=h[7];var s;h[8]!==j||h[9]!==a||h[10]!==b||h[11]!==o||h[12]!==e||h[13]!==f||h[14]!==g||h[15]!==q?(s=[j,a,b,o,e,f,g,q],h[8]=j,h[9]=a,h[10]=b,h[11]=o,h[12]=e,h[13]=f,h[14]=g,h[15]=q,h[16]=s):s=h[16];d("Int64Hooks").useEffectInt64(r,s)}g["default"]=a}),98);
__d("useMAWDownloadMediaInWorker",["MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWStateContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.c;function a(a){var b=k(7),c=a.attachments,e=a.isSecure,f=a.mediaRenderQpl,g=a.triggerUIView,h=i(d("MAWStateContext.react").MAWDispatchContext),l;b[0]!==e||b[1]!==c||b[2]!==h||b[3]!==f||b[4]!==g?(a=function(){if(!e)return;if(d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled())return;c.forEach(function(a){return d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:a,dispatch:h,mediaRenderQpl:f,triggerUIView:g})})},l=[c,e,f,g,h],b[0]=e,b[1]=c,b[2]=h,b[3]=f,b[4]=g,b[5]=a,b[6]=l):(a=b[5],l=b[6]);j(a,l)}g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureXMAAttachmentContent.react","MWAttachmentContext","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2ChatText.react","MWV2TombstonedMessage.react","MWXMessageBubble.react","MessagingAttachmentType","cr:10515","cr:12000","cr:6069","cr:6663","cr:7180","cr:7246","cr:9728","cr:9881","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","useGetMediaGroupInformation","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useMAWDownloadMediaInWorker","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;var l=e.useContext,m=e.useEffect,n=e.useMemo,o=e.c,p={unsetWidth:{width:"x4pn7vq",$$css:!0}};function q(a){var e=a.dbAttachment,f=a.connectBottom,g=a.connectTop,h=a.hasText,l=a.mediaRenderQpl,o=a.message;a=a.outgoing;var p=e.attachmentFbid,q=e.attachmentType,r=e.authorityLevel;m(function(){l==null?void 0:l.addPoint("render-secure-attachment-content"),p===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(l==null?void 0:l.addPoint("loading_eb_frontloading"))},[p,r,e,l]);var s=c("useGetMediaGroupInformation")(o,!0,l),t=n(function(){if(s!=null)return s.messagesAndAttachments.map(function(a){return a.attachment}).filter(Boolean);else return[e]},[e,s]);c("useMAWDownloadMediaInWorker")({attachments:t,isSecure:!0,mediaRenderQpl:l,triggerUIView:"thread"});t=d("MAWAttachmentSizeUtils").getSizeFromAttachment(e);var u=t.height;t=t.width;switch(!0){case p===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return k.jsxs(k.Fragment,{children:[k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:e.attributionAppName!=null,height:u,mediaRenderQpl:l,outgoing:a,width:t}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return b("cr:9728")!=null&&s!=null?k.jsx(b("cr:9728"),{mediaGroupInfo:s,mediaRenderQpl:l,outgoing:a}):k.jsx(b("cr:7246"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return k.jsx(b("cr:12000"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return k.jsx(b("cr:6069"),{connectBottom:f,connectTop:g,dbAttachment:e,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,message:o,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return k.jsx(b("cr:7246"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,message:o,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return e.receiverFetchId!=null?k.jsx(b("cr:9881"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:l,outgoing:a,previewHeight:u,previewWidth:t}):k.jsx(b("cr:9881"),{connectBottom:f,connectTop:g,dbAttachment:e,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,outgoing:a,previewHeight:u,previewWidth:t});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return k.jsx(c("MAWSecureXMAAttachmentContent.react"),{connectBottom:f,connectTop:g,dbAttachment:e,hasText:h,mediaRenderQpl:l,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return k.jsx(b("cr:6663"),{connectBottom:f,connectTop:g,dbAttachment:e,getFileUrl:d("MAWAttachmentBlob.react").getAttachmentBlob,mediaRenderQpl:l,outgoing:a});case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):return b("cr:7180")!=null?k.jsx(b("cr:7180"),{connectBottom:f,connectTop:g,dbAttachment:e,outgoing:a}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(a?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:l==null?void 0:l.endFail("unsupported-attachment");return"Unsupported attachment type"}}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=o(53),f=a.connectBottom,g=a.connectTop,h=a.hasEmphasisRing,n=a.hasText,r=a.mediaRenderQpl,s=a.message,t=a.outgoing;a=c("useXMAPreviewsDisabledSetting")();var u=l(c("MWAttachmentContext")),v=u!=null&&u.length>0?u[0]:null;u=s.authorityLevel;var w=s.threadKey,x;e[0]!==v||e[1]!==r?(x=function(){v!=null&&(r==null?void 0:r.addAttachmentAnnotations==null?void 0:r.addAttachmentAnnotations(v)),r==null?void 0:r.addPoint("render-secure-attachment",{bool:{has_attachment:v!=null}})},e[0]=v,e[1]=r,e[2]=x):x=e[2];var y;e[3]!==u||e[4]!==v||e[5]!==r?(y=[u,v,r],e[3]=u,e[4]=v,e[5]=r,e[6]=y):y=e[6];m(x,y);c("useIssueXMAReceiverFetchTask")(s.messageId,v==null?void 0:v.receiverFetchId,v==null?void 0:v.xmaContentType,v==null?void 0:v.titleText,r);e[7]!==v?(u=v?c("isReceiverFetchSticker")(v):!1,e[7]=v,e[8]=u):u=e[8];c("useIssueMediaReceiverFetchTask")(u,s.messageId,w,v==null?void 0:v.receiverFetchId,!0,r,v==null?void 0:v.previewUrl,v==null?void 0:v.previewUrlExpirationTimestampMs,v==null?void 0:v.attachmentType);e[9]!==h||e[10]!==g||e[11]!==t?(x=h===!0?function(a,b){return k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:g,hasXMA:a,outgoing:t,precedesXMA:!1,children:b})}:void 0,e[9]=h,e[10]=g,e[11]=t,e[12]=x):x=e[12];y=x;u=y;if(v==null&&!b("cr:10515"))return null;w=(v==null?void 0:v.xmaContentType)!=null&&(j||(j=d("LSIntEnum"))).toNumber(v.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;if(a&&d("MAWIsFBXMA").isFBXMA(v==null?void 0:v.xmaContentType)||w){x=v==null?void 0:v.actionUrl;e[13]!==s||e[14]!==x?(y=babelHelpers["extends"]({},s,{text:x}),e[13]=s,e[14]=x,e[15]=y):y=e[15];a=y;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[16]=w):w=e[16];e[17]!==a||e[18]!==t?(x=k.jsx(c("MWV2ChatText.react"),{isSecureMessage:!1,message:a,outgoing:t}),e[17]=a,e[18]=t,e[19]=x):x=e[19];e[20]!==f||e[21]!==g||e[22]!==h||e[23]!==a||e[24]!==t||e[25]!==x?(y=k.jsxs(k.Fragment,{children:[w,k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:f,connectTop:g,hasEmphasisRing:h,message:a,outgoing:t,precedesXMA:!1,children:x})]}),e[20]=f,e[21]=g,e[22]=h,e[23]=a,e[24]=t,e[25]=x,e[26]=y):y=e[26];return y}if(d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(s.displayedContentTypes,v)){r==null?void 0:r.addPoint("fetch_xma_data_receiver_fetch");e[27]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),e[27]=w):w=e[27];h=t?"right":"left";e[28]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWChatTypingIndicator.react"),{}),x=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),e[28]=a,e[29]=x):(a=e[28],x=e[29]);e[30]!==h||e[31]!==f||e[32]!==g?(y=k.jsxs(c("MWXMessageBubble.react"),{align:h,color:"incoming",connectBottom:f,connectTop:g,children:[a,x]}),e[30]=h,e[31]=f,e[32]=g,e[33]=y):y=e[33];e[34]!==g||e[35]!==s||e[36]!==t||e[37]!==y?(a=k.jsxs(k.Fragment,{children:[w,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,outgoing:t,xstyle:p.unsetWidth,children:y})]}),e[34]=g,e[35]=s,e[36]=t,e[37]=y,e[38]=a):a=e[38];return a}x=(i||(i=d("I64"))).equal(s.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4))?!1:void 0;e[39]!==v||e[40]!==f||e[41]!==g||e[42]!==r||e[43]!==s||e[44]!==t||e[45]!==n?(h=v==null&&b("cr:10515")?k.jsxs(k.Fragment,{children:[k.jsx(b("cr:10515"),{connectBottom:f,connectTop:g,mediaRenderQpl:r,message:s,outgoing:t}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.separate_read",hold:!0})]}):k.jsx(q,{connectBottom:f,connectTop:g,dbAttachment:d("HelpdeskGeminiNullthrows").nullthrows(v),hasText:n,mediaRenderQpl:r,message:s,outgoing:t}),e[39]=v,e[40]=f,e[41]=g,e[42]=r,e[43]=s,e[44]=t,e[45]=n,e[46]=h):h=e[46];e[47]!==g||e[48]!==s||e[49]!==x||e[50]!==u||e[51]!==h?(w=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:g,message:s,paint:x,renderEmphasisRing:u,children:h}),e[47]=g,e[48]=s,e[49]=x,e[50]=u,e[51]=h,e[52]=w):w=e[52];return w}g["default"]=a}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=c("gkx")("2161")?h._("__JHASH__bLtIFgZUFni__JHASH__"):h._("__JHASH__M9fzIhDqITQ__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__pGZ-I0iz-G0__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MAWXMAUtils","ReQL","ReQLSuspense","justknobx","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.threadKey||b[2]!==a.messageId?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.threadKey,b[2]=a.messageId,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a.threadKey||b[6]!==a.messageId?(i=[e,a.threadKey,a.messageId],b[4]=e,b[5]=a.threadKey,b[6]=a.messageId,b[7]=i):i=b[7];return d("ReQLSuspense").useFirst(g,i,f.id+":27")}function a(a){var b=j(8),e=a.isOutgoing;a=a.message;a=a;a=l(a);if(a==null)return null;var f=a.defaultCtaType;a=a.xmaContentType;if(c("justknobx")._("3425")){if(a!=null&&d("MAWXMAUtils").isXMAFBStory(a)){b[0]!==e?(a=k.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[0]=e,b[1]=a):a=b[1];return a}b[2]!==e?(a=k.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[2]=e,b[3]=a):a=b[3];return a}else{if(f==="xma_montage_share"){b[4]!==e?(a=k.jsx(c("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:e}),b[4]=e,b[5]=a):a=b[5];return a}c("recoverableViolation")("Unexpected case where message is tombstone type but the attachment is not xma montage share","messenger_web_sharing");b[6]!==e?(f=k.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:e}),b[6]=e,b[7]=f):f=b[7];return f}}g["default"]=a}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","LSIntEnum","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXText.react","getMAWLocalizedFallbackMsgSnippet","gkx","justknobx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function n(a){var b=l(63),e=a.actorId;a=a.message;var f=a.displayedContentTypes,g=a.senderId,i;b[0]!==g||b[1]!==e?(i=(j||(j=d("I64"))).equal(g,e),b[0]=g,b[1]=e,b[2]=i):i=b[2];g=i;b[3]!==f?(e=function(){if(!c("justknobx")._("3168"))return;(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(65536))&&c("FBLogger")("messenger_encryption_placeholder").info("Message show up as encryption placeholder")},i=[f],b[3]=f,b[4]=e,b[5]=i):(e=b[4],i=b[5]);d("Int64Hooks").useEffectInt64(e,i);if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(65536))){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),b[6]=e):e=b[6];b[7]!==g?(i=c("gkx")("3328")&&m.jsxs(m.Fragment,{children:[" ",m.jsx(c("MWXText.react"),{color:g?"white":"primary",type:"bodyLink3",children:m.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:h._("__JHASH__LQVpvI75ts___JHASH__")})})]}),b[7]=g,b[8]=i):i=b[8];b[9]!==g||b[10]!==i?(e=m.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:[e,i]}),b[9]=g,b[10]=i,b[11]=e):e=b[11];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(131072))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK;b[12]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[12]=i,b[13]=e):e=b[13];b[14]!==g||b[15]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[14]=g,b[15]=e,b[16]=i):i=b[16];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(524288))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK;b[17]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[17]=e,b[18]=i):i=b[18];b[19]!==g||b[20]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[19]=g,b[20]=i,b[21]=e):e=b[21];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1048576))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK;b[22]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[22]=i,b[23]=e):e=b[23];b[24]!==g||b[25]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[24]=g,b[25]=e,b[26]=i):i=b[26];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(2097152))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK;b[27]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[27]=e,b[28]=i):i=b[28];b[29]!==g||b[30]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[29]=g,b[30]=i,b[31]=e):e=b[31];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(4194304))){i=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK;b[32]!==i?(e=c("getMAWLocalizedFallbackMsgSnippet")(i),b[32]=i,b[33]=e):e=b[33];b[34]!==g||b[35]!==e?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[34]=g,b[35]=e,b[36]=i):i=b[36];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(8388608))){b[37]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),b[37]=e):e=b[37];b[38]!==g?(i=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:e}),b[38]=g,b[39]=i):i=b[39];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(16777216))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE;b[40]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[40]=e,b[41]=i):i=b[41];b[42]!==g||b[43]!==i?(e=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[42]=g,b[43]=i,b[44]=e):e=b[44];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(262144))){b[45]!==g?(i=m.jsx(c("MAWUnavailablePlaceholder.react"),{isOutgoing:g}),b[45]=g,b[46]=i):i=b[46];return i}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(256))){b[47]!==g||b[48]!==a?(e=m.jsx(c("MAWSecurePlaceholderTombstone.react"),{isOutgoing:g,message:a}),b[47]=g,b[48]=a,b[49]=e):e=b[49];return e}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(33554432))){b[50]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK),b[50]=i):i=b[50];b[51]!==g?(a=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[51]=g,b[52]=a):a=b[52];return a}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(67108864))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK;b[53]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[53]=e,b[54]=i):i=b[54];b[55]!==g||b[56]!==i?(a=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[55]=g,b[56]=i,b[57]=a):a=b[57];return a}if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1073741824))){e=g?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_NOTE_MENTION_FALLBACK;b[58]!==e?(i=c("getMAWLocalizedFallbackMsgSnippet")(e),b[58]=e,b[59]=i):i=b[59];b[60]!==g||b[61]!==i?(a=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:g,children:i}),b[60]=g,b[61]=i,b[62]=a):a=b[62];return a}return null}function a(a){var b=l(4),c=a.actorId;a=a.message;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[0]=e):e=b[0];b[1]!==c||b[2]!==a?(e=m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[e,m.jsx(n,{actorId:c,message:a})]}),b[1]=c,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function k(a,b,e,f,g,h,j,k){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,hasEmphasisRing:k,hasText:h,mediaRenderQpl:g,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{actorId:j,message:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=j(3),c=d("MWPActor.react").useActor(),e;b[0]!==c||b[1]!==a?(e=function(b,d,e,f,g,h){return k(b,d,e,f,h,g,c,a)},b[0]=c,b[1]=a,b[2]=e):e=b[2];b=e;return b}g.render=k;g.useRenderAttachment=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","react","useGetMediaGroupInformation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a){var b=j(29),e=a.domElementRef,f=a.lastEbMessageTime,g=a.modal,h=a.row,l=a.rowIndexFromBottom,m=a.thread;a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var n;b[0]!==m.threadType?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),b[0]=m.threadType,b[1]=n):n=b[1];n=n;var o=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();o=o.visibleMessage;var p=h.message,q;b[2]!==n||b[3]!==m.threadKey||b[4]!==p?(q=n?(i||(i=d("I64"))).equal(m.threadKey,p.threadKey):!1,b[2]=n,b[3]=m.threadKey,b[4]=p,b[5]=q):q=b[5];n=q;q=!1;if(o!=null){var r=o.messageId;bb0:switch(o.source){case"Reply":case"Pinned":q=r===p.messageId;break bb0;case"Search":b[6]!==r||b[7]!==p.messageId?(o=r===p.messageId&&c("isMWNewSearchUXEnabled")(),b[6]=r,b[7]=p.messageId,b[8]=o):o=b[8];q=o;break bb0;default:q=!1}}r=d("MAWSecureAttachmentRenderer.react").useRenderAttachment(q);var s;b[9]!==m.threadType?(o=function(){return m.threadType},s=[m.threadType],b[9]=m.threadType,b[10]=o,b[11]=s):(o=b[10],s=b[11]);o=d("Int64Hooks").useMemoInt64(o,s);s=c("useGetMediaGroupInformation")(p,n);if(s!=null&&s.groupId!=null&&s.isFirstMediaMessageInGroup===!1)return null;s=s==null?void 0:s.isMediaGroupLastMessage;g=g===p.messageId;var t;b[12]!==m.threadKey||b[13]!==e||b[14]!==q||b[15]!==s||b[16]!==g||b[17]!==n||b[18]!==f||b[19]!==p||b[20]!==h.nextMessage||b[21]!==h.prevMessage||b[22]!==r||b[23]!==l||b[24]!==a||b[25]!==o?(t={containerThreadKey:m.threadKey,domElementRef:e,hasMessageEmphasisRing:q,isMediaGroupLastMessage:s,isModal:g,isSecureMessage:n,lastEbMessageTime:f,message:p,nextMessage:h.nextMessage,prevMessage:h.prevMessage,renderAttachment:r,rowIndexFromBottom:l,stopHoveringRef:a,threadType:o},b[12]=m.threadKey,b[13]=e,b[14]=q,b[15]=s,b[16]=g,b[17]=n,b[18]=f,b[19]=p,b[20]=h.nextMessage,b[21]=h.prevMessage,b[22]=r,b[23]=l,b[24]=a,b[25]=o,b[26]=t):t=b[26];e=t;b[27]!==e?(q=k.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[27]=e,b[28]=q):q=b[28];return q}g["default"]=a}),98);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c;function a(){var a=l(6),b=m;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onImpressionStart:b},a[0]=b):b=a[0];b=c("useSinglePartialViewImpression")(b);var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x78zum5 xdt5ytf xl56j7k xkrivgy x4ii5y1 x1gryazu x1pdq3kb xw5ewwj x2b8uid",a[1]=d):d=a[1];var e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MWXImage.react"),{src:i("196163"),xstyle:n.image}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MWXTextPairing.react"),{body:h._("__JHASH__2R6ky2hU7sc__JHASH__"),headline:h._("__JHASH__mjI7Tnaq_t2__JHASH__"),level:4,testid:void 0,textAlign:"center"}),a[3]=f):f=a[3];a[4]!==b?(d=k.jsxs("div",{className:d,ref:b,children:[e,f]}),a[4]=b,a[5]=d):d=a[5];return d}function m(){var a;(a=d("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd();a.logCCTVJoinNavigationToThreadEnd();a.logCreateChannelToThreadViewQPLSuccess();a.logCCTVJoinSuccess()}var n={image:{marginBottom:"x1hq5gj4",$$css:!0}};g["default"]=a}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","MWXLink.react","MWXText.react","XMessengerHelpCenterContentControllerRouteBuilder","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=k(3);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b;b=(b=c("XMessengerHelpCenterContentControllerRouteBuilder").buildUri({cms_id:"786613221989782"}))==null?void 0:b.toString();a[0]=b}else b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("CometColumnItem.react"),{expanding:!0,children:l.jsx(c("MWXText.react"),{align:"center",type:"bodyLink4",children:l.jsx(c("FDSTextWithIcon.react"),{iconBefore:l.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),children:h._("__JHASH__Kow3rs5K3HC__JHASH__")})})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:l.jsx(c("CometRowItem.react"),{children:l.jsxs(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:m.banner,children:[e,l.jsx(c("CometColumnItem.react"),{children:l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h._("__JHASH__yxX1nJvmnv5__JHASH__",[h._implicitParam("=m1",l.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__bPYVQTNBjFa__JHASH__",[h._implicitParam("=m1",l.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:h._("__JHASH__vo_wtcDrjQ6__JHASH__")}))])}))])})})]})})}),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("MWContextBannerNullstateDescription.react",["I64","LSIntEnum","LSNullstateDescriptionType","MWXText.react","RecoverableViolation.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(4),e=a.kind;a=a.text;if((i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT))){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xsag5q8",b[0]=e):e=b[0];b[1]!==a?(e=l.jsx("div",{className:e,children:l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a})}),b[1]=a,b[2]=e):e=b[2];return e}else{b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"}),b[3]=a):a=b[3];return a}}g["default"]=a}),98);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometImageFromIXValue.react","FDSContextualMessage.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","asyncToGeneratorRuntime","fbs","promiseDone","react","requireDeferred","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=e.c,m=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function a(){var a=l(26),e=c("useMAWGetUserVisibleErrors")(),f=e[0],g=e[1];e=k(!1);var i=e[0],n=e[1];e=k(!1);var o=e[0],p=e[1];a[0]!==f||a[1]!==g?(e=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){n(!0);if((f==null?void 0:f.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=(yield m.load());yield a.handleEARKeychainError()}return g()})(),function(){window.location.reload(!0)},function(){n(!1)})},a[0]=f,a[1]=g,a[2]=e):e=a[2];e=e;var q;a[3]!==g?(q=function(){c("promiseDone")(g(),function(){p(!0)})},a[3]=g,a[4]=q):q=a[4];q=q;var r;a[5]!==(f==null?void 0:f.errorBodyText)?(r=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(f==null?void 0:f.errorBodyText),a[5]=f==null?void 0:f.errorBodyText,a[6]=r):r=a[6];r=r;var s;a[7]!==(f==null?void 0:f.errorTitleText)?(s=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(f==null?void 0:f.errorTitleText),a[7]=f==null?void 0:f.errorTitleText,a[8]=s):s=a[8];s=s;if(f&&r!=null&&s!=null&&c("FDSContextualMessage.react")&&!o){a[9]===Symbol["for"]("react.memo_cache_sentinel")?(o="xjf5wm9 x17qophe xdj266r x11i5rnm xat24cr x1mh8g0r x10l6tqk x13vifvy xh8yej3",a[9]=o):o=a[9];var t;a[10]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("fbs")._("__JHASH__PnVpnKg9Gg___JHASH__"),a[10]=t):t=a[10];a[11]!==i||a[12]!==e?(t=j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:i,label:t,loading:i,onPress:e,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),a[11]=i,a[12]=e,a[13]=t):t=a[13];a[14]!==s?(i=j.jsx(j.Fragment,{children:s}),a[14]=s,a[15]=i):i=a[15];a[16]===Symbol["for"]("react.memo_cache_sentinel")?(e=h("1351648"),a[16]=e):e=a[16];a[17]!==s?(e=j.jsx(c("CometImageFromIXValue.react"),{alt:s,source:e}),a[17]=s,a[18]=e):e=a[18];a[19]!==t||a[20]!==r||a[21]!==i||a[22]!==s||a[23]!==e||a[24]!==q?(o=j.jsx("div",{className:o,children:j.jsx(c("FDSContextualMessage.react"),{addOnPrimary:t,body:r,headline:i,headlineAriaLabel:s,icon:e,level:4,onClose:q})}),a[19]=t,a[20]=r,a[21]=i,a[22]=s,a[23]=e,a[24]=q,a[25]=o):o=a[25];return o}}g["default"]=a}),226);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=m(c("MWMessageElementRefList")()),o=a==null?void 0:a.threadKey,p=a==null?void 0:a.threadType,q=m(),r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o);var a=g.timestamp;return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[o,g,r],f.id+":59");e=n(function(){return s});var t=e[0],u=e[1];l(function(){q.current=void 0,g==null&&(b==null?void 0:b.current)!=null&&b.current.scrollToBottom()},[b,g]);var v=k(function(a){var d=b==null?void 0:b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),w=k(function(a){if(a!==q.current)return j.current.get(a,function(b){v(b),q.current=a})},[v]);l(function(){s!=null?u(s):g==null&&u(function(){})},[g,s,u]);l(function(){g!=null&&t!=null&&g.messageId!=null&&w(g.messageId)},[r,g,t,w]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&s==null&&g!=null&&g.messageId!=null){var b,e=g.messageId;b=(i||(i=d("I64"))).to_int32((b=p)!=null?b:(i||(i=d("I64"))).neg_one);if(b!==-1&&(b===15||b===16))return;c("promiseDone")(r.runInTransaction(function(b){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(b),{messageId:e,threadKey:a.threadKey,threadType:a.threadType})},"readwrite",void 0,void 0,f.id+":146"))}},[r,g,s,o,p,a]);return{messageElementRefs:j,messageRange:t,visibleMessage:(e=g)!=null?e:void 0}}g["default"]=a}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(8),e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.participants||b[1]!==a||b[2]!==e?(i=function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a,e)},b[0]=g.tables.participants,b[1]=a,b[2]=e,b[3]=i):i=b[3];var k;b[4]!==g||b[5]!==e||b[6]!==a?(k=[g,e,a],b[4]=g,b[5]=e,b[6]=a,b[7]=k):k=b[7];b=d("ReQLSuspense").useFirst(i,k,f.id+":24");return(i=b==null?void 0:b.isAdmin)!=null?i:!1}g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef,j=b.c;function a(){var a=j(2),b=i(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={type:"Bottom"},a[0]=c):c=a[0];c=i(c);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={scrollerRef:b,scrollPositionRef:c},a[1]=b):b=a[1];c=b;return c}g["default"]=a}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","gkx","react","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function k(a){var b=j(12),e=c("useMWV2ConversationScrollerRefs")();e=c("useMWCurrentVisibleMessage")(a,e.scrollerRef);e=e.messageRange;e=(e=e==null?void 0:e.isLoadingBefore)!=null?e:!1;var g=a.threadKey,i=(h||(h=c("useReStore")))();b[0]!==i.tables.messages||b[1]!==g?(a=function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g).filter(function(a){return!a.isAdminMessage})},b[0]=i.tables.messages,b[1]=g,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g?(k=[i,g],b[3]=i,b[4]=g,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":38");b[6]!==i.tables.attachments||b[7]!==g?(k=function(){return d("ReQL").fromTableDescending(i.tables.attachments).getKeyRange(g)},b[6]=i.tables.attachments,b[7]=g,b[8]=k):k=b[8];var l;b[9]!==i||b[10]!==g?(l=[i,g],b[9]=i,b[10]=g,b[11]=l):l=b[11];b=d("ReQLSuspense").useFirst(k,l,f.id+":47");k=a!=null||b!=null;return!(k||e)}function l(a){var b=j(2),c=k(a);if(!c)return!1;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];return c}function a(a){var b=j(2),c=k(a);a=d("MWLSThread").useThread(a.threadKey,m);if(!c)return!1;b[0]!==a?(c=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a),b[0]=a,b[1]=c):c=b[1];return c}function m(a){return a.threadSubtype}function b(a){var b=j(3),e=l(a);a=c("useMWLSIsViewerThreadAdminUsingThreadKey")(a.threadKey);var f;b[0]!==e||b[1]!==a?(f=(d("MWPActor.react").isAPPlus()||c("gkx")("3378"))&&e&&a,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g.useMWIsThreadWithZeroMessage=k;g.useMWIsFBBroadcastChannelWithZeroMessage=l;g.useMWIsIGBroadcastChannelWithZeroMessage=a;g.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=b}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a?(g=function(){var b;return d("ReQL").fromTableAscending(e.tables.contacts,["pageType"]).getKeyRange((b=a)!=null?b:(i||(i=d("I64"))).zero)},b[0]=e.tables.contacts,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];b=d("ReQLSuspense").useFirst(g,j,f.id+":24");if(!c("gkx")("23425"))return;return(b==null?void 0:b.pageType)!=null?b.pageType:void 0}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitle.react","LSVerificationBadge.react","MAWThreadCutover","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:1607","cr:5777","gkx","isFeatureLimitEnabled","react","stylex","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=(k||(k=d("react"))).c,o=k,p={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingTop:"x1cnzs8",$$css:!0}};function q(a){var e=n(3),f=a.isBusinessSupport,g=a.isReadOnlyFeatureLimited;a=a.thread;var h=d("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(a);if(g||f)return null;if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:5777")!=null){if(h){e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=o.jsx(c("MWContextBannerChannelActivationPrompt.react"),{}),e[0]=g):g=e[0];return g}e[1]!==a?(f=o.jsx(b("cr:5777"),{thread:a}),e[1]=a,e[2]=f):f=e[2];return f}return null}function a(a){var e=n(65),g=a.threadKey;a=a.threadType;var k=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),s=d("MAWThreadCutover").useIsCutoverSecureThread(g),t=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(g)!=null,u=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var v=c("useMWPEditMessageDeemphasizer")(),w=(i||(i=c("useReStore")))(),x;e[0]!==w.tables.threads||e[1]!==g?(x=function(){return d("ReQL").fromTableAscending(w.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadType","capabilities","capabilities2","capabilities3","capabilities4"]).getKeyRange(g)},e[0]=w.tables.threads,e[1]=g,e[2]=x):x=e[2];var y;e[3]!==w||e[4]!==g?(y=[w,g],e[3]=w,e[4]=g,e[5]=y):y=e[5];x=d("ReQLSuspense").useFirst(x,y,f.id+":121");y=c("usePageType")(x==null?void 0:x.threadKey);if(x==null)return null;var z=d("LSThreadBitOffset").has(47,x);if(z)return null;z=x.nullstateDescriptionText1;var A=x.nullstateDescriptionText2,B=x.nullstateDescriptionText3,C=x.nullstateDescriptionType1,D=x.nullstateDescriptionType2,E=x.nullstateDescriptionType3,F;e[6]!==x.parentThreadKey?(F=(l||(l=d("I64"))).equal(x.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),e[6]=x.parentThreadKey,e[7]=F):F=e[7];F=F;var G;e[8]!==x.threadType?(G=d("LSMessagingThreadTypeUtil").isArmadilloSecure(x.threadType),e[8]=x.threadType,e[9]=G):G=e[9];G=G;var H;e[10]!==k||e[11]!==G?(H=k&&(!G||c("isFeatureLimitEnabled")()),e[10]=k,e[11]=G,e[12]=H):H=e[12];k=H;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(H="xxymvpz",e[13]=H):H=e[13];e[14]!==x.threadKey?(H=o.jsx("span",{className:H,children:o.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWContextBanner",children:o.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:x.threadKey})})}),e[14]=x.threadKey,e[15]=H):H=e[15];H=H;var I;e[16]!==x?(I=o.jsx(c("LSThreadTitle.react"),{thread:x,wrapOutput:r}),e[16]=x,e[17]=I):I=e[17];I=I;var J;e[18]!==v?(J=(j||(j=c("stylex")))(p.container,v),e[18]=v,e[19]=J):J=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(v="x78zum5 xl56j7k xod5an3",e[20]=v):v=e[20];e[21]!==x.threadKey?(v=o.jsx("div",{className:v,children:o.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:x.threadKey})}),e[21]=x.threadKey,e[22]=v):v=e[22];var K;e[23]===Symbol["for"]("react.memo_cache_sentinel")?(K="xod5an3",e[23]=K):K=e[23];u=!u&&!a&&!c("gkx")("24081")&&H;e[24]!==I||e[25]!==u?(a=o.jsx("div",{className:K,children:o.jsxs(c("MWXText.react"),{align:"center",numberOfLines:1,type:"headlineEmphasized3",children:[I,u]})}),e[24]=I,e[25]=u,e[26]=a):a=e[26];e[27]!==y?(H=y!=null&&(l||(l=d("I64"))).equal(y,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?o.jsx("div",{className:"xod5an3",children:o.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._("__JHASH__5MDaoXA0f1Z__JHASH__")})}):null,e[27]=y,e[28]=H):H=e[28];e[29]!==z||e[30]!==C?(K=z!=null&&C!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:C,text:z}):null,e[29]=z,e[30]=C,e[31]=K):K=e[31];e[32]!==A||e[33]!==D?(I=A!=null&&D!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:D,text:A}):null,e[32]=A,e[33]=D,e[34]=I):I=e[34];e[35]!==B||e[36]!==E?(u=B!=null&&E!=null?o.jsx(c("MWContextBannerNullstateDescription.react"),{kind:E,text:B}):null,e[35]=B,e[36]=E,e[37]=u):u=e[37];e[38]!==g?(y=b("cr:1607")!=null&&o.jsx(b("cr:1607"),{threadKey:g}),e[38]=g,e[39]=y):y=e[39];e[40]!==F||e[41]!==k||e[42]!==x?(z=o.jsx(q,{isBusinessSupport:F,isReadOnlyFeatureLimited:k,thread:x}),e[40]=F,e[41]=k,e[42]=x,e[43]=z):z=e[43];e[44]!==G||e[45]!==s||e[46]!==t?(C=G&&!s&&!t?o.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,e[44]=G,e[45]=s,e[46]=t,e[47]=C):C=e[47];e[48]!==G?(A=G&&c("MWPWebWorkerDisconnectedBanner.react")?o.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null,e[48]=G,e[49]=A):A=e[49];e[50]!==J||e[51]!==v||e[52]!==a||e[53]!==H||e[54]!==K||e[55]!==I||e[56]!==u||e[57]!==y||e[58]!==z||e[59]!==C||e[60]!==A?(D=o.jsxs("div",{className:J,"data-testid":void 0,children:[v,a,H,K,I,u,y,z,C,A]}),e[50]=J,e[51]=v,e[52]=a,e[53]=H,e[54]=K,e[55]=I,e[56]=u,e[57]=y,e[58]=z,e[59]=C,e[60]=A,e[61]=D):D=e[61];e[62]===Symbol["for"]("react.memo_cache_sentinel")?(B=o.jsx(c("MWEditMessageOverlay.react"),{}),e[62]=B):B=e[62];e[63]!==D?(E=o.jsxs(c("BaseView.react"),{children:[D,B]}),e[63]=D,e[64]=E):E=e[64];return E}function r(a,b){return b}g["default"]=a}),226);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MetaConfig","Random","cometPushToast","cr:10710","gkx","react","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=i||d("react");e.useCallback;var k=e.c,l=(f=b("cr:10710")==null?void 0:b("cr:10710").getIntegrityCheckSampleRate())!=null?f:c("MetaConfig")._("59");function a(a,b,e){var f=k(10),g=c("useMWEntrypoint")(),i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),f[0]=i):i=f[0];i=c("useMWXLazyDialog")(i);var m=i[0];f[1]!==m?(i=function(a,b){if(!c("gkx")("4852"))return;d("cometPushToast").cometPushToast({action:{label:h._("__JHASH__ZN4i-76hXIi__JHASH__"),onPress:function(c){return m({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(j||(j=d("I64"))).to_string(a)+" at time: "+((c=b)!=null?c:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:h._("__JHASH__5ZwW1dU-TAQ__JHASH__"),truncateText:!1})},f[1]=m,f[2]=i):i=f[2];var n=i,o;f[3]!==a||f[4]!==b||f[5]!==e||f[6]!==g||f[7]!==n?(i=function(c,f,h,i){if(!d("Random").coinflip(l))return;d("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(a,b,e,g,h,c,f,i,function(){return n(b,(c==null?void 0:c.primarySortKey)==null?null:(j||(j=d("I64"))).to_float(c==null?void 0:c.primarySortKey))})},o=[a,b,e,g,n],f[3]=a,f[4]=b,f[5]=e,f[6]=g,f[7]=n,f[8]=i,f[9]=o):(i=f[8],o=f[9]);return d("Int64Hooks").useCallbackInt64(i,o)}g["default"]=a}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(14),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.occamadillo_most_recent_message_per_thread||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.occamadillo_most_recent_message_per_thread).getKeyRange(a)},b[0]=e.tables.occamadillo_most_recent_message_per_thread,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":27");b[6]!==e.tables.threads||b[7]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a)},b[6]=e.tables.threads,b[7]=a,b[8]=j):j=b[8];var l;b[9]!==e||b[10]!==a?(l=[e,a],b[9]=e,b[10]=a,b[11]=l):l=b[11];j=d("ReQLSuspense").useArray(j,l,f.id+":35");if((g==null?void 0:g.timestampMs)==null){b[12]!==j?(l=(i||(i=d("I64"))).div(j[0].lastActivityTimestampMs,i.of_float(1e3)),b[12]=j,b[13]=l):l=b[13];return l}return g==null?void 0:g.timestampMs}g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBAPI","FBLogger","I64","InteractionTracingMetrics","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MWBaseTheme","MWBlockingProtectionContext.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","asyncToGeneratorRuntime","cr:3907","cr:7486","gkx","justknobx","mwpMessageIsReply","qex","react","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMAWOfflineQueueLoadingIndicator","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.useEffect,n=l.useId,o=l.useState,p=l.c;function q(a){return k.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a);a=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"getChatJid"));b=(yield c("EBAPI").messageMetadataQuery({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:d("WAJids").threadIdForChatJid(a.chatJid)}));return b.value?b.value.messages:[]});return s.apply(this,arguments)}function a(a){var b=p(11),e=a.theme,f=a.threadKey;a=a.threadType;e=e===void 0?d("MWBaseTheme").empty:e;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);if(g.length>0){b[0]!==h?(g=k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:h})}),b[0]=h,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(h=k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a}),b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(f=k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[g,h]})}),b[5]=g,b[6]=h,b[7]=f):f=b[7];b[8]!==e||b[9]!==f?(a=k.jsx(c("BaseTheme.react"),{config:e,children:f}),b[8]=e,b[9]=f,b[10]=a):a=b[10];return a}else return null}var t=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");l=k.forwardRef(e);function e(a,e){var f=p(55),g=a.cutoverOpenThread,j=a.entryPoint,l=a.onScrollToBottom,s=a.thread;a=(h||(h=c("useReStore")))();var v=c("useAsyncReStore")(),w=d("MWPActor.react").useActor(),x=c("useMWPAriaLabelForMessageListGrid")(s),y=c("useMWMessageRowTheme")(),z=o(""),A=z[0];z=z[1];var B=n(),C=d("CometRelay").useRelayEnvironment(),D;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(D=[],f[0]=D):D=f[0];D=o(D);var E=D[0],F=D[1];f[1]!==v||f[2]!==s.threadKey?(D=function(){c("gkx")("6827")&&r(v,s.threadKey).then(function(a){return F(a)})["catch"](function(a){return c("FBLogger")("messenger_e2ee_web").catching(a).warn("Unable to get last EB message timestamp")})},f[1]=v,f[2]=s.threadKey,f[3]=D):D=f[3];var G;f[4]!==v||f[5]!==C||f[6]!==s.threadKey?(G=[v,C,s.threadKey],f[4]=v,f[5]=C,f[6]=s.threadKey,f[7]=G):G=f[7];m(D,G);var H;H=(i||(i=d("I64"))).zero;C=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(s.threadKey);if(c("gkx")("6827"))E.length>0&&E[0].sortOrderMs!=null&&(H=(i||(i=d("I64"))).of_string(E[0].sortOrderMs));else{H=(D=C)!=null?D:(i||(i=d("I64"))).zero}var I=c("useCheckMessageIntegrityForSecureThread")(a,s.threadKey,s.threadType);G=c("useMAWOfflineQueueLoadingIndicator")(!1,s,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);f[8]!==s.threadType?(E=d("LSMessagingThreadTypeUtil").isArmadilloSecure(s.threadType),f[8]=s.threadType,f[9]=E):E=f[9];var J=E;C=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();D=C==="ChatTab";f[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("2575"),f[10]=a):a=f[10];E=a;if(f[11]!==D){a=D?(C=c("qex")._("393"))!=null?C:E:E;f[11]=D;f[12]=a}else a=f[12];C=a;f[13]!==J||f[14]!==I?(E=function(a,b,d,e){J&&I(a,b,d,e),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"page_loaded","AppTiming",void 0,{page_index:e,page_size:d,total_number_of_messages:b.length})})},f[13]=J,f[14]=I,f[15]=E):E=f[15];f[16]!==y||f[17]!==s.threadKey||f[18]!==s.threadType?(D=function(){return k.jsx(t,{theme:y,threadKey:s.threadKey,threadType:s.threadType})},f[16]=y,f[17]=s.threadKey,f[18]=s.threadType,f[19]=D):D=f[19];f[20]!==s.threadKey||f[21]!==s.threadType?(a=function(){return k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),k.jsx(c("MWContextBanner.react"),{threadKey:s.threadKey,threadType:s.threadType})]})},f[20]=s.threadKey,f[21]=s.threadType,f[22]=a):a=f[22];var K=H,L;f[23]!==w||f[24]!==K||f[25]!==A||f[26]!==s?(L=function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=c("mwpMessageIsReply")(e),j=(i||(i=d("I64"))).equal(e.senderId,w);return k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:j,isReply:h})},children:k.jsx(c("MAWMessageListRow.react"),{domElementRef:b,lastEbMessageTime:H,modal:A,row:{message:e,nextMessage:f,prevMessage:g},rowIndexFromBottom:a,thread:s})})},f[23]=w,f[24]=K,f[25]=A,f[26]=s,f[27]=L):L=f[27];f[28]!==j||f[29]!==E||f[30]!==l||f[31]!==C||f[32]!==e||f[33]!==D||f[34]!==a||f[35]!==L||f[36]!==g||f[37]!==G||f[38]!==s?(K=k.jsx(b("cr:7486"),{entryPoint:j,onPageLoaded:E,onScrollToBottom:l,pageSize:C,ref:e,renderFooter:D,renderHeader:a,renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:u,renderRow:L,secondaryThread:g,shouldPausePageLoadTracking:G,thread:s}),f[28]=j,f[29]=E,f[30]=l,f[31]=C,f[32]=e,f[33]=D,f[34]=a,f[35]=L,f[36]=g,f[37]=G,f[38]=s,f[39]=K):K=f[39];j=K;f[40]===Symbol["for"]("react.memo_cache_sentinel")?(E="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",f[40]=E):E=f[40];f[41]===Symbol["for"]("react.memo_cache_sentinel")?(l="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",f[41]=l):l=f[41];f[42]!==j||f[43]!==B?(C=b("cr:3907")==null?j:k.jsx(b("cr:3907"),{id:B,children:j}),f[42]=j,f[43]=B,f[44]=C):C=f[44];f[45]!==x||f[46]!==A||f[47]!==C?(e=k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:x,modal:A,setModal:z,children:C})}),f[45]=x,f[46]=A,f[47]=C,f[48]=e):e=f[48];f[49]!==s||f[50]!==e?(D=k.jsx(d("CometPageletWithDiv.react").Placeholder,{className:l,fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:s,children:e})}),f[49]=s,f[50]=e,f[51]=D):D=f[51];f[52]!==B||f[53]!==D?(a=k.jsx("div",{className:E,"data-testid":void 0,id:B,children:D}),f[52]=B,f[53]=D,f[54]=a):a=f[54];return a}function u(a){return k.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}u.displayName=u.name+" [from "+f.id+"]";a=l;g["default"]=a}),98);
__d("MWPOneToOneThreadBlockedContext.react",["I64","Int64Hooks","LSContactBlockedByViewerStatus","LSIntEnum","MWV2OneToOneThreadBlockedContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function a(a){var b=k(7),e=a.children,f=a.participants,g=a.thread,h;b[0]!==g.threadType||b[1]!==f?(a=function(){if(!((i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(1))||(i||(i=d("I64"))).equal(g.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))))return!1;var a={contents:!1};f.forEach(function(b,e,f){if(!(i||(i=d("I64"))).equal(b[1].blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))){a.contents=!0;return}});return a.contents},h=[g.threadType,f],b[0]=g.threadType,b[1]=f,b[2]=a,b[3]=h):(a=b[2],h=b[3]);a=d("Int64Hooks").useMemoInt64(a,h);b[4]!==a||b[5]!==e?(h=l.jsx(d("MWV2OneToOneThreadBlockedContext.react").MWV2OneToOneThreadBlockedContext,{blocked:a,children:e}),b[4]=a,b[5]=e,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("MWV2SeenHead.react",["GenderConst","I64","LSIntEnum","MWMessageDeliveryStatus","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b,e=a[0];a=a[1];return{gender:c("GenderConst").NOT_A_PERSON,id:(h||(h=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:h.to_float(e.readActionTimestampMs)}}function a(a,b){var c={contents:(h||(h=d("I64"))).zero};a.forEach(function(a,e,f){e=a[0];if(!(h||(h=d("I64"))).equal(e.contactId,b)&&(h||(h=d("I64"))).gt(e.deliveredWatermarkTimestampMs,c.contents)){c.contents=e.deliveredWatermarkTimestampMs;return}});return c.contents}function b(a){return new Set([(h||(h=d("I64"))).to_string(a)])}function e(a,b,c,e,f,g){var k=[];b.forEach(function(b,e,f){if(c.has(e)||a.isAdminMessage)return;if(!(h||(h=d("I64"))).equal(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;f=b[0];var l=(h||(h=d("I64"))).equal(a.senderId,f.contactId);f=h.le(a.timestampMs,f.readWatermarkTimestampMs);if(l||f){k.push(j(b));if(!g){c.add(e);return}else return}});var l=k.length===0&&c.size===1;if(k.length<=0)if((h||(h=d("I64"))).equal(a.senderId,f))return d("MWMessageDeliveryStatus").getDeliveryStatusForMessageSentByYou(a,e,l);else return{type:"NoneStatus"};if(!g)if(k.length>1)return{heads:k,type:"MultipleSeenHeads"};else return{head:k[0],type:"SingleSeenHead"};f=k.length===b.size-1;return{delivered:f,heads:k,type:"DeliveredAndRead"}}g.calculateMaxDeliveredTimestamp=a;g.makeExistingSeenHeads=b;g.deliveryStatusForMessage=e}),98);
__d("MWPBaseMessageList_DEPRECATED",["BaseHeadingContextWrapper.react","CometHideableComponentExperiment.react","LSMessagingThreadTypeUtil","MWPActor.react","MWPMessageAuthor.react","MWPOneToOneThreadBlockedContext.react","MWV2SeenHead.react","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0}};function a(a){var b=i(10),e=a.children,f=a.messages,g=a.participants,h=a.renderRow;a=a.thread;var l=d("MWPActor.react").useActor(),m;if(b[0]!==g||b[1]!==l||b[2]!==a||b[3]!==f||b[4]!==h||b[5]!==e){m=Symbol["for"]("react.early_return_sentinel");bb0:{var n=d("MWV2SeenHead.react").calculateMaxDeliveredTimestamp(g,l),o=d("MWV2SeenHead.react").makeExistingSeenHeads(l),p=d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),q=[];for(var r=f.length-1|0;r>=0;--r){var s=r===0?void 0:f[r-1|0],t=r>=(f.length-1|0)?void 0:f[r+1|0],u=f[r],v=d("MWV2SeenHead.react").deliveryStatusForMessage(u,g,o,n,l,p);q.push(j.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,unmountXStyle:k.backgroundColor,children:j.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:u.senderId,threadKey:u.threadKey,children:h({message:u,nextMessage:t,prevMessage:s,rowIndexFromBottom:c("gkx")("7810")?f.length-1-r:0,status:v})})},c("justknobx")._("2310")?u.offlineThreadingId:u.messageId))}if(q.length===0){m=null;break bb0}else{b[7]===Symbol["for"]("react.memo_cache_sentinel")?(t="x1ja2u2z",b[7]=t):t=b[7];s=j.jsx(c("MWPOneToOneThreadBlockedContext.react"),{participants:g,thread:a,children:e(q.reverse())});b[8]!==s?(v=j.jsx(c("BaseHeadingContextWrapper.react"),{children:j.jsx("div",{className:t,children:s})}),b[8]=s,b[9]=v):v=b[9];m=v;break bb0}}b[0]=g;b[1]=l;b[2]=a;b[3]=f;b[4]=h;b[5]=e;b[6]=m}else m=b[6];if(m!==Symbol["for"]("react.early_return_sentinel"))return m}g["default"]=a}),98);
__d("MAWMessageList_DEPRECATED.react",["BaseTheme.react","CometPageletWithDiv.react","CometScreenReaderText.react","I64","Int64Hooks","MAWMessageListRow.react","MWBaseTheme","MWBlockingProtectionContext.react","MWPBaseMessageList_DEPRECATED","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2MessageRowSimple.react","ReQL","ReQLSuspense","cr:3907","react","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i,m=l.useEffect,n=l.useId,o=l.useState,p=l.c;function q(a,b){var c=p(9),e;c[0]!==b.tables.participants||c[1]!==b.tables.contacts||c[2]!==a.threadKey?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(j||(j=d("I64"))).to_string(a.id),[b,a]]})},c[0]=b.tables.participants,c[1]=b.tables.contacts,c[2]=a.threadKey,c[3]=e):e=c[3];var g;c[4]!==b||c[5]!==a.threadKey?(g=[b,a.threadKey],c[4]=b,c[5]=a.threadKey,c[6]=g):g=c[6];e=d("ReQLSuspense").useArray(e,g,f.id+":76");c[7]!==e?(g=new Map(e),c[7]=e,c[8]=g):g=c[8];return g}function r(a,b){var c=p(4),d,e;c[0]!==a||c[1]!==b?(d=function(){var c;if((a==null?void 0:(c=a.scrollPositionRef.current)==null?void 0:c.type)==="Bottom"&&b.length>0){c=a.scrollerRef.current;c==null?void 0:c.scrollToBottom()}},e=[b,a],c[0]=a,c[1]=b,c[2]=d,c[3]=e):(d=c[2],e=c[3]);m(d,e)}function a(a){var b=p(11),e=a.scrollerRefs,f=a.theme,g=a.threadKey;a=a.threadType;f=f===void 0?d("MWBaseTheme").empty:f;var h=d("MWPTypingIndicators.react").useTypingParticipants(g),i=d("MWPTypingIndicators.react").useAccessibilityText(h);r(e,h);if(h.length>0){b[0]!==i?(e=k.jsx("div",{"aria-live":"polite",children:k.jsx(c("CometScreenReaderText.react"),{text:i})}),b[0]=i,b[1]=e):e=b[1];b[2]!==g||b[3]!==a?(h=k.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:g,threadType:a}),b[2]=g,b[3]=a,b[4]=h):h=b[4];b[5]!==e||b[6]!==h?(i=k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[e,h]})}),b[5]=e,b[6]=h,b[7]=i):i=b[7];b[8]!==f||b[9]!==i?(g=k.jsx(c("BaseTheme.react"),{config:f,children:i}),b[8]=f,b[9]=i,b[10]=g):g=b[10];return g}else return null}var s=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");function e(a){var e=p(22),f=a.messageElementRefs,g=a.messages,i=a.scrollerRefs,j=a.thread;a=(h||(h=c("useReStore")))();a=q(j,a);var l=c("useMWPAriaLabelForMessageListGrid")(j),m=c("useMWMessageRowTheme")(),r=o(""),t=r[0],u=r[1],v=n(),w;e[0]!==j.threadType?(r=function(){return j.threadType},w=[j.threadType],e[0]=j.threadType,e[1]=r,e[2]=w):(r=e[1],w=e[2]);var x=d("Int64Hooks").useMemoInt64(r,w),y=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(j.threadKey);e[3]!==f||e[4]!==y||e[5]!==t||e[6]!==j?(r=function(a){var b=a.message,d=a.nextMessage,e=a.prevMessage;a=a.rowIndexFromBottom;return k.jsx(c("MAWMessageListRow.react"),{domElementRef:f.set(b.messageId),lastEbMessageTime:y,modal:t,row:{message:b,nextMessage:d,prevMessage:e},rowIndexFromBottom:a,thread:j})},e[3]=f,e[4]=y,e[5]=t,e[6]=j,e[7]=r):r=e[7];e[8]!==i||e[9]!==m||e[10]!==j||e[11]!==x||e[12]!==v||e[13]!==l||e[14]!==t?(w=function(a){a=k.jsxs(k.Fragment,{children:[a,k.jsx(s,{scrollerRefs:i,theme:m,threadKey:j.threadKey,threadType:x})]});return k.jsx("div",{"data-testid":void 0,id:v,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:k.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:j,children:k.jsx(c("MWBlockingProtectionContext.react").Provider,{children:k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:l,modal:t,setModal:u,children:b("cr:3907")==null?a:k.jsx(b("cr:3907"),{id:v,children:a})})})})})})},e[8]=i,e[9]=m,e[10]=j,e[11]=x,e[12]=v,e[13]=l,e[14]=t,e[15]=w):w=e[15];var z;e[16]!==g||e[17]!==a||e[18]!==r||e[19]!==j||e[20]!==w?(z=k.jsx(c("MWPBaseMessageList_DEPRECATED"),{messages:g,participants:a,renderRow:r,thread:j,children:w}),e[16]=g,e[17]=a,e[18]=r,e[19]=j,e[20]=w,e[21]=z):z=e[21];return z}g["default"]=e}),98);
__d("MAWThreadViewAttachmentStateHandlerContent.react",["CometHeroHoldTrigger.react","MAWAttachmentStateHandlerContentBase.react","MWV2AttachmentLoadingPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react"));function a(a){var b=j(21),d=a.attachmentsFromGroupToRetry,e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.descriptionForLogging,i=a.downloadStatusKeyOverride,l=a.errorComponentRenderer,m=a.errorWithBlurComponentRenderer,n=a.loadingPlaceholderStyle,o=a.mediaRenderQpl,p=a.outgoing,q=a.placeholderHeight,r=a.placeholderMaxHeight,s=a.placeholderMaxWidth,t=a.placeholderWidth;a=a.successfulComponentRenderer;h=h+".MAWThreadViewAttachmentStateHandlerContent";var u;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==q||b[4]!==r||b[5]!==s||b[6]!==t||b[7]!==o||b[8]!==p||b[9]!==n?(u=function(a,b){var d;return k.jsxs(k.Fragment,{children:[k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:a,hasAppAttribution:(g==null?void 0:g.attributionAppName)!=null,height:q,maxHeight:(d=r)!=null?d:q,maxWidth:(d=s)!=null?d:t,mediaRenderQpl:o,outgoing:p,width:t,xstyle:n}),!b&&k.jsx(c("CometHeroHoldTrigger.react"),{description:a,hold:!0})]})},b[0]=e,b[1]=f,b[2]=g,b[3]=q,b[4]=r,b[5]=s,b[6]=t,b[7]=o,b[8]=p,b[9]=n,b[10]=u):u=b[10];var v;b[11]!==d||b[12]!==g||b[13]!==h||b[14]!==i||b[15]!==l||b[16]!==m||b[17]!==u||b[18]!==o||b[19]!==a?(v=k.jsx(c("MAWAttachmentStateHandlerContentBase.react"),{attachmentsFromGroupToRetry:d,dbAttachment:g,descriptionForLogging:h,downloadStatusKeyOverride:i,errorComponentRenderer:l,errorWithBlurComponentRenderer:m,loadingPlaceholderRenderer:u,mediaRenderQpl:o,successfulComponentRenderer:a}),b[11]=d,b[12]=g,b[13]=h,b[14]=i,b[15]=l,b[16]=m,b[17]=u,b[18]=o,b[19]=a,b[20]=v):v=b[20];return v}g["default"]=a}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.c;function a(a){var b=n(38),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.isReply,o=a.isRetryableError,p=a.mediaRenderQpl,q=a.message,r=a.onRetry,s=a.outgoing;a=a.width;i=i===void 0?!1:i;var t=e.playableDurationMs;t=(j||(j=d("I64"))).to_float((t=t)!=null?t:(j||(j=d("I64"))).zero)/1e3;f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s===!0?"right":"left",connectBottom:f,connectTop:g});g=d("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,q.messageId,void 0,c("emptyFunction"),!1,t,p);g[0];g[1];var u=g[2];g[3];g=g[4];if(b[0]!==q.ephemeralDurationInSec){var v;v=(j||(j=d("I64"))).gt((v=q.ephemeralDurationInSec)!=null?v:(j||(j=d("I64"))).zero,j.zero);b[0]=q.ephemeralDurationInSec;b[1]=v}else v=b[1];q=v;v=m();var w=d("MWPAudioHighlightStylesHooks").useHighlightStyles(s);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,q);q=a+"px";b[2]!==q?(a={width:q},b[2]=q,b[3]=a):a=b[3];q=a;var x;b[4]!==p||b[5]!==o?(a=function(){p==null?void 0:p.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:o}})},x=[p,o],b[4]=p,b[5]=o,b[6]=a,b[7]=x):(a=b[6],x=b[7]);l(a,x);a=c("MWPAudioPlayerContainer.react");x=!1;var y=null,z="mw_audio_player_error_placeholder";z=d("MWPAudioPlayerUtils").UseCase;f=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,f,s?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,s&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply);i=e.isAttachmentConsumed===!0;b[8]!==r?(e=function(){r&&r()},b[8]=r,b[9]=e):e=b[9];var A;b[10]!==o||b[11]!==e||b[12]!==s||b[13]!==v?(A=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:o,onPress:e,outgoing:s,scrubberRef:v}),b[10]=o,b[11]=e,b[12]=s,b[13]=v,b[14]=A):A=b[14];b[15]!==u||b[16]!==t||b[17]!==i||b[18]!==s||b[19]!==g||b[20]!==v||b[21]!==w||b[22]!==A?(e=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:u,currentTime:t,disabled:!0,duration:t,hasEnded:!1,hasScrubber:!1,isListened:i,isPlaying:!1,onUpdateScrubber:c("emptyFunction"),outgoing:s,progressHighlightRef:g,scrubberRef:v,waveformData:null,xstyle:w,children:A}),b[15]=u,b[16]=t,b[17]=i,b[18]=s,b[19]=g,b[20]=v,b[21]=w,b[22]=A,b[23]=e):e=b[23];b[24]!==s||b[25]!==t?(i=k.jsx("div",{children:k.jsx(c("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:s,time:t})}),b[24]=s,b[25]=t,b[26]=i):i=b[26];b[27]!==f||b[28]!==e||b[29]!==i?(g=k.jsxs("div",{className:f,children:[e,i]}),b[27]=f,b[28]=e,b[29]=i,b[30]=g):g=b[30];b[31]!==a||b[32]!==u||b[33]!==v||b[34]!==q||b[35]!==z.PLAYER||b[36]!==g?(w=k.jsx(a,{audioEl:u,hasScrubber:x,mediaRenderQpl:y,scrubberRef:v,style:q,testid:void 0,useCase:z.PLAYER,children:g}),b[31]=a,b[32]=u,b[33]=v,b[34]=q,b[35]=z.PLAYER,b[36]=g,b[37]=w):w=b[37];return w}g["default"]=a}),98);
__d("MAWSecureAudioAttachmentContentV2.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","cr:5622","mwpMessageIsReply","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function a(a){var e=k(29),f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,l=a.getPlayableUrl,m=a.mediaRenderQpl,n=a.message,o=a.outgoing,p;e[0]!==m?(a=function(){m==null?void 0:m.addPoint("render-audio-attachment")},p=[m],e[0]=m,e[1]=a,e[2]=p):(a=e[1],p=e[2]);j(a,p);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth();p=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER);var q;e[3]!==h||e[4]!==f||e[5]!==g||e[6]!==m||e[7]!==n||e[8]!==o?(q=function(a,b){return i.jsx(c("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:h,connectBottom:f,connectTop:g,isRetryableError:a,mediaRenderQpl:m,message:n,onRetry:b,outgoing:o})},e[3]=h,e[4]=f,e[5]=g,e[6]=m,e[7]=n,e[8]=o,e[9]=q):q=e[9];var r=q;e[10]!==h||e[11]!==f||e[12]!==g||e[13]!==l||e[14]!==n||e[15]!==m||e[16]!==o||e[17]!==r?(q=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:i.jsx(b("cr:5622"),{attachment:h,connectBottom:f,connectTop:g,getPlayableUrl:l,isReply:c("mwpMessageIsReply")(n),isSecure:!0,mediaRenderQpl:m,message:n,outgoing:o,renderUnsupportedAttachment:function(){return r(!1)}})})},e[10]=h,e[11]=f,e[12]=g,e[13]=l,e[14]=n,e[15]=m,e[16]=o,e[17]=r,e[18]=q):q=e[18];q=q;var s;e[19]!==f||e[20]!==g||e[21]!==h||e[22]!==r||e[23]!==m||e[24]!==o||e[25]!==p||e[26]!==a||e[27]!==q?(s=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:r,mediaRenderQpl:m,outgoing:o,placeholderHeight:p,placeholderWidth:a,successfulComponentRenderer:q}),e[19]=f,e[20]=g,e[21]=h,e[22]=r,e[23]=m,e[24]=o,e[25]=p,e[26]=a,e[27]=q,e[28]=s):s=e[28];return s}g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","gkx","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=k(18),e=a.connectBottom,f=a.connectTop,g=a.detailedUserFacingErrorMessage,j=a.hasAppAttribution,n=a.height,o=a.outgoing,p=a.width,q=a.xstyle,r=c("useCurrentDisplayMode")();n=(a=n)!=null?a:100;p=(a=p)!=null?a:200;a=o===!0?"right":"left";o=j===!0?"bottom":"none";b[0]!==a||b[1]!==e||b[2]!==f||b[3]!==o?(j=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:e,connectTop:f,flatten:o}),b[0]=a,b[1]=e,b[2]=f,b[3]=o,b[4]=j):j=b[4];var s=j;b[5]!==g?(a=g!=null&&c("gkx")("5619")?g:h._("__JHASH__k6bhcm2tjqK__JHASH__"),b[5]=g,b[6]=a):a=b[6];b[7]!==r||b[8]!==s||b[9]!==q?(e=function(a){return l.jsx("div",{className:(i||(i=c("stylex")))([a,m.content,r==="dark"?m.dark:m.light,s,q]),"data-testid":void 0,children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconCautionTriangle"),size:20})})},b[7]=r,b[8]=s,b[9]=q,b[10]=e):e=b[10];b[11]!==n||b[12]!==p||b[13]!==e?(f=l.jsx(c("MWXAspectRatioContainer.react"),{height:n,maxHeight:200,maxWidth:480,width:p,children:e}),b[11]=n,b[12]=p,b[13]=e,b[14]=f):f=b[14];b[15]!==a||b[16]!==f?(o=l.jsx(c("MWXTooltip.react"),{tooltip:a,children:f}),b[15]=a,b[16]=f,b[17]=o):o=b[17];return o}g["default"]=a}),226);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b,e=k(25),f=a.file,g=a.isRetryableError,h=a.mediaRenderQpl;a=a.onRetry;b=(b=f.filename)!=null?b:d("MWFileUtils").PLACEHOLDER_FILENAME;var l;e[0]!==b?(l=b.toString(),e[0]=b,e[1]=l):l=e[1];b=l;e[2]!==f?(l=d("MWFileUtils").getFileSize(f),e[2]=f,e[3]=l):l=e[3];l=l;var m,n;e[4]!==h||e[5]!==g?(m=function(){h==null?void 0:h.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:g}})},n=[h,g],e[4]=h,e[5]=g,e[6]=m,e[7]=n):(m=e[6],n=e[7]);j(m,n);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(m="x6s0dn4 x78zum5 x87ps6o",e[8]=m):m=e[8];e[9]!==f||e[10]!==g||e[11]!==a?(n=i.jsx(c("MWChatFilePreview.react"),{attachment:f,isError:!0,isRetryableError:g,onRetry:a,withPreview:!1}),e[9]=f,e[10]=g,e[11]=a,e[12]=n):n=e[12];e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1ye3gou x1pi30zi x13faqbe",e[13]=f):f=e[13];e[14]!==b?(a=i.jsx(c("MWXTextPairing.react"),{headline:b,headlineColor:"disabled",headlineLineLimit:3,level:4}),e[14]=b,e[15]=a):a=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1x80s81 x889kno",e[16]=b):b=e[16];e[17]!==l?(b=i.jsx("div",{className:b,children:i.jsx(c("MWXTextPairing.react"),{body:l,bodyColor:"disabled",bodyLineLimit:1,level:4})}),e[17]=l,e[18]=b):b=e[18];e[19]!==a||e[20]!==b?(l=i.jsxs("div",{className:f,children:[a,b]}),e[19]=a,e[20]=b,e[21]=l):l=e[21];e[22]!==n||e[23]!==l?(f=i.jsxs("div",{className:m,"data-testid":void 0,children:[n,l]}),e[22]=n,e[23]=l,e[24]=f):f=e[24];return f}g["default"]=a}),98);
__d("MAWSecureFileAttachmentContentV2.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c,l=60,m=250,n={bubble:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=k(24),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getFileUrl,h=a.mediaRenderQpl,o=a.outgoing,p;b[0]!==h?(a=function(){h==null?void 0:h.addPoint("render-file-attachment")},p=[h],b[0]=h,b[1]=a,b[2]=p):(a=b[1],p=b[2]);j(a,p);b[3]!==o||b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==h?(a=function(a,b){return i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:d,connectTop:e,xstyle:n.bubble,children:i.jsx(c("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:f,isRetryableError:a,mediaRenderQpl:h,onRetry:b})})},b[3]=o,b[4]=d,b[5]=e,b[6]=f,b[7]=h,b[8]=a):a=b[8];p=a;b[9]!==o||b[10]!==d||b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==h?(a=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:d,connectTop:e,xstyle:n.bubble,children:i.jsx(c("MAWChatFile.react"),{file:f,getFileUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:d,connectTop:e,height:l,outgoing:o,width:m})}})})})},b[9]=o,b[10]=d,b[11]=e,b[12]=f,b[13]=g,b[14]=h,b[15]=a):a=b[15];a=a;var q;b[16]!==d||b[17]!==e||b[18]!==f||b[19]!==p||b[20]!==h||b[21]!==o||b[22]!==a?(q=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:d,connectTop:e,dbAttachment:f,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:p,mediaRenderQpl:h,outgoing:o,placeholderHeight:l,placeholderWidth:m,successfulComponentRenderer:a}),b[16]=d,b[17]=e,b[18]=f,b[19]=p,b[20]=h,b[21]=o,b[22]=a,b[23]=q):q=b[23];return q}g["default"]=a}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","cr:12001","cr:12002","react","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useEffect,k=c.c;function a(a){var c=k(23),e=a.mediaGroupInfo,f=a.mediaRenderQpl,g=a.outgoing;a=e.messagesAndAttachmentsShownInGroup;var h=e.tileSize,l=d("useGetMediaGroupStyles").useGetMediaGroupStyles(g,h),m=l.containerStyles,n=l.coordinations,o=l.imageSize,p=l.wrapperStyles,q;c[0]!==f?(l=function(){f==null?void 0:f.addPoint("render-grouped-image-attachment"),f==null?void 0:f.addAnnotations({bool:{is_grouped_image:!0}})},q=[f],c[0]=f,c[1]=l,c[2]=q):(l=c[1],q=c[2]);j(l,q);if(c[3]!==p||c[4]!==h||c[5]!==n||c[6]!==e.attachmentsToRetryDownload||c[7]!==f||c[8]!==g||c[9]!==o||c[10]!==a){c[12]!==p||c[13]!==h||c[14]!==n||c[15]!==e.attachmentsToRetryDownload||c[16]!==f||c[17]!==g||c[18]!==o?(l=function(a,c){var j=a.attachment;a=a.message;return i.jsx("div",{className:p,style:babelHelpers["extends"]({zIndex:h-c},n[c]),children:b("cr:12002")!=null?i.jsx(b("cr:12002"),{attachmentsFromGroupToRetry:e.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:j,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,isGroupedImage:!0,mediaRenderQpl:f,message:a,outgoing:g,previewHeight:o,previewWidth:o}):b("cr:12001")!=null?i.jsx(b("cr:12001"),{connectBottom:!1,connectTop:!1,dbAttachment:j,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob,isGroupedImage:!0,mediaRenderQpl:f,message:a,outgoing:g,previewHeight:o,previewWidth:o}):null},c)},c[12]=p,c[13]=h,c[14]=n,c[15]=e.attachmentsToRetryDownload,c[16]=f,c[17]=g,c[18]=o,c[19]=l):l=c[19];q=a.map(l);c[3]=p;c[4]=h;c[5]=n;c[6]=e.attachmentsToRetryDownload;c[7]=f;c[8]=g;c[9]=o;c[10]=a;c[11]=q}else q=c[11];c[20]!==m||c[21]!==q?(l=i.jsx("div",{className:m,"data-testid":void 0,children:q}),c[20]=m,c[21]=q,c[22]=l):l=c[22];return l}g["default"]=a}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Small:"small",Large:"large"});c=a;f["default"]=c}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c,n={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x19rn6z",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(a){var b=m(27),e=a.attachment,f=a.connectBottom,g=a.connectTop,j=a.hasAppAttribution,o=a.height,p=a.iconSize,q=a.isRetryableError,r=a.maxHeight,s=a.maxWidth,t=a.mediaRenderQpl,u=a.onRetry,v=a.outgoing,w=a.width,x=a.withTooltip,y=a.xstyle;a=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,q,u);e=a.mediaStatusText;a=a.retryButton;var z,A;b[0]!==t||b[1]!==q?(z=function(){t==null?void 0:t.addPoint("render-error-placeholder",{bool:{is_retryable_error:q}})},A=[t,q],b[0]=t,b[1]=q,b[2]=z,b[3]=A):(z=b[2],A=b[3]);l(z,A);var B=c("useCurrentDisplayMode")();A=(z=o)!=null?z:100;z=(o=w)!=null?o:200;w=v===!0?"right":"left";o=j===!0?"bottom":"none";b[4]!==w||b[5]!==f||b[6]!==g||b[7]!==o?(v=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:w,connectBottom:f,connectTop:g,flatten:o}),b[4]=w,b[5]=f,b[6]=g,b[7]=o,b[8]=v):v=b[8];var C=v;w=(j=r)!=null?j:200;g=(f=s)!=null?f:480;b[9]!==B||b[10]!==C||b[11]!==y||b[12]!==q||b[13]!==u||b[14]!==p?(o=function(a){return k.jsx("div",{className:(i||(i=c("stylex")))([a,n.content,B==="dark"?n.dark:n.light,C,y]),"data-testid":void 0,children:q?k.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconRefreshAlt"),label:h._("__JHASH__BGxC_0TtXwE__JHASH__"),onPress:u,size:p===c("MediaDownloadStatusIconSize").Large?40:24,type:"dark-overlay"}):k.jsx("div",{className:(i||(i=c("stylex")))([n.nonRetryableError,p===c("MediaDownloadStatusIconSize").Large?n.threadMediaStatusIcon:n.galleryMediaStatusIcon]),children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:p===c("MediaDownloadStatusIconSize").Large?20:12})})})},b[9]=B,b[10]=C,b[11]=y,b[12]=q,b[13]=u,b[14]=p,b[15]=o):o=b[15];b[16]!==A||b[17]!==w||b[18]!==g||b[19]!==z||b[20]!==o?(v=k.jsx(c("MWXAspectRatioContainer.react"),{height:A,maxHeight:w,maxWidth:g,width:z,children:o}),b[16]=A,b[17]=w,b[18]=g,b[19]=z,b[20]=o,b[21]=v):v=b[21];r=v;b[22]!==x||b[23]!==e||b[24]!==a||b[25]!==r?(j=x===!0?k.jsx(c("MWXTooltip.react"),{label:e,tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[e,a]}),children:r}):r,b[22]=x,b[23]=e,b[24]=a,b[25]=r,b[26]=j):j=b[26];return j}g["default"]=a}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={content:{alignItems:"x6s0dn4",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=j(30),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,n=a.hasAppAttribution,o=a.height,p=a.isGroupedImage,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.message,u=a.outgoing,v=a.width,w=a.xstyle,x=c("useCurrentDisplayMode")();o=(a=o)!=null?a:100;v=(a=v)!=null?a:200;a=u===!0?"right":"left";n=n===!0?"bottom":"none";var y;b[0]!==a||b[1]!==e||b[2]!==f||b[3]!==n?(y=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:e,connectTop:f,flatten:n}),b[0]=a,b[1]=e,b[2]=f,b[3]=n,b[4]=y):y=b[4];var z=y;n=(a=q)!=null?a:200;a=(y=r)!=null?y:480;b[5]!==x||b[6]!==z||b[7]!==w?(y=function(a){return k.jsx("div",{className:(h||(h=c("stylex")))([a,l.content,x==="dark"?l.dark:l.light,z,w]),"data-testid":void 0})},b[5]=x,b[6]=z,b[7]=w,b[8]=y):y=b[8];var A;b[9]!==o||b[10]!==n||b[11]!==a||b[12]!==v||b[13]!==y?(A=k.jsx(c("MWXAspectRatioContainer.react"),{height:o,maxHeight:n,maxWidth:a,width:v,children:y}),b[9]=o,b[10]=n,b[11]=a,b[12]=v,b[13]=y,b[14]=A):A=b[14];var B=A;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(n="x47corl",b[15]=n):n=b[15];if(b[16]!==t||b[17]!==q||b[18]!==o||b[19]!==r||b[20]!==v||b[21]!==B||b[22]!==g||b[23]!==e||b[24]!==f||b[25]!==i||b[26]!==p||b[27]!==u||b[28]!==s){A=k.jsx("div",{className:n,children:t!=null?k.jsx(c("CometPlaceholder.react"),{fallback:B,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:k.jsx(c("MWV2ChatImage.react"),{attachment:g,connectBottom:e,connectTop:f,getPreviewUrl:i,isGroupedImage:p,isSecure:!0,maxHeight:(a=q)!=null?a:o,maxWidth:(y=r)!=null?y:v,mediaRenderQpl:null,message:t,navigateToRouteForMediaViewer:!1,outgoing:u,renderUnsupportedAttachment:function(){return B},shouldBlur:!0})}):k.jsx(c("CometPlaceholder.react"),{fallback:B,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:k.jsx(m,{dbAttachment:g,fallback:B,getPreviewUrl:i,heightCalculated:o,maxHeight:q,maxWidth:r,mediaRenderQpl:s,widthCalculated:v})})});b[16]=t;b[17]=q;b[18]=o;b[19]=r;b[20]=v;b[21]=B;b[22]=g;b[23]=e;b[24]=f;b[25]=i;b[26]=p;b[27]=u;b[28]=s;b[29]=A}else A=b[29];return A}function m(a){var b=j(11),d=a.dbAttachment,e=a.fallback,f=a.getPreviewUrl,g=a.heightCalculated,h=a.maxHeight,i=a.maxWidth,m=a.mediaRenderQpl;a=a.widthCalculated;var n;b[0]!==f||b[1]!==d||b[2]!==m?(n=f(d,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",m),b[0]=f,b[1]=d,b[2]=m,b[3]=n):n=b[3];var o=n;b[4]!==o||b[5]!==g||b[6]!==h||b[7]!==i||b[8]!==a||b[9]!==e?(f=o!=null?k.jsx(c("MWXAspectRatioContainer.react"),{height:g,maxHeight:h,maxWidth:i,width:a,children:function(a){return k.jsx(c("FDSBlurredBackgroundImage.react"),{src:o,xstyle:[a,l.gallery]})}}):e,b[4]=o,b[5]=g,b[6]=h,b[7]=i,b[8]=a,b[9]=e,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m={galleryMediaStatusIcon:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},nonRetryableError:{alignItems:"x6s0dn4",backgroundColor:"x18l40ae",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",color:"x14ctfv",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},threadMediaStatusIcon:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0}};function a(a){var b=l(35),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,n=a.hasAppAttribution,o=a.height,p=a.iconSize,q=a.isGroupedImage,r=a.maxHeight,s=a.maxWidth,t=a.mediaRenderQpl,u=a.message,v=a.outgoing,w=a.width,x=a.withTooltip;a=a.xstyle;var y,z;b[0]!==t||b[1]!==u?(y=function(){t==null?void 0:t.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:u!=null}})},z=[t,u],b[0]=t,b[1]=u,b[2]=y,b[3]=z):(y=b[2],z=b[3]);k(y,z);y=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!1);z=y.mediaStatusText;y=y.retryButton;var A;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(A="xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm",b[4]=A):A=b[4];var B=p===c("MediaDownloadStatusIconSize").Large?m.threadMediaStatusIcon:m.galleryMediaStatusIcon,C;b[5]!==B?(C=(h||(h=c("stylex")))([m.nonRetryableError,B]),b[5]=B,b[6]=C):C=b[6];B=p===c("MediaDownloadStatusIconSize").Large?20:12;b[7]!==B?(p=j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:B}),b[7]=B,b[8]=p):p=b[8];b[9]!==C||b[10]!==p?(B=j.jsx("div",{className:A,children:j.jsx("div",{className:C,"data-testid":void 0,children:p})}),b[9]=C,b[10]=p,b[11]=B):B=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==i||b[16]!==n||b[17]!==o||b[18]!==q||b[19]!==r||b[20]!==s||b[21]!==t||b[22]!==u||b[23]!==v||b[24]!==w||b[25]!==a?(A=j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:i,hasAppAttribution:n,height:o,isGroupedImage:q,maxHeight:r,maxWidth:s,mediaRenderQpl:t,message:u,outgoing:v,width:w,xstyle:a}),b[12]=e,b[13]=f,b[14]=g,b[15]=i,b[16]=n,b[17]=o,b[18]=q,b[19]=r,b[20]=s,b[21]=t,b[22]=u,b[23]=v,b[24]=w,b[25]=a,b[26]=A):A=b[26];b[27]!==B||b[28]!==A?(C=j.jsxs(j.Fragment,{children:[B,A]}),b[27]=B,b[28]=A,b[29]=C):C=b[29];p=C;b[30]!==x||b[31]!==z||b[32]!==y||b[33]!==p?(e=x===!0?j.jsx(c("MWXTooltip.react"),{label:z,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[z,y]}),children:p}):p,b[30]=x,b[31]=z,b[32]=y,b[33]=p,b[34]=e):e=b[34];return e}g["default"]=a}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXCircleButton.react","MWXIconRefreshAlt","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c;function a(a){var b=l(32),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,m=a.hasAppAttribution,n=a.height,o=a.iconSize,p=a.isGroupedImage,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.message,u=a.onRetry,v=a.outgoing,w=a.width,x=a.withTooltip;a=a.xstyle;var y,z;b[0]!==s||b[1]!==t?(y=function(){s==null?void 0:s.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:t!=null,is_retryable_error:!0}})},z=[s,t],b[0]=s,b[1]=t,b[2]=y,b[3]=z):(y=b[2],z=b[3]);k(y,z);y=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!0,u);z=y.mediaStatusText;y=y.retryButton;var A;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(A="xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm",b[4]=A):A=b[4];var B;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._("__JHASH__BGxC_0TtXwE__JHASH__"),b[5]=B):B=b[5];o=o===c("MediaDownloadStatusIconSize").Large?40:24;b[6]!==u||b[7]!==o?(A=j.jsx("div",{className:A,children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconRefreshAlt"),label:B,onPress:u,size:o,testid:void 0,type:"dark-overlay"})}),b[6]=u,b[7]=o,b[8]=A):A=b[8];b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==i||b[13]!==m||b[14]!==n||b[15]!==p||b[16]!==q||b[17]!==r||b[18]!==s||b[19]!==t||b[20]!==v||b[21]!==w||b[22]!==a?(B=j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:i,hasAppAttribution:m,height:n,isGroupedImage:p,maxHeight:q,maxWidth:r,mediaRenderQpl:s,message:t,outgoing:v,width:w,xstyle:a}),b[9]=e,b[10]=f,b[11]=g,b[12]=i,b[13]=m,b[14]=n,b[15]=p,b[16]=q,b[17]=r,b[18]=s,b[19]=t,b[20]=v,b[21]=w,b[22]=a,b[23]=B):B=b[23];b[24]!==A||b[25]!==B?(u=j.jsxs(j.Fragment,{children:[A,B]}),b[24]=A,b[25]=B,b[26]=u):u=b[26];o=u;b[27]!==x||b[28]!==z||b[29]!==y||b[30]!==o?(e=x===!0?j.jsx(c("MWXTooltip.react"),{label:z,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[z,y]}),children:o}):o,b[27]=x,b[28]=z,b[29]=y,b[30]=o,b[31]=e):e=b[31];return e}g["default"]=a}),226);
__d("MAWSecureImageAttachmentContentV2.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(68),e=a.attachmentsFromGroupToRetry,f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,l=a.getPreviewUrl,m=a.isGroupedImage,n=a.mediaRenderQpl,o=a.message,p=a.outgoing,q=a.previewHeight,r=a.previewWidth,s;b[0]!==n?(a=function(){n==null?void 0:n.addPoint("render-image-attachment")},s=[n],b[0]=n,b[1]=a,b[2]=s):(a=b[1],s=b[2]);j(a,s);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=(s=a)!=null?s:void 0;b[3]!==a||b[4]!==m?(s=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,a,m),b[3]=a,b[4]=m,b[5]=s):s=b[5];a=s;var t=a.maxHeight,u=a.maxWidth;if(o==null||h==null){s=(h==null?void 0:h.attributionAppName)!=null;b[6]!==f||b[7]!==g||b[8]!==s||b[9]!==q||b[10]!==t||b[11]!==u||b[12]!==n||b[13]!==p||b[14]!==r?(a=i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:s,height:q,maxHeight:t,maxWidth:u,mediaRenderQpl:n,outgoing:p,width:r}),b[6]=f,b[7]=g,b[8]=s,b[9]=q,b[10]=t,b[11]=u,b[12]=n,b[13]=p,b[14]=r,b[15]=a):a=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(s=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),b[16]=s):s=b[16];b[17]!==a?(s=i.jsxs(i.Fragment,{children:[a,s]}),b[17]=a,b[18]=s):s=b[18];return s}b[19]!==h||b[20]!==f||b[21]!==g||b[22]!==q||b[23]!==t||b[24]!==u||b[25]!==n||b[26]!==p||b[27]!==r?(a=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:h,connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:q,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:t,maxWidth:u,mediaRenderQpl:n,onRetry:b,outgoing:p,width:r})},b[19]=h,b[20]=f,b[21]=g,b[22]=q,b[23]=t,b[24]=u,b[25]=n,b[26]=p,b[27]=r,b[28]=a):a=b[28];var v=a;b[29]!==f||b[30]!==g||b[31]!==h||b[32]!==l||b[33]!==q||b[34]!==m||b[35]!==t||b[36]!==u||b[37]!==n||b[38]!==o||b[39]!==p||b[40]!==r?(s=function(a,b){return a?i.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:l,height:q,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:m,maxHeight:t,maxWidth:u,mediaRenderQpl:n,message:o,onRetry:b,outgoing:p,width:r}):i.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:l,height:q,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:m,maxHeight:t,maxWidth:u,mediaRenderQpl:n,message:o,outgoing:p,width:r})},b[29]=f,b[30]=g,b[31]=h,b[32]=l,b[33]=q,b[34]=m,b[35]=t,b[36]=u,b[37]=n,b[38]=o,b[39]=p,b[40]=r,b[41]=s):s=b[41];a=s;b[42]!==o||b[43]!==h||b[44]!==f||b[45]!==g||b[46]!==l||b[47]!==m||b[48]!==t||b[49]!==u||b[50]!==n||b[51]!==p||b[52]!==v?(s=function(a){return o==null?a("MAWSecureImageAttachmentContentV2.NoMessage",!1):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:i.jsx(c("MWV2ChatImage.react"),{attachment:h,connectBottom:f,connectTop:g,getPreviewUrl:l,isGroupedImage:m,isSecure:!0,maxHeight:t,maxWidth:u,mediaRenderQpl:n,message:o,navigateToRouteForMediaViewer:!1,outgoing:p,renderUnsupportedAttachment:function(){return v(!1)}})})},b[42]=o,b[43]=h,b[44]=f,b[45]=g,b[46]=l,b[47]=m,b[48]=t,b[49]=u,b[50]=n,b[51]=p,b[52]=v,b[53]=s):s=b[53];s=s;var w;b[54]!==e||b[55]!==f||b[56]!==g||b[57]!==h||b[58]!==v||b[59]!==a||b[60]!==n||b[61]!==p||b[62]!==q||b[63]!==t||b[64]!==u||b[65]!==r||b[66]!==s?(w=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:e,connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:v,errorWithBlurComponentRenderer:a,mediaRenderQpl:n,outgoing:p,placeholderHeight:q,placeholderMaxHeight:t,placeholderMaxWidth:u,placeholderWidth:r,successfulComponentRenderer:s}),b[54]=e,b[55]=f,b[56]=g,b[57]=h,b[58]=v,b[59]=a,b[60]=n,b[61]=p,b[62]=q,b[63]=t,b[64]=u,b[65]=r,b[66]=s,b[67]=w):w=b[67];return w}g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContentV2.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(27),d=a.connectBottom,e=a.connectTop,f=a.dbAttachment,g=a.getPreviewUrl,h=a.mediaRenderQpl,l=a.outgoing,m=a.previewHeight,n=a.previewWidth,o;b[0]!==h?(a=function(){h==null?void 0:h.addPoint("render-sticker-attachment")},o=[h],b[0]=h,b[1]=a,b[2]=o):(a=b[1],o=b[2]);j(a,o);b[3]!==f||b[4]!==d||b[5]!==e||b[6]!==m||b[7]!==h||b[8]!==l||b[9]!==n?(a=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:f,connectBottom:d,connectTop:e,hasAppAttribution:f.attributionAppName!=null,height:m,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,mediaRenderQpl:h,onRetry:b,outgoing:l,width:n})},b[3]=f,b[4]=d,b[5]=e,b[6]=m,b[7]=h,b[8]=l,b[9]=n,b[10]=a):a=b[10];var p=a;b[11]!==f||b[12]!==g||b[13]!==h||b[14]!==p?(o=function(a){return f.receiverFetchId!=null&&f.previewUrl==null?a("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:i.jsx(c("MWV2Sticker.react"),{attachment:f,getPreviewUrl:g,mediaRenderQpl:h,renderUnsupportedAttachment:function(){return p(!1)}})})},b[11]=f,b[12]=g,b[13]=h,b[14]=p,b[15]=o):o=b[15];a=o;o=f.receiverFetchId!=null?f.messageId:f.attachmentFbid;var q;b[16]!==d||b[17]!==e||b[18]!==f||b[19]!==o||b[20]!==p||b[21]!==h||b[22]!==l||b[23]!==m||b[24]!==n||b[25]!==a?(q=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:d,connectTop:e,dbAttachment:f,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:o,errorComponentRenderer:p,mediaRenderQpl:h,outgoing:l,placeholderHeight:m,placeholderWidth:n,successfulComponentRenderer:a}),b[16]=d,b[17]=e,b[18]=f,b[19]=o,b[20]=p,b[21]=h,b[22]=l,b[23]=m,b[24]=n,b[25]=a,b[26]=q):q=b[26];return q}g["default"]=a}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WABridgedAPI","WAJids","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef,m=b.c;function a(a,b){var e=m(11),g;e[0]!==b.tables.participants||e[1]!==b.tables.contacts||e[2]!==a.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(function(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)):null}).filter(Boolean)},e[0]=b.tables.participants,e[1]=b.tables.contacts,e[2]=a.threadKey,e[3]=g):g=e[3];var h;e[4]!==b||e[5]!==a.threadKey?(h=[b,a.threadKey],e[4]=b,e[5]=a.threadKey,e[6]=h):h=e[6];var n=d("ReQLSuspense").useArray(g,h,f.id+":30");e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=new Set(),e[7]=g):g=e[7];var o=l(g);e[8]!==n?(h=function(){var a=o.current.size!==n.length||!n.every(function(a){return o.current.has(a)});if(!a&&n.length>2)return;a=new Set(n);o.current=a;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:a}))},g=[n],e[8]=n,e[9]=h,e[10]=g):(h=e[9],g=e[10]);k(h,g)}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:7127","cr:9776","react","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));f=k;var m=f.useState,n=f.c;function a(a,b){}var o=(f=b("cr:7127"))!=null?f:a;function e(a){var e=n(17),f=a.cutoverOpenThread,g=a.entryPoint,k=a.messageListRef;a=a.thread;var p=(h||(h=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,p);var q=m(!0),r=q[0],s=q[1];e[0]!==f?(q=f!=null&&(i||(i=d("I64"))).equal(f.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[0]=f,e[1]=q):q=e[1];q=q;o(p,a.threadKey);e[2]!==q||e[3]!==r?(p=b("cr:9776")!=null&&q&&l.jsx(b("cr:9776"),{isShown:!r}),e[2]=q,e[3]=r,e[4]=p):p=e[4];e[5]!==p?(q=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:p}),e[5]=p,e[6]=q):q=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),e[7]=r):r=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(a){return s(a)},e[8]=p):p=e[8];e[9]!==f||e[10]!==g||e[11]!==k||e[12]!==a?(r=l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[r,l.jsx(c("MAWMessageList.react"),{cutoverOpenThread:f,entryPoint:g,onScrollToBottom:p,ref:k,thread:a})]}),e[9]=f,e[10]=g,e[11]=k,e[12]=a,e[13]=r):r=e[13];e[14]!==q||e[15]!==r?(p=l.jsxs(l.Fragment,{children:[q,r]}),e[14]=q,e[15]=r,e[16]=p):p=e[16];return p}g["default"]=e}),98);
__d("isEventSupported",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";var h;c("fbjs/lib/ExecutionEnvironment").canUseDOM&&(h=document.implementation&&document.implementation.hasFeature("","")!==!0);function a(a,b){if(!c("fbjs/lib/ExecutionEnvironment").canUseDOM||b===!0&&!("addEventListener"in document))return!1;b="on"+a;var d=b in document;if(!d){var e=document.createElement("div");e.setAttribute(b,"return;");d=typeof e.getAttribute(b)==="function"}!d&&h&&a==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}g["default"]=a}),98);
__d("MWChatConversationScroller.react",["BaseScrollableAreaContext","CometThrottle","ExecutionEnvironment","MWXScrollableAreaStyles","emptyFunction","isEventSupported","react","stylex","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useContext,n=b.useEffect,o=b.useImperativeHandle,p=b.useLayoutEffect,q=b.useMemo,r=b.useRef;function s(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop+b.clientHeight>=b.scrollHeight-a}function t(a,b){a=a!=null?a:20;if(b==null)return!1;else return b.scrollTop<=a}var u={contained:{contain:"x16qrkmw",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",overscrollBehavior:"xish69e",$$css:!0}},v=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body.style.overscrollBehavior==null&&((e=document.body)==null?void 0:e.style.scrollBoundaryBehavior)==null:!1;d=k.forwardRef(a);function a(a,b){var d=a.boundingClientRectRef,e=a.children,f=a.dispatch,g=a.hasMoreAfter,h=a.onScroll,j=h===void 0?c("emptyFunction"):h,w=a.scrollPositionRef,x=r(f),y=r(null),z=l(function(a){y.current=a;if(d!=null){d.current=a!=null?a.getBoundingClientRect():void 0;return}},[d]);n(function(){x.current=f});var A=function(a,b){b=y.current;if(b!=null){b.scrollTop=a;return}},B=function(a){a===void 0&&(a=!1);var b=y.current;if(b!=null)return A(b.scrollHeight,a)},C=function(a,b){var c=y.current;if(c!=null)return A(c.scrollHeight-(a+c.clientHeight),b)},D=r(!1);D.current=g;var E=function(){var a=w.current,b=y.current;b=b!=null?b.scrollHeight-(b.scrollTop+b.clientHeight):void 0;var c=s(void 0,y.current),d=t(void 0,y.current);w.current=c?D.current?{type:"Island"}:{type:"Bottom"}:b!=null?d?{type:"Top",value:b}:{type:"Between",value:b}:{type:"Bottom"};c=w.current;d=0;var e=0;switch(a.type){case"Bottom":d=1;break;case"Top":case"Between":e=2;break;case"Island":break}if(e===2)switch(c.type){case"Top":d=1;break;case"Between":break;case"Bottom":case"Island":x.current("ScrollToBottom");break}if(d===1){e=0;switch(a.type){case"Top":break;case"Bottom":case"Between":e=2;break}e===2&&c.type==="Top"&&x.current("ScrollToTop")}return j(b)},F=function(a){if(v){var b=a.deltaY>0,c=a.deltaY<0;(b&&s(0,y.current)||c&&t(0,y.current))&&a.preventDefault()}return E()},G=function(a){var b=c("isEventSupported")("mousewheel")?"mousewheel":c("isEventSupported")("wheel")?"wheel":"DOMMouseScroll",d=function(b,c){a.addEventListener(b,c,{passive:!0});return function(){return a.removeEventListener(b,c,{passive:!0})}},e=function(){return a.addEventListener(b,F,{passive:!v})},f=function(){return a.removeEventListener(b,F,{passive:!v})},g=d("mouseenter",e),h=d("mouseleave",f);e=c("CometThrottle")(E,50,{trailing:!0});var i=d("scroll",e),j=d("mouseup",E),k=d("mousedown",E);return function(){f();i();g();h();k();return j()}};n(function(){var a=y.current;if(a==null)return;var b=G(a);return function(){return b()}},[]);p(function(){var a=y.current;a!=null&&a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20&&x.current("ContentDoesNotFillContainer")});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":C(a.value,!1);break;case"Between":case"Island":break}});c("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=w.current;switch(a.type){case"Bottom":B();break;case"Top":case"Between":C(a.value,!1);break;case"Island":break}},[]);var H=m(c("BaseScrollableAreaContext")),I=q(function(){return{getDOMNode:function(){return y.current}}},[]);h=q(function(){return H.concat([I])},[I,H]);o(b,function(){return{getScroller:function(){return z},isContainerFilled:function(){var a=y.current;if(a==null)return!0;else return!(a.clientHeight>0&&Math.abs(a.clientHeight-a.scrollHeight)<20)},scrollElementIntoViewIfNeeded:function(a){var b=y.current;if(b==null)return;var c=a.getBoundingClientRect();b=b.getBoundingClientRect();c=c.top;b=b.top;if(c<=b){a.scrollIntoView();return}},scrollToBottom:function(){w.current={type:"Bottom"};return B()},scrollToElement:function(a,b){var c=y.current;if(c==null)return;a.scrollIntoView();a=a.getBoundingClientRect();var d=c.getBoundingClientRect();a=a.top;d=d.top;if(a<=d){c.scrollBy(0,-b|0);return E()}},scrollToPosition:C}},[]);return k.jsx(c("BaseScrollableAreaContext").Provider,{children:k.jsx("div",{className:(i||(i=c("stylex")))(u.root,u.contained,c("MWXScrollableAreaStyles").themed),"data-release-focus-from":"CLICK",ref:z,tabIndex:-1,children:e}),value:h})}a.displayName=a.name+" [from "+f.id+"]";b=d;g["default"]=b}),98);
__d("MWV2MessageScroller.react",["LSIntEnum","LSMailboxMessagesRangeQueryDirection","MWChatConversationScroller.react","emptyFunction","react","useMWMarkThreadAsReadWhenNewMessagesArrive"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.children,e=a.fetchMore,f=a.hasMoreAfter,g=a.hasMoreBefore,h=a.markThreadAsRead,l=a.onScroll;l=l===void 0?c("emptyFunction"):l;var m=a.scrollerRefs;a=a.thread;h=h;var n=k(function(){var a;return((a=m.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[m]),o=k(function(){return!1}),p=c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,h,n,o);return j.jsx(c("MWChatConversationScroller.react"),{dispatch:function(a){switch(a){case"ContentDoesNotFillContainer":if(g)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));else return;case"ScrollToBottom":if(f)return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER));else return p();case"ScrollToTop":return e((i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE))}},hasMoreAfter:f,onScroll:l,ref:m.scrollerRef,scrollPositionRef:m.scrollPositionRef,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFetchCutoverMessages",["I64","InteractionTracingMetrics","LSIntEnum","LSMailboxMessagesRangeQueryDirection","MAWFetchMoreMessages","MAWStateContext.react","MWPFetchMessagesPageV2","ReQL","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useContext;function a(a,b,e,f,g){var k=(h||(h=c("useReStore")))(),n=m(d("MAWStateContext.react").MAWDispatchContext),o=d("MAWFetchMoreMessages").useSecureDataStorage();return l(function(h){h=(i||(i=d("I64"))).equal(h,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER))?"after":"before";if(e==null)return;c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")});c("promiseDone")(c("MWPFetchMessagesPageV2")(k,g,h,d("ReQL").key(e.threadKey,e.minTimestampMs,e.minMessageId),a.threadType,f==null?null:d("ReQL").key(f.threadKey,f.minTimestampMs,f.minMessageId),b==null?void 0:b.threadType,o,n).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))},[b==null?void 0:b.threadType,k,n,f,g,o,a.threadType,e])}g["default"]=a}),98);
__d("useMWChatLoadMoreItemsIncrementally",["I64","LSIntEnum","LSMailboxMessagesRangeQueryDirection","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;b.useMemo;var k=b.useRef,l=b.useState,m=b.c,n={contents:void 0};function o(){if(n.contents==null){var a;n.contents=((a=window.document.documentElement)==null?void 0:a.style.overflowAnchor)!=null}return(a=n.contents)!=null?a:!1}function a(a,b,e,f,g,h){var n=m(23);a=a!=null?a:!1;var p=b!=null?b:!0;n[0]!==e?(b=e!=null?e:{type:"Bottom"},n[0]=e,n[1]=b):b=n[1];e=b;b=a||!o();var q=f.length,r;if(n[2]!==e.type||n[3]!==e.value){bb0:switch(e.type){case"Top":case"Between":r=e.value>=200;break bb0;case"Bottom":case"Island":r=!1}n[2]=e.type;n[3]=e.value;n[4]=r}else r=n[4];a=r;n[5]!==a||n[6]!==q||n[7]!==p?(e=function(){if(r)return q;return p?window.screen.availHeight<1200?20:40:10},n[5]=a,n[6]=q,n[7]=p,n[8]=e):e=n[8];a=l(e);e=a[0];var s=a[1];n[9]!==e||n[10]!==f?(a=f.slice(-e),n[9]=e,n[10]=f,n[11]=a):a=n[11];a=a;a=a;var t=k(e),u;n[12]!==q||n[13]!==g?(u=function(a){if(!(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE)))throw c("unrecoverableViolation")("Message fetch direction must be 'before'","maw_db");if(t.current+15<=q){t.current=t.current+15;return s(function(){return t.current})}else{g((j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE));if(t.current<q+15){t.current=q+15;return s(function(){return t.current})}}},n[12]=q,n[13]=g,n[14]=u):u=n[14];u=u;if(b){n[15]!==f||n[16]!==g||n[17]!==h?(b=[f,g,h],n[15]=f,n[16]=g,n[17]=h,n[18]=b):b=n[18];return b}f=h||e<q;n[19]!==a||n[20]!==u||n[21]!==f?(b=[a,u,f],n[19]=a,n[20]=u,n[21]=f,n[22]=b):b=n[22];return b}g["default"]=a}),98);
__d("MAWSecureThreadDetail_DEPRECATED.react",["CometHeroHoldTrigger.react","CometPageletWithDiv.react","CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageList_DEPRECATED.react","MWContextBanner.react","MWInboxThreadMessagesSpinner.react","MWPMessageListColumn.react","MWV2MessageScroller.react","MessageForIntegrityCheck","ReQL","ReQLSuspense","cr:9776","emptyFunction","gkx","logMessengerWebFalcoEvent","react","useCheckMessageIntegrityForSecureThread","useFetchCutoverMessages","useMAWMarkThreadAsRead","useMAWOfflineQueueLoadingIndicator","useMWChatLoadMoreItemsIncrementally","useMWCurrentVisibleMessage","useMWV2ConversationScrollerRefs","useObserveMessagePageLoad","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useImperativeHandle,o=e.useMemo,p=e.useState,q=e.c,r=10,s=10,t=10,u=30;function v(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=k.compare((c=a.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero,(c=b.secondarySortKey)!=null?c:(k||(k=d("I64"))).zero);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function w(a,b){var e=q(12),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.messages||e[1]!==b.threadKey||e[2]!==b.authorityLevel||e[3]!==b.threadType||e[4]!==a?(i=function(){var e=d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder")).getKeyRange(b.threadKey);if(a!=null)return e.bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},e[0]=g.tables.messages,e[1]=b.threadKey,e[2]=b.authorityLevel,e[3]=b.threadType,e[4]=a,e[5]=i):i=e[5];var l;e[6]!==g||e[7]!==a||e[8]!==b.authorityLevel||e[9]!==b.threadKey||e[10]!==b.threadType?(l=[g,a,b.authorityLevel,b.threadKey,b.threadType],e[6]=g,e[7]=a,e[8]=b.authorityLevel,e[9]=b.threadKey,e[10]=b.threadType,e[11]=l):l=e[11];return d("ReQLSuspense").useArray(i,l,f.id+":102")}function x(a,b){var e=q(5),g=(h||(h=c("useReStore")))(),i,l;e[0]!==b||e[1]!==g||e[2]!==a?(i=function(){if(b==null)return d("ReQL").empty();var e=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey);if(a!=null)return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs),lte:d("ReQL").key(a.maxTimestampMs)});else if((k||(k=d("I64"))).lt(b.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))||d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType))return e;return d("ReQL").empty()},l=[g,b,a],e[0]=b,e[1]=g,e[2]=a,e[3]=i,e[4]=l):(i=e[3],l=e[4]);return d("ReQLSuspense").useArray(i,l,f.id+":136")}function y(a,b){var c=(k||(k=d("I64"))).compare(a.primarySortKey,b.primarySortKey);if(c!==0)return c;c=a.secondarySortKey;var e=b.secondarySortKey;if(c==null)if(e!=null)return-1;else return(k||(k=d("I64"))).compare(a.timestampMs,b.timestampMs);if(e==null)return 1;c=k.compare(c,e);return c!==0?c:k.compare(a.timestampMs,b.timestampMs)}function z(a,b){var d=(h||(h=c("useReStore")))();return c("useCheckMessageIntegrityForSecureThread")(d,a,b)}function A(a,b,e,f,g){var h=w(a,e),i=z(e.threadKey,e.threadType),j=c("useMAWOfflineQueueLoadingIndicator")(!1,e,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);d("useObserveMessagePageLoad").useObserveMessagePageLoad(h.map(function(a){return d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a)}).filter(Boolean),s,i,j,!1);var l=x(b,f);d("Int64Hooks").useEffectInt64(function(){if(f!=null&&l.length===0){var a=f.threadKey,b=f.threadType;c("logMessengerWebFalcoEvent")({threadKey:a,threadType:b},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(k||(k=d("I64"))).to_string(e.threadKey),reason:"no_messages_fetched_for_open"})}},[g,l.length,f,e.threadKey]);return o(function(){if(a!=null&&!a.hasMoreBefore)return l.sort(y).concat(h.sort(v));else return h.sort(v)},[a,h,l])}function a(a){var e,f=a.cutoverOpenThread,g=a.entryPoint,i=a.messageListRef,j=a.openThreadLoadingHoldReason;a=a.thread;var k=c("useMWV2ConversationScrollerRefs")(),o=(h||(h=c("useReStore")))(),q=m(function(){var a;return((a=k.scrollPositionRef.current)==null?void 0:a.value)===void 0&&((a=k.scrollPositionRef.current)==null?void 0:a.type)==="Bottom"},[k]),s=c("useMWCurrentVisibleMessage")(a,k.scrollerRef),v=s.messageRange,w=c("useMWCurrentVisibleMessage")(f,k.scrollerRef);w=w.messageRange;var x=c("useFetchCutoverMessages")(a,f,v,w,c("gkx")("2454")&&g==="thread_details"?u:t);e=(e=v==null?void 0:v.hasMoreAfter)!=null?e:!1;var y=p(!1),z=y[0],B=y[1];x=c("useMWChatLoadMoreItemsIncrementally")(e,void 0,void 0,A(v,w,a,f,g),x,(y=v==null?void 0:v.hasMoreBefore)!=null?y:!1);y=x[0];var C=x[1];x=x[2];c("useSecureThreadDetailGetDevices")(a,o);n(i,function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:function(){var a=k.scrollerRef.current,b=k.scrollPositionRef.current;if(a!=null&&b!=null)switch(b.type){case"Bottom":a.scrollToBottom();break;case"Top":case"Between":a.scrollToPosition(b.value,!1);break;case"Island":break}}}},[k.scrollPositionRef,k.scrollerRef]);o=null;y.length<r&&(v==null?o="visibleSecureMessageRange-null":v.isLoadingBefore?o="isSecureMessagesLoadingBefore":j!=null?o=j:f!=null&&w==null?o="visibleOpenMessageRange-null":f!=null&&(w==null?void 0:w.isLoadingBefore)&&(o="visibleOpenMessageRangeLoadingBefore"));i=j!=null||f!=null&&(w==null||w.hasMoreBefore);return l.jsxs(l.Fragment,{children:[l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:b("cr:9776")!=null&&f&&l.jsx(b("cr:9776"),{isShown:z})}),l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{isSecure:!0,children:[l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),l.jsxs(c("MWV2MessageScroller.react"),{fetchMore:C,hasMoreAfter:e,hasMoreBefore:x,markThreadAsRead:c("useMAWMarkThreadAsRead")(a,g),onScroll:function(){B(!q())},scrollerRefs:k,thread:a,children:[l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWLoadingMessages-"+((v=o)!=null?v:"null"),hold:o!=null}),x||i?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:o==null}):l.jsx(c("MWContextBanner.react"),{threadKey:a.threadKey,threadType:a.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MAWMessageList",children:l.jsx(c("MAWMessageList_DEPRECATED.react"),{messageElementRefs:s.messageElementRefs.current,messages:y,scrollerRefs:k,thread:a})}),e?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):null]})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g.MAWSecureThreadDetail_DEPRECATED=e}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=i(6),d=a.children,e=a.message,f=a.threadKey;b[0]!==f||b[1]!==e?(a=function(a){c("MWFailChatTabOpenQPLEvent")(f,a.toString()),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix(e+": %s",a.toString())},b[0]=f,b[1]=e,b[2]=a):a=b[2];var g;b[3]!==a||b[4]!==d?(g=j.jsx(c("CometErrorBoundary.react"),{fallback:l,onError:a,children:d}),b[3]=a,b[4]=d,b[5]=g):g=b[5];return g}function l(a){return j.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"thread_error_boundary",xstyle:k.errorBoundary})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=k||d("react");var l=e.useEffect,m=e.c;function n(a){return a.showOpenMessageHistory===!1}function a(a){var e=m(20),g=(i||(i=c("useReStore")))(),k;e[0]!==g.tables.mi_act_mapping_table||e[1]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.mi_act_mapping_table).getKeyRange(a)},e[0]=g.tables.mi_act_mapping_table,e[1]=a,e[2]=k):k=e[2];var o;e[3]!==a||e[4]!==g?(o=[a,g],e[3]=a,e[4]=g,e[5]=o):o=e[5];k=d("ReQLSuspense").useFirst(k,o,f.id+":34");var p=k==null?void 0:k.jid,q=k==null?void 0:k.serverThreadKey;e[6]!==p||e[7]!==g.tables.cutover_threads?(o=function(){return p?d("ReQL").fromTableAscending(g.tables.cutover_threads).getKeyRange(p).filter(n):d("ReQL").empty()},e[6]=p,e[7]=g.tables.cutover_threads,e[8]=o):o=e[8];e[9]!==g||e[10]!==p?(k=[g,p],e[9]=g,e[10]=p,e[11]=k):k=e[11];var r=d("ReQLSuspense").useFirst(o,k,f.id+":43");e[12]!==r||e[13]!==q||e[14]!==g.tables?(o=function(){if(!r||!q||!c("justknobx")._("1446"))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,q,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(a,c){d("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:c,cutoverTimestampMs:d("WATimeUtils").castToMillisTime((j||(j=d("I64"))).to_float(r.timestampMs))});return(h||(h=b("Promise"))).resolve()}))},e[12]=r,e[13]=q,e[14]=g.tables,e[15]=o):o=e[15];e[16]!==g||e[17]!==r||e[18]!==q?(k=[g,r,q],e[16]=g,e[17]=r,e[18]=q,e[19]=k):k=e[19];l(o,k)}g["default"]=a}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","Promise","WALoggerDeferred","promiseDone","react","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""]);k=function(){return a};return a}e=i||d("react");var l=e.useRef,m=e.c,n=0;function a(a){var b=m(4),e=c("useAsyncReStore")(),f=l(null),g,h;b[0]!==a||b[1]!==e?(g=function(){(f.current==null||f.current!==a)&&(f.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(e,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b.tables,a,"useMAWResetEphemeralSettings",function(b,c){return o(a,c)}))}))},h=[a,e],b[0]=a,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h)}function o(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&b.ephemeralExpirationInSec<d("DateConsts").SEC_PER_DAY&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,n,!0,function(){void d("WALoggerDeferred").LOG(k(),e,b.ephemeralExpirationInSec)},function(){void d("WALoggerDeferred").LOG(j(),e,b.ephemeralExpirationInSec)},a))}):(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail_DEPRECATED.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WAHex","cr:1009","cr:1957","justknobx","logMessengerWebFalcoEvent","qpl","react","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;e.useCallback;var l=e.useEffect,m=e.useRef,n=e.useState,o=e.c;function p(a,b){var e=o(23),f;e[0]!==a?(f=(i||(i=d("I64"))).to_int32(a),e[0]=a,e[1]=f):f=e[1];var g=f,h;e[2]!==b||e[3]!==a||e[4]!==g?(f=function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:g})},h=[b,g,a],e[2]=b,e[3]=a,e[4]=g,e[5]=f,e[6]=h):(f=e[5],h=e[6]);d("Int64Hooks").useEffectInt64(f,h);e[7]!==g?(f=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:g})},e[7]=g,e[8]=f):f=e[8];h=f;e[9]!==g?(f=function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(a)}},instanceKey:g})},e[9]=g,e[10]=f):f=e[10];f=f;var j;e[11]!==g?(j=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:g})},e[11]=g,e[12]=j):j=e[12];j=j;var k;e[13]!==g?(k=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{"int":a},{instanceKey:g})},e[13]=g,e[14]=k):k=e[14];k=k;var l;e[15]!==g?(l=function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{is_cutover:String(b)}},instanceKey:g})},e[15]=g,e[16]=l):l=e[16];l=l;var m;e[17]!==j||e[18]!==k||e[19]!==h||e[20]!==l||e[21]!==f?(m={addQplAnnotations:j,addQPLAnnotationsInt:k,addQplPoint:h,qplEndFailure:l,qplEndSuccess:f},e[17]=j,e[18]=k,e[19]=h,e[20]=l,e[21]=f,e[22]=m):m=e[22];return m}function q(a,b,c){if(c!=null)return"show_od_cutover";if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function r(a){var e=o(59),g=a.entryPoint,h=a.messageListRef,r=a.thread;a=p(r.threadKey,g);var s=a.addQplAnnotations,t=a.addQPLAnnotationsInt,u=a.addQplPoint,v=a.qplEndFailure,w=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(r.threadKey);c("useMAWMaybeInsertDualThreadCutoverAdminMessage")(r.threadKey);var x=m("");e[0]!==s||e[1]!==w||e[2]!==v?(a=function(a){switch(a){case"loading":return;case"show":case"show_od_cutover":s({showOpenHistory:"show"});w(!0);return;case"not_cutover_thread":w(!1);return;case"dual_thread_cutover":w(!1);return;case"error":v(x.current,!0);return;default:throw c("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},e[0]=s,e[1]=w,e[2]=v,e[3]=a):a=e[3];var y=a,z=c("useAsyncReStore")();e[4]!==z?(a=function(a,b){return z.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WAHex").randomHex(8)})},"readwrite",void 0,void 0,f.id+":265")})},e[4]=z,e[5]=a):a=e[5];var A=a,B=d("MAWThreadCutover").useGetCutoverMapping(r.threadKey),C=d("MAWThreadCutover").useCutoverOpenThread(r.threadKey);d("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(r.threadKey);var D=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(r.threadKey);e[6]!==B||e[7]!==C||e[8]!==D?(a=q(B,C,D),e[6]=B,e[7]=C,e[8]=D,e[9]=a):a=e[9];a=n(a);var E=a[0],F=a[1],G;e[10]!==y||e[11]!==E||e[12]!==D||e[13]!==B||e[14]!==C?(a=function(){y(E);if(E==="show"||E==="dual_thread_cutover")return;if(D!=null)return F("show_od_cutover");if(B==null)return;if(C==null)return F("loading");else if(B.showOpenMessageHistory!==!1)return F("show");else return F("dual_thread_cutover")},G=[B,C,y,D,E],e[10]=y,e[11]=E,e[12]=D,e[13]=B,e[14]=C,e[15]=a,e[16]=G):(a=e[15],G=e[16]);d("Int64Hooks").useEffectInt64(a,G);var H=m(!1);e[17]!==r.authorityLevel?(a=(i||(i=d("I64"))).ge(r.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[17]=r.authorityLevel,e[18]=a):a=e[18];G=a;e[19]!==G?(a=G&&c("justknobx")._("2274")?k.jsx(b("cr:1009"),{}):null,e[19]=G,e[20]=a):a=e[20];G=a;e[21]!==B||e[22]!==u||e[23]!==t||e[24]!==s||e[25]!==A||e[26]!==v?(a=function(){if((B==null?void 0:B.armadilloThreadId)==null||(B==null?void 0:B.openThreadId)==null)return;if(H.current===!0)return;H.current=!0;u("thread_migration_initiating_start");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;t({usedJSHeapSizeStart:a});s();A(B.openThreadId,B.armadilloThreadId).then(function(){H.current=!1;u("thread_migration_initiating_end");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;t({usedJSHeapSizeEnd:a})})["catch"](function(a){H.current=!1,x.current="fail_to_init_thread_migration",F("error"),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix("fail_to_init_thread_migration"),v(x.current,!0)})},e[21]=B,e[22]=u,e[23]=t,e[24]=s,e[25]=A,e[26]=v,e[27]=a):a=e[27];var I=B==null?void 0:B.armadilloThreadId,J=B==null?void 0:B.openThreadId,K;e[28]!==t||e[29]!==s||e[30]!==u||e[31]!==I||e[32]!==J||e[33]!==A||e[34]!==v||e[35]!==w?(K=[t,s,u,I,J,A,v,w],e[28]=t,e[29]=s,e[30]=u,e[31]=I,e[32]=J,e[33]=A,e[34]=v,e[35]=w,e[36]=K):K=e[36];l(a,K);var L=C!=null;e[37]!==r.threadKey||e[38]!==r.threadType||e[39]!==g||e[40]!==B||e[41]!==L||e[42]!==E||e[43]!==y?(I=function(){var a;if(x.current==="")return;c("logMessengerWebFalcoEvent")({threadKey:r.threadKey,threadType:r.threadType},"no_open_messages_in_cutover_thread",g,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=B==null?void 0:B.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:L.toString(),reason:x.current,showOpenMsgHistoryState:E});y(E)},J=[B,g,E,L,r.threadKey,r.threadType,y],e[37]=r.threadKey,e[38]=r.threadType,e[39]=g,e[40]=B,e[41]=L,e[42]=E,e[43]=y,e[44]=I,e[45]=J):(I=e[44],J=e[45]);d("Int64Hooks").useEffectInt64(I,J);e[46]!==E||e[47]!==D||e[48]!==C||e[49]!==g||e[50]!==h||e[51]!==r?(a=b("cr:1957")!=null?k.jsx(b("cr:1957"),{cutoverOpenThread:E==="show_od_cutover"?D:E==="show"?C:void 0,entryPoint:g,messageListRef:h,thread:r}):k.jsx(d("MAWSecureThreadDetail_DEPRECATED.react").MAWSecureThreadDetail_DEPRECATED,{cutoverOpenThread:E==="show"?C:void 0,entryPoint:g,messageListRef:h,openThreadLoadingHoldReason:E==="loading"?"loadingOpenThread":null,thread:r}),e[46]=E,e[47]=D,e[48]=C,e[49]=g,e[50]=h,e[51]=r,e[52]=a):a=e[52];e[53]!==G||e[54]!==a?(K=k.jsxs(k.Fragment,{children:[G,a]}),e[53]=G,e[54]=a,e[55]=K):K=e[55];e[56]!==r.threadKey||e[57]!==K?(I=k.jsx(c("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:r.threadKey,children:K}),e[56]=r.threadKey,e[57]=K,e[58]=I):I=e[58];return I}function a(a){var b=o(5),c=a.entryPoint,e=a.messageListRef;a=a.thread;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=k.jsx(d("CometPageletWithDiv.react").Div,{className:f,name:"MAWSecureThreadDetailWrapper",children:k.jsx(r,{entryPoint:c,messageListRef:e,thread:a})}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MAWSecureThreadQPContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6567523950018015"}),null);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:b("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=h!==void 0?h:h=b("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function a(a){var b=j(8);a=a.eligiblePromotions;a=d("CometRelay").useFragment(l,a);if(b[0]!==(a==null?void 0:a.nodes)){var e;e=a==null?void 0:(e=a.nodes)==null?void 0:e.find(m);b[0]=a==null?void 0:a.nodes;b[1]=e}else e=b[1];a=e;a=a==null?void 0:(e=a.comet_qp_sections)==null?void 0:e.renderer_strategy;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e={context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"},b[2]=e):e=b[2];e=c("useQuickPromotionFalcoEvent")(e);if(a==null)return null;var f;b[3]!==a?(f=k.jsx(d("CometRelay").MatchContainer,{match:a}),b[3]=a,b[4]=f):f=b[4];b[5]!==e||b[6]!==f?(a=k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:e,children:f}),b[5]=e,b[6]=f,b[7]=a):a=b[7];return a}function m(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerQuery.graphql","MAWSecureThreadQuickPromotion.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=h!==void 0?h:h=b("MAWSecureThreadQPContainerQuery.graphql");function a(){var a=j(2),b=d("CometRelay").useLazyLoadQuery(l,{});b=b==null?void 0:(b=b.viewer)==null?void 0:b.eligible_promotions;if(b==null)return null;var e;a[0]!==b?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer",children:k.jsx(c("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:b})})}),a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("MAWSecureVideoInvalidAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(16),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.height,l=a.iconSize,m=a.maxHeight,n=a.maxWidth,o=a.mediaRenderQpl,p=a.outgoing,q=a.showFallbackComponent,r=a.width,s=a.withTooltip;a=a.xstyle;var t=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,!1);t=t.mediaStatusText;var u;b[0]!==o?(u=function(){o==null?void 0:o.addPoint("invalid-media-rendered"),o==null?void 0:o.endFail("invalid-media",{bool:{is_invalid_media:!0}})},b[0]=o,b[1]=u):u=b[1];j(u);b[2]!==q||b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==l||b[8]!==m||b[9]!==n||b[10]!==p||b[11]!==r||b[12]!==s||b[13]!==a||b[14]!==t?(u=i.jsx(i.Fragment,{children:q===!0?i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:e,connectBottom:f,connectTop:g,height:h,iconSize:l,isRetryableError:!1,maxHeight:m,maxWidth:n,mediaRenderQpl:null,outgoing:p,width:r,withTooltip:s,xstyle:a}):i.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:f,connectTop:g,isOutgoing:p,isReply:!1,mediaRenderQpl:null,children:t})}),b[2]=q,b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=l,b[8]=m,b[9]=n,b[10]=p,b[11]=r,b[12]=s,b[13]=a,b[14]=t,b[15]=u):u=b[15];return u}g["default"]=a}),98);
__d("MWXIconDownload",["MWXSvgIcon","SVGIcon","cr:12400","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12400")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXCircleButton.react","MWXIconDownload","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","MessengerWebUXLoggerImpl","react","useMWV2MediaViewerSecurePlayableUrl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c;function a(a){var b=l(39),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,m=a.hasAppAttribution,n=a.height,o=a.iconSize,p=a.isGroupedImage,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.message,u=a.onRetry,v=a.outgoing,w=a.width,x=a.withTooltip;a=a.xstyle;var y=d("MessengerWebUXLoggerImpl").useInteractionLogger(),z=c("useMWV2MediaViewerSecurePlayableUrl")(),A,B;b[0]!==s||b[1]!==t?(A=function(){s==null?void 0:s.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:t!=null,is_downloadable:!0}})},B=[s,t],b[0]=s,b[1]=t,b[2]=A,b[3]=B):(A=b[2],B=b[3]);k(A,B);A=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!1,u);B=A.mediaStatusText;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(u="xtzzx4i x10l6tqk xwa60dl x11lhmoz x1vjfegm",b[4]=u):u=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._("__JHASH__aP8gCQjcFIz__JHASH__"),b[5]=A):A=b[5];var C;b[6]!==z||b[7]!==g?(C=z(g,"MWV2AttachmentDownloadablePlaceholderWithBlurImage"),b[6]=z,b[7]=g,b[8]=C):C=b[8];b[9]!==C?(z={download:!0,url:C},b[9]=C,b[10]=z):z=b[10];b[11]!==y?(C=function(){y==null?void 0:y({eventName:"click_unsupported_video_download_from_fallback"})},b[11]=y,b[12]=C):C=b[12];o=o===c("MediaDownloadStatusIconSize").Large?40:24;b[13]!==z||b[14]!==C||b[15]!==o?(u=j.jsx("div",{className:u,children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconDownload"),label:A,linkProps:z,onPress:C,size:o,type:"dark-overlay"})}),b[13]=z,b[14]=C,b[15]=o,b[16]=u):u=b[16];b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==i||b[21]!==m||b[22]!==n||b[23]!==p||b[24]!==q||b[25]!==r||b[26]!==s||b[27]!==t||b[28]!==v||b[29]!==w||b[30]!==a?(A=j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:i,hasAppAttribution:m,height:n,isGroupedImage:p,maxHeight:q,maxWidth:r,mediaRenderQpl:s,message:t,outgoing:v,width:w,xstyle:a}),b[17]=e,b[18]=f,b[19]=g,b[20]=i,b[21]=m,b[22]=n,b[23]=p,b[24]=q,b[25]=r,b[26]=s,b[27]=t,b[28]=v,b[29]=w,b[30]=a,b[31]=A):A=b[31];b[32]!==u||b[33]!==A?(z=j.jsxs(j.Fragment,{children:[u,A]}),b[32]=u,b[33]=A,b[34]=z):z=b[34];C=z;b[35]!==x||b[36]!==B||b[37]!==C?(o=x===!0?j.jsx(c("MWXTooltip.react"),{label:B,tooltip:j.jsx(c("MWXText.react"),{color:"tooltip",type:"meta4",children:B}),children:C}):C,b[35]=x,b[36]=B,b[37]=C,b[38]=o):o=b[38];return o}g["default"]=a}),226);
__d("MAWSecureVideoUnsupportedCodecAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentDownloadablePlaceholderWithBlurImage.react","MWXText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(20),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,l=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.maxHeight,p=a.maxWidth,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.width,u=a.withTooltip;a=a.xstyle;var v;b[0]!==q?(v=function(){q==null?void 0:q.addPoint("downloadable-unsupported-media-rendered"),q==null?void 0:q.endFail("unsupported-media",{bool:{is_unsupported_media:!0}})},b[0]=q,b[1]=v):v=b[1];j(v);v=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!1);v=v.mediaStatusText;e=(e=e)!=null?e:!1;f=(f=f)!=null?f:!1;l=(l=l)!=null?l:!1;s=(s=s)!=null?s:!1;var w;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==l||b[7]!==m||b[8]!==n||b[9]!==o||b[10]!==p||b[11]!==r||b[12]!==s||b[13]!==t||b[14]!==a?(w=i.jsx(c("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,hasAppAttribution:l,height:m,iconSize:n,maxHeight:o,maxWidth:p,mediaRenderQpl:null,message:r,outgoing:s,width:t,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=r,b[12]=s,b[13]=t,b[14]=a,b[15]=w):w=b[15];e=w;b[16]!==u||b[17]!==v||b[18]!==e?(f=u===!0?i.jsx(c("MWXTooltip.react"),{label:v,tooltip:i.jsx(c("MWXText.react"),{color:"tooltip",type:"meta4",children:v}),children:e}):e,b[16]=u,b[17]=v,b[18]=e,b[19]=f):f=b[19];return f}g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContentV2.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatVideo.react","MediaDownloadStatusIconSize","gkx","react","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect,m=b.c;function a(a){var b=m(73),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,n=a.getPreviewUrl,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.previewHeight,s=a.previewWidth,t;b[0]!==o?(a=function(){o==null?void 0:o.addPoint("render-video-attachment")},t=[o],b[0]=o,b[1]=a,b[2]=t):(a=b[1],t=b[2]);l(a,t);a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b[3]!==r||b[4]!==s||b[5]!==a?(t=d("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:r,width:s},a),b[3]=r,b[4]=s,b[5]=a,b[6]=t):t=b[6];a=t;var u=a.maxHeight,v=a.maxWidth;a=(t=c("useShouldShowPlaybackErrorFallback")(g,o))!=null?t:!1;t=(t=c("useShouldShowUnsupportedCodecFallback")(g,o))!=null?t:!1;if(a){b[7]!==g||b[8]!==e||b[9]!==f||b[10]!==r||b[11]!==u||b[12]!==v||b[13]!==o||b[14]!==q||b[15]!==s?(a=k.jsx(c("MAWSecureVideoInvalidAttachment.react"),{attachment:g,connectBottom:e,connectTop:f,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,outgoing:q,showFallbackComponent:!1,width:s}),b[7]=g,b[8]=e,b[9]=f,b[10]=r,b[11]=u,b[12]=v,b[13]=o,b[14]=q,b[15]=s,b[16]=a):a=b[16];return a}if(t){t=(a=n)!=null?a:h;b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==t||b[21]!==r||b[22]!==u||b[23]!==v||b[24]!==o||b[25]!==p||b[26]!==q||b[27]!==s?(a=k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:t,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,outgoing:q,width:s}),b[17]=e,b[18]=f,b[19]=g,b[20]=t,b[21]=r,b[22]=u,b[23]=v,b[24]=o,b[25]=p,b[26]=q,b[27]=s,b[28]=a):a=b[28];return a}b[29]!==g||b[30]!==e||b[31]!==f||b[32]!==r||b[33]!==u||b[34]!==v||b[35]!==o||b[36]!==q||b[37]!==s?(t=function(a,b){return k.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:u,maxWidth:v,mediaRenderQpl:o,onRetry:b,outgoing:q,width:s})},b[29]=g,b[30]=e,b[31]=f,b[32]=r,b[33]=u,b[34]=v,b[35]=o,b[36]=q,b[37]=s,b[38]=t):t=b[38];var w=t;b[39]!==g||b[40]!==p||b[41]!==f||b[42]!==h||b[43]!==o||b[44]!==q||b[45]!==w?(a=function(a){return k.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:k.jsx(c("MWV2ChatVideo.react"),{attachment:g,autoPlaySetting:(i||(i=d("I64"))).le(p.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("8624")?"off":void 0,connectTop:f,getPlayableUrl:h,isSecure:!0,loops:!c("gkx")("8625"),mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:!1,outgoing:q,renderUnsupportedAttachment:function(){return w(!1)}})})},b[39]=g,b[40]=p,b[41]=f,b[42]=h,b[43]=o,b[44]=q,b[45]=w,b[46]=a):a=b[46];t=a;b[47]!==e||b[48]!==f||b[49]!==g||b[50]!==n||b[51]!==h||b[52]!==r||b[53]!==u||b[54]!==v||b[55]!==o||b[56]!==p||b[57]!==q||b[58]!==s?(a=function(a,b){return a?k.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(a=n)!=null?a:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,onRetry:b,outgoing:q,width:s}):k.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:(a=n)!=null?a:h,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:u,maxWidth:v,mediaRenderQpl:o,message:p,outgoing:q,width:s})},b[47]=e,b[48]=f,b[49]=g,b[50]=n,b[51]=h,b[52]=r,b[53]=u,b[54]=v,b[55]=o,b[56]=p,b[57]=q,b[58]=s,b[59]=a):a=b[59];a=a;var x;b[60]!==e||b[61]!==f||b[62]!==g||b[63]!==w||b[64]!==a||b[65]!==o||b[66]!==q||b[67]!==r||b[68]!==u||b[69]!==v||b[70]!==s||b[71]!==t?(x=k.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:w,errorWithBlurComponentRenderer:a,mediaRenderQpl:o,outgoing:q,placeholderHeight:r,placeholderMaxHeight:u,placeholderMaxWidth:v,placeholderWidth:s,successfulComponentRenderer:t}),b[60]=e,b[61]=f,b[62]=g,b[63]=w,b[64]=a,b[65]=o,b[66]=q,b[67]=r,b[68]=u,b[69]=v,b[70]=s,b[71]=t,b[72]=x):x=b[72];return x}g["default"]=a}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),n={commandsPill:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingStart:"x1sln4lm",paddingEnd:"x1iji9kk",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=k(17),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.custom_thread_commands||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(function(a){return!a.isOpenPersistentMenu})},b[0]=g.tables.custom_thread_commands,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var o=d("ReQLSuspense").useArray(a,j,f.id+":46");a=c("useMWXLazyDialog")(m);var p=a[0];if(o.length===0)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j="x78zum5 xl56j7k xyamay9 x1l90r2v",b[6]=j):j=b[6];b[7]!==p||b[8]!==o?(a=function(){return p({commands:o})},b[7]=p,b[8]=o,b[9]=a):a=b[9];var q;b[10]!==o.length?(q=h._("__JHASH__ey53XOJ4uK9__JHASH__",[h._plural(o.length,"number")]),b[10]=o.length,b[11]=q):q=b[11];var r;b[12]!==q?(r=l.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:q}),b[12]=q,b[13]=r):r=b[13];b[14]!==a||b[15]!==r?(q=l.jsx("div",{className:j,children:l.jsx(c("MWXPressable.react"),{onPress:a,overlayRadius:"inherit",xstyle:n.commandsPill,children:r})}),b[14]=a,b[15]=r,b[16]=q):q=b[16];return q}g["default"]=a}),226);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:12439","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12439")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),d=a.label,e=a.testid,f=a.threadKey,g=a.threadType,h=c("useMWAddParticipantDialog")(f,g),k=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==h||b[1]!==k||b[2]!==f||b[3]!==g?(a=function(){h(),k==null?void 0:k({eventName:"open_add_members_dialog",threadKey:f,threadType:g})},b[0]=h,b[1]=k,b[2]=f,b[3]=g,b[4]=a):a=b[4];a=a;var l;b[5]!==d||b[6]!==a||b[7]!==e?(l=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:d,onPress:a,size:36,testid:void 0}),b[5]=d,b[6]=a,b[7]=e,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=b.c,o=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function p(a){var b=a.thread;a=c("useMWXLazyDialog")(o);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var n=l(!1);i=c("useVisibilityObserver")({onVisible:function(){n.current||(n.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",ref:i,children:k.jsx(c("FDSContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:h._("__JHASH__7NhHq3FFyid__JHASH__"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._("__JHASH__y4SjVH1sWqP__JHASH__"),headline:h._("__JHASH__Y1eNmRtGK12__JHASH__",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=n(11),e=a.thread,g=(i||(i=c("useReStore")))();b[0]!==g.tables.community_folders||b[1]!==e.parentThreadKey?(a=function(){return d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(e.parentThreadKey)},b[0]=g.tables.community_folders,b[1]=e.parentThreadKey,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e.parentThreadKey?(h=[g,e.parentThreadKey],b[3]=g,b[4]=e.parentThreadKey,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":126");if(a){b[6]!==a?(h=d("LSCommunityBitOffset").has(39,a),b[6]=a,b[7]=h):h=b[7];a=h;b[8]!==a||b[9]!==e?(h=a?k.jsx(p,{thread:e}):null,b[8]=a,b[9]=e,b[10]=h):h=b[10];return h}else return null}function a(a){var b=n(2);a=a.thread;var d;b[0]!==a?(d=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:k.jsx(q,{thread:a})})}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),226);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWRelayChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c,k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function l(a,b){var d=j(3),e;d[0]!==a||d[1]!==b?(e=function(d){a(function(a){var e=a.onReturn;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),name:"MWCMSubThreadChatTabWithSubthread",children:i.jsx(k,{onReturn:function(){e()},tab:b,threadKey:d})})})},d[0]=a,d[1]=b,d[2]=e):e=d[2];return e}function m(a){var b=j(3),c=a.children,e=a.pushPage;a=a.tab;e=l(e,a);b[0]!==e||b[1]!==c?(a=i.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:e,children:c}),b[0]=e,b[1]=c,b[2]=a):a=b[2];return a}function a(a){var b=j(11),d=a.children,e=a.tab,f=a.thread,g=f.threadKey;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a="xgqcy7u x1lq5wgf x2c8kfy x17adc0v xhvchuf x1jx94hy x1rgmuzj xbbk1sx",b[0]=a):a=b[0];var h;b[1]!==e?(h=i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:e}),b[1]=e,b[2]=h):h=b[2];var k;b[3]!==e||b[4]!==f.threadKey||b[5]!==g||b[6]!==d?(k=function(a){return i.jsx(m,{pushPage:a,tab:e,children:i.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:e,threadKey:f.threadKey,children:[i.jsx(c("MWRelayChatTabHeaderRoot.react"),{pushPage:a,tab:e,threadKey:g}),d]})})},b[3]=e,b[4]=f.threadKey,b[5]=g,b[6]=d,b[7]=k):k=b[7];b[8]!==h||b[9]!==k?(a=i.jsx("div",{className:a,children:i.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:h,fitContentWidth:!0,children:k})}),b[8]=h,b[9]=k,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(l||(l=d("react"))).c,n=l;function o(a){var b=m(4),c=a.connectionStatus;a=a.renderWrapper;if(c==="Connected")return null;else if(c==="Disconnected"){var d;b[0]!==a?(d=a(h._("__JHASH__vs4VWaH-KyB__JHASH__")),b[0]=a,b[1]=d):d=b[1];return d}else if(c==="Connecting"){b[2]!==a?(d=a(h._("__JHASH__t43xAFuvvRz__JHASH__")),b[2]=a,b[3]=d):d=b[3];return d}else return null}function a(a){var b=m(7);a=a.renderWrapper;var e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.connectivity_status?(g=function(){return d("ReQL").fromTableDescending(e.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},b[0]=e.tables.connectivity_status,b[1]=g):g=b[1];var h;b[2]!==e?(h=[e],b[2]=e,b[3]=h):h=b[3];g=d("ReQLSuspense").useFirst(g,h,f.id+":54");g=(h=g)!=null?h:"Connected";b[4]!==g||b[5]!==a?(h=n.jsx(o,{connectionStatus:g,renderWrapper:a}),b[4]=g,b[5]=a,b[6]=h):h=b[6];return h}g["default"]=a}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){return j.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xds687c x17qophe xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:j.jsx(c("MWXText.react"),{type:"meta4",children:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:k}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.icon;if(a==null)return null;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x4tc44c x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x1yrsyyn xsyo7zv x10b6aqq x16hj40l",b[0]=d):d=b[0];b[1]!==a.icon?(d=j.jsx("div",{className:d,children:j.jsx(c("MWXIconStrict.react"),{color:"white",icon:a.icon,size:12})}),b[1]=a.icon,b[2]=d):d=b[2];return d}g["default"]=a}),98);
__d("MWChatInthreadIconParser.react",["MWPXMAIconParser","MWXIconFriendGenericAdd","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"friend-woman-add":return c("MWXIconFriendGenericAdd");default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=h(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWChatInThreadBanner.react",["FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function l(a){var b=i(16),d=a.action;a=a.button;var e=a.ctaTitle;switch(d.type){case"link":var f;b[0]!==d.url?(f={url:d.url},b[0]=d.url,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f?(g=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:j.jsx(c("FDSButton.react"),{label:e,linkProps:f,type:"secondary"})}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g;case"action":b[5]!==e||b[6]!==d.onPress||b[7]!==d.contextRef?(f=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:j.jsx(c("FDSButton.react"),{label:e,onPress:d.onPress,ref:d.contextRef,type:"secondary"})}),b[5]=e,b[6]=d.onPress,b[7]=d.contextRef,b[8]=f):f=b[8];return f;case"popover":if(b[9]!==e||b[10]!==d){b[12]!==e?(g=function(a,b){return j.jsx(c("FDSButton.react"),{label:e,onPress:function(){return b()},ref:a,type:"secondary"})},b[12]=e,b[13]=g):g=b[13];f=d.popoverTrigger(g);b[9]=e;b[10]=d;b[11]=f}else f=b[11];b[14]!==f?(g=j.jsx(c("MWXRowItem.react"),{xstyle:k.grow,children:f}),b[14]=f,b[15]=g):g=b[15];return g;case"unimplemented":c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_sharing");return null}}function a(a){var b,e=i(63),f=a.banner,g=a.ctaParser;a=a.impressionRef;if(e[0]!==f.banner.iconUrl){var h;h=d("MWChatInthreadIconParser.react").parse((h=f.banner.iconUrl)!=null?h:"");e[0]=f.banner.iconUrl;e[1]=h}else h=e[1];h=h;var n=f.banner.chevronCtaType!=null,o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();o=o==="Inbox";var p;e[2]!==h?(p=h!=null?typeof h==="string"?j.jsx(c("MWXRowItem.react"),{expanding:!1,children:j.jsx("div",{className:"x11i5rnm",children:j.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:h}})})}):j.jsx(c("MWXRowItem.react"),{expanding:!1,children:j.jsx("div",{className:[k.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:j.jsx(c("MWChatInthreadBannerIcon.react"),{icon:h})})}):null,e[2]=h,e[3]=p):p=e[3];h=p;e[4]!==f.banner.heading||e[5]!==f.banner.cta1Title?(p=f.banner.heading!=null?j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx("span",{className:"x1yrsyyn x10b6aqq",children:j.jsxs(c("MWXText.react"),{type:"meta3",children:[f.banner.heading," ",j.jsx(c("MWXText.react"),{color:"blueLink",type:"meta3",children:j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:f.banner.cta1Title})})]})})}):null,e[4]=f.banner.heading,e[5]=f.banner.cta1Title,e[6]=p):p=e[6];p=p;b=((b=f.banner.titleSectionOne)!=null?b:"")+((b=f.banner.titleSectionTwo)!=null?b:"");var q;e[7]!==b||e[8]!==f.banner.heading?(q=j.jsx(c("MWXRowItem.react"),{expanding:!0,children:j.jsx(c("MWXTextPairing.react"),{body:b,bodyLineLimit:1,level:4,meta:f.banner.heading,metaLineLimit:1,metaLocation:"above"})}),e[7]=b,e[8]=f.banner.heading,e[9]=q):q=e[9];b=q;e[10]!==f.banner.infoLabel?(q=f.banner.infoLabel!=null?j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{type:"meta1",children:j.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:f.banner.infoLabel})})}):null,e[10]=f.banner.infoLabel,e[11]=q):q=e[11];q=q;var r=f.leftButton,s=f.rightButton,t;if(r!=null&&s!=null){var u;e[12]!==g||e[13]!==f||e[14]!==r?(u=g(f,r),e[12]=g,e[13]=f,e[14]=r,e[15]=u):u=e[15];var v;e[16]!==u||e[17]!==r?(v=j.jsx(l,{action:u,button:r}),e[16]=u,e[17]=r,e[18]=v):v=e[18];e[19]!==g||e[20]!==f||e[21]!==s?(u=g(f,s),e[19]=g,e[20]=f,e[21]=s,e[22]=u):u=e[22];var w;e[23]!==u||e[24]!==s?(w=j.jsx(l,{action:u,button:s}),e[23]=u,e[24]=s,e[25]=w):w=e[25];e[26]!==v||e[27]!==w?(u=j.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[v,w]}),e[26]=v,e[27]=w,e[28]=u):u=e[28];t=u}else{w=(v=r)!=null?v:s;if(w!=null){e[29]!==g||e[30]!==f||e[31]!==w?(u=g(f,w),e[29]=g,e[30]=f,e[31]=w,e[32]=u):u=e[32];e[33]!==u||e[34]!==w?(r=j.jsx(c("MWXRow.react"),{paddingTop:8,children:j.jsx(l,{action:u,button:w})}),e[33]=u,e[34]=w,e[35]=r):r=e[35];t=r}}e[36]!==n?(v=n?j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconChevronRight"),size:12})}):null,e[36]=n,e[37]=v):v=e[37];s=v;e[38]===Symbol["for"]("react.memo_cache_sentinel")?(u="x1a8lsjc xh8yej3",e[38]=u):u=e[38];w=f.banner.cta1Type==="fbvr_dma_learn_more"?p:b;e[39]!==h||e[40]!==w||e[41]!==q||e[42]!==s?(r=j.jsxs(c("MWXRow.react"),{paddingTop:10,children:[h,w,q,s]}),e[39]=h,e[40]=w,e[41]=q,e[42]=s,e[43]=r):r=e[43];e[44]!==r||e[45]!==t?(n=j.jsxs("div",{className:u,children:[r,t]}),e[44]=r,e[45]=t,e[46]=n):n=e[46];var x=n,y;if(e[47]!==f||e[48]!==g||e[49]!==x){v=f.bannerAction!=null?g(f,f.bannerAction):void 0;if(v!=null)bb0:switch(v.type){case"link":y=j.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:v.url},xstyle:m,children:x});break bb0;case"action":y=j.jsx(c("MWXPressable.react"),{expanding:!0,onPress:v.onPress,ref:v.contextRef,children:x});break bb0;case"popover":e[51]!==x?(p=function(a,b){return j.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:x})},e[51]=x,e[52]=p):p=e[52];y=v.popoverTrigger(p);break bb0;case"unimplemented":w=(h=(b=f.bannerAction)==null?void 0:b.ctaType)!=null?h:"";w!=="member_requests_view"&&c("recoverableViolation")("In thread banner cta not implemented: "+w,"messenger_web_ia");y=x}else y=x;e[47]=f;e[48]=g;e[49]=x;e[50]=y}else y=e[50];e[53]===Symbol["for"]("react.memo_cache_sentinel")?(q="xfpmyvw x1n2onr6",e[53]=q):q=e[53];e[54]!==o?(s=o?j.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,e[54]=o,e[55]=s):s=e[55];e[56]===Symbol["for"]("react.memo_cache_sentinel")?(u="x80vd3b x1q0q8m5 xso031l",e[56]=u):u=e[56];e[57]!==y?(r=j.jsx("div",{className:u,"data-testid":void 0,children:y}),e[57]=y,e[58]=r):r=e[58];e[59]!==a||e[60]!==s||e[61]!==r?(n=j.jsxs("div",{className:q,ref:a,children:[s,r]}),e[59]=a,e[60]=s,e[61]=r,e[62]=n):n=e[62];return n}function m(){return[k.linkBanner]}g["default"]=a}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).c,l=function(a,b){return b!=null?a.get((j||(j=d("I64"))).to_string(b)):null};function m(a,b,c){return{banner:a,bannerAction:l(b,a.bannerCtaId),leftButton:l(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return l(b,a)}).filter(Boolean),rightButton:l(b,a.cta2Id)}}function a(a,b){var e=k(18),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.in_thread_banner_overflow_menu||e[1]!==b||e[2]!==a.bannerId?(i=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_overflow_menu).getKeyRange(b,a.bannerId)},e[0]=g.tables.in_thread_banner_overflow_menu,e[1]=b,e[2]=a.bannerId,e[3]=i):i=e[3];var l;e[4]!==g||e[5]!==b||e[6]!==a.bannerId?(l=[g,b,a.bannerId],e[4]=g,e[5]=b,e[6]=a.bannerId,e[7]=l):l=e[7];i=d("ReQLSuspense").useFirst(i,l,f.id+":67");e[8]!==g.tables.in_thread_banner_ctas||e[9]!==a.bannerId?(l=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_ctas).getKeyRange(a.bannerId).map(function(a){return[(j||(j=d("I64"))).to_string(a.ctaId),a]})},e[8]=g.tables.in_thread_banner_ctas,e[9]=a.bannerId,e[10]=l):l=e[10];var n;e[11]!==g||e[12]!==a.bannerId?(n=[g,a.bannerId],e[11]=g,e[12]=a.bannerId,e[13]=n):n=e[13];l=d("ReQLSuspense").useArray(l,n,f.id+":74");if(e[14]!==l||e[15]!==a||e[16]!==i){n=new Map(l);n=m(a,n,i);e[14]=l;e[15]=a;e[16]=i;e[17]=n}else n=e[17];return n}g.createBanner=m;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){c("promiseDone")(b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":24"))},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){var a=b.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":23");c("promiseDone")(a)},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(){var a=j(11),b=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),e=b.isOnMemberRequestsPageRef,f=b.pushMemberRequestsPage,g=b.setShouldNavToMemberRequests,h=b.setThreadInfoVisible,k=b.threadInfoVisible;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var l=b==="ChatTab";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWCMMemberRequestsDialog.entrypoint"),b);var m=b[0];a[1]!==m?(b=function(a){m({parentSurface:"request_to_join_activity_banner",threadKey:a})},a[1]=m,a[2]=b):b=a[2];var n=b;a[3]!==l||a[4]!==n||a[5]!==e||a[6]!==k||a[7]!==f||a[8]!==g||a[9]!==h?(b=function(a,b){var c=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(a.banner.threadKey)})};if(b.ctaType!=="cm_thread_member_requests_view")return{type:"unimplemented"};return l?{onPress:function(){c(),n(a.banner.threadKey)},type:"action"}:{onPress:function(){c();if(e.current===!0)return;k===!0?f("request_to_join_activity_banner"):(g(!0),h(!0))},type:"action"}},a[3]=l,a[4]=n,a[5]=e,a[6]=k,a[7]=f,a[8]=g,a[9]=h,a[10]=b):b=a[10];return b}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),a[0]=b):b=a[0];b=c("useMWXLazyDialog")(b);var d=b[0];a[1]!==d?(b=function(a,b){return b.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return d({adId:b.ctaId,threadKey:a.banner.threadKey})},type:"action"}},a[1]=d,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(){var a=j(2),b=(h||(h=c("useReStore")))(),d;a[0]!==b?(d=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(b),{ctaId:a})},"readwrite",void 0,void 0,f.id+":34"))},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(){var a=j(2),b=(h||(h=c("useReStore")))(),d;a[0]!==b?(d=function(a,d){c("promiseDone")(b.runInTransaction(function(b){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(b),{marketplaceCtaType:d,threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","ReQL","ReQLSuspense","react","recoverableViolation","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useMemo,m=b.c;e=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var n=new Set(e);b=new Set(e.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function o(a){var b=m(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;b[0]!==e.tables.participants||b[1]!==a||b[2]!==g?(j=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,g)}).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})},b[0]=e.tables.participants,b[1]=a,b[2]=g,b[3]=j):j=b[3];var k;b[4]!==g||b[5]!==a||b[6]!==e?(k=[g,a,e],b[4]=g,b[5]=a,b[6]=e,b[7]=k):k=b[7];return d("ReQLSuspense").useFirst(j,k,f.id+":81")}function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=c("useMWLSMarketplaceServerMutationCta")(),e=c("useMWLSExecuteInThreadBannerCta")(),f=o(a),g=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWLSMarketplaceCtaParser")),h=g[0],j=(i||(i=d("I64"))).to_string(a);g=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:j});var m=g[0];a=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:j});var p=a[0];g=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:j});var q=g[0];return l(function(){var a=function a(g,l){var o=l.ctaId,r=l.ctaType,s=l.deeplinkUrl,t=l.webviewUrl;if(r==="marketplace_see_details"||r==="marketplace_banner_open_native"){var u;u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace see details cta without url","mp_messaging")}if(r==="marketplace_view_profile"){u=(u=t)!=null?u:s;if(u!=null)return{type:"link",url:u};c("recoverableViolation")("Marketplace view profile cta without url","mp_messaging")}if(r==="marketplace_scaled_rate_seller"&&t!=null)return{type:"link",url:t};if(r==="marketplace_more_options"&&g.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(g,b)},menu:g.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(r==="marketplace_report_buyer"||r==="marketplace_report_seller"){if(f!=null)return{onPress:function(){return h({entryPoint:"REPORT_BUTTON",id:f,location:r==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(){})},type:"action"};c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","mp_messaging")}if(n.has(r))return{onPress:function(){return e(o)},type:"action"};if(r==="marketplace_label_chat")return{onPress:function(){return m({threadID:j},function(){return e(o)})},type:"action"};if(r==="marketplace_mark_as_paid")return{onPress:function(){return p({threadID:j},function(){return e(o)})},type:"action"};if(r==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({},function(){return e(o)})},type:"action"};if(r==="marketplace_server_mutation"){s=l.actionContentBlob;var v="";if(s!=null){t=((u=JSON.parse(s))!=null?u:{}).marketplace_cta_type;typeof t==="string"?v=t:c("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return b((i||(i=d("I64"))).of_string(j),v)},type:"action"}}return{type:"unimplemented"}};return a},[e,b,f,h,q,m,p,j])}g.marketplaceCta=b;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["react","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(4),b=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),e=c("useMWLSAdContextCtaParser")(),f=c("useMWCMMemberRequestsCtaParser.react")(),g;a[0]!==b||a[1]!==e||a[2]!==f?(g=function(a,c){var g=c.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(g))return b(a,c);else if(g==="ads_context")return e(a,c);else if(g==="cm_thread_member_requests_view")return f(a,c);return{type:"unimplemented"}},a[0]=b,a[1]=e,a[2]=f,a[3]=g):g=a[3];return g}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(4),e=a.banner,f=a.impressionRef;a=a.threadKey;e=d("useInThreadBannerWithCta").useInThreadBannerWithCta(e,a);a=c("useMWLSInThreadBannerCtaParser")();var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=l.jsx(c("MWChatInThreadBanner.react"),{banner:e,ctaParser:a,impressionRef:f}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function a(a){var b=k(13),e=a.threadKey;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var g=(h||(h=c("useReStore")))();b[0]!==g.tables.in_thread_banner||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner).getKeyRange(e)},b[0]=g.tables.in_thread_banner,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var n=d("ReQLSuspense").useFirst(a,j,f.id+":56");a=n==null?void 0:n.cta1Type;j=n==null?void 0:n.cta2Type;var o;b[6]!==n||b[7]!==e?(o={onImpressionStart:function(){(n==null?void 0:n.bannerCtaType)==="cm_thread_member_requests_view"&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(e)})}},b[6]=n,b[7]=e,b[8]=o):o=b[8];o=c("useSinglePartialViewImpression")(o);if(n==null||a==="proactive_warning_affirmative"||a==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||a==="ctx_whatsapp_redirect_banner"||j==="ctx_whatsapp_redirect_banner")return null;b[9]!==n||b[10]!==o||b[11]!==e?(a=l.jsx(m,{banner:n,impressionRef:o,threadKey:e}),b[9]=n,b[10]=o,b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("MWChatTabInThreadBanner.react",["CometErrorBoundary.react","CometPlaceholder.react","LSMessagingThreadTypeUtil","MWLSInThreadBannerComponent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.thread;if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else{var e;b[0]!==a.threadKey?(e=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(c("MWLSInThreadBannerComponent.react"),{threadKey:a.threadKey})})}),b[0]=a.threadKey,b[1]=e):e=b[1];return e}}function k(){return null}g["default"]=a}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var c=i(5);a=a.senderUnsendNUXEnabled;var d;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=b("cr:2884")==null?null:j.jsx(b("cr:2884"),{}),c[0]=d):d=c[0];var e;c[1]!==a?(e=b("cr:4186")!=null&&a?j.jsx(b("cr:4186"),{}):null,c[1]=a,c[2]=e):e=c[2];c[3]!==e?(a=j.jsxs(j.Fragment,{children:[d,e]}),c[3]=e,c[4]=a):a=c[4];return a}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","ix","FDSButton.react","FDSSkittleIcon.react","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","fbicon","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),n={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=k(19),e=a.onDismiss,f=a.onView;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__7PesNdiLm6N__JHASH__"),b[0]=a):a=b[0];a=a;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__jjSY-Fh1rGw__JHASH__"),b[1]=g):g=b[1];g=g;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={},b[2]=j):j=b[2];var o=j;j=c("useMWXLazyDialog")(m);var p=j[0];b[3]!==p?(j=function(){return p(o,function(){})},b[3]=p,b[4]=j):j=b[4];var q=j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j="xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",b[5]=j):j=b[5];var r;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("MDSRowItem.react"),{xstyle:n.imageRow,children:l.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),b[6]=r):r=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:l.jsx(c("MDSRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[r,l.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[a,l.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:l.jsx(c("MDSRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})})})]})]}),b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__W_KwwnBzw9K__JHASH__"),b[9]=a):a=b[9];b[10]!==q||b[11]!==f?(g=l.jsx(c("MDSRowItem.react"),{xstyle:n.button,children:l.jsx(c("FDSButton.react"),{label:a,onPress:function(){q();return f()},type:"secondary"})}),b[10]=q,b[11]=f,b[12]=g):g=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__CqytfJoYvSJ__JHASH__"),b[13]=a):a=b[13];b[14]!==e?(a=l.jsx(c("MDSRowItem.react"),{xstyle:n.button,children:l.jsx(c("FDSButton.react"),{label:a,onPress:e,type:"secondary"})}),b[14]=e,b[15]=a):a=b[15];b[16]!==g||b[17]!==a?(e=l.jsxs("div",{className:j,children:[r,l.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[g,a]})]}),b[16]=g,b[17]=a,b[18]=e):e=b[18];return e}g["default"]=a}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return Date.now()-(h||(h=d("I64"))).to_float((a=a.unsentTimestampMs)!=null?a:(h||(h=d("I64"))).zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.c,k=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=j(13),e=d("RelayHooks").useRelayEnvironment(),f;b[0]!==e||b[1]!==a?(f=function(b){c("promiseDone")(d("CometRelay").fetchQuery(e,k,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;b(a)},null)},b[0]=e,b[1]=a,b[2]=f):f=b[2];f=f;var g;b[3]!==e||b[4]!==a?(g=function(){d("CometDismissFBNuxMutation").commit(e,a)},b[3]=e,b[4]=a,b[5]=g):g=b[5];g=g;var h;b[6]!==e||b[7]!==a?(h=function(){d("CometLogImpressionFBNuxMutation").commit(e,a)},b[6]=e,b[7]=a,b[8]=h):h=b[8];h=h;var i;b[9]!==f||b[10]!==g||b[11]!==h?(i=[f,g,h],b[9]=f,b[10]=g,b[11]=h,b[12]=i):i=b[12];return i}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useRef,m=b.useState,n=b.c;function a(){var a=n(16),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThread(e,o);f=f!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(f);var g=(h||(h=c("useReStore")))(),j=m(!1),p=j[0],q=j[1],r=l(!1),s=l(!1),t=l();j=c("useMessengerUnsendNUX")(8568);var u=j[0],v=j[1],w=j[2];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a=t.current;if(a!=null){a();t.current=void 0;return}},a[0]=j):j=a[0];var x=j;a[1]!==v?(j=function(){s.current=!0;v();x();return q(!1)},a[1]=v,a[2]=j):j=a[2];j=j;var y;a[3]!==p||a[4]!==u?(y=function(a){var b=!p&&!r.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){r.current=!0;return u(function(a){r.current=!1;if(a)return q(!0);else{x();s.current=!0;return}})}},a[3]=p,a[4]=u,a[5]=y):y=a[5];var z=y,A;a[6]!==g||a[7]!==e||a[8]!==b||a[9]!==z||a[10]!==p||a[11]!==w?(y=function(){if(s.current)return;t.current=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(e).filter(function(a){if(a.isUnsent)return!(i||(i=d("I64"))).equal(a.senderId,b);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&z(b.value)});return function(){x();if(p&&!s.current)return w()}},A=[g,b,p,w,z,e,x],a[6]=g,a[7]=e,a[8]=b,a[9]=z,a[10]=p,a[11]=w,a[12]=y,a[13]=A):(y=a[12],A=a[13]);d("Int64Hooks").useEffectInt64(y,A);if(p&&!f){a[14]!==j?(y=k.jsx(c("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:j,onView:j}),a[14]=j,a[15]=y):y=a[15];return y}else return null}function o(a){return a.threadType}g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","JSResourceForInteraction","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","useMWXLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef;function a(){var a=d("MWPActor.react").useActor(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),f=m(!1),g=m(!1),j=m(!1),n=m(),o=c("useMessengerUnsendNUX")(8598),p=o[0],q=o[1],r=k(function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},[]),s=k(function(){if(!j.current){j.current=!0;r();return q()}},[]);o=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.react"));var t=o[0],u=k(function(a){var b=!f.current&&!g.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){f.current=!0;return p(function(a){f.current=!1,a?(t({onView:s},function(){}),g.current=!0):(r(),j.current=!0)})}},[a,r]);l(function(){n.current=d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(b).filter(function(b){return b.isUnsent&&(i||(i=d("I64"))).equal(b.senderId,a)}).subscribe(function(a,b){b.operation!=="delete"&&u(b.value)});return r},[b,u,r]);return null}g["default"]=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",n={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a=k(7),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__TDoMKgQOS58__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__9PUf24O7tfB__JHASH__"),a[1]=d):d=a[1];d=d;var e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e="xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("MWXRowItem.react"),{xstyle:n.imageRow,children:l.jsx(c("MWXImage.react"),{src:i("331359")})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:b})})}),a[4]=b):b=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[f,l.jsxs(c("MWXRowItem.react"),{expanding:!0,children:[b,l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:d})})})]})]}),a[5]=f):f=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsxs("div",{className:e,children:[f,l.jsx(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:l.jsx(c("MWXRowItem.react"),{xstyle:n.button,children:l.jsx(c("MWXButton.react"),{label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),onPress:o,type:"primary"})})})]}),a[6]=b):b=a[6];return b}function o(){c("goURIOnWindow")(window.open("","_blank"),m)}g["default"]=a}),226);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),d=a.icon,e=a.label;a=a.threadKey;var f=c("useMWCMEditChatInfoDialogEntrypoint")(a);b[0]!==f?(a=function(){return f()},b[0]=f,b[1]=a):a=b[1];var g;b[2]!==d||b[3]!==e||b[4]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:d,label:e,onPress:a,size:36}),b[2]=d,b[3]=e,b[4]=a,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c,l=h._("__JHASH__6ygymPD56Yw__JHASH__"),m=h._("__JHASH__NNt0oNKP6tq__JHASH__");function a(a){var b=k(11);a=a.threadInviteLink;var e;b[0]!==a?(e={value:a},b[0]=a,b[1]=e):e=b[1];a=c("useCopyText")(e);a[0];a[1];var f=a[2];b[2]!==f?(e=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),f(),d("cometPushToast").cometPushSimpleToast(m)},b[2]=f,b[3]=e):e=b[3];a=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 xdt5ytf x187xtus",b[4]=e):e=b[4];var g;b[5]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:l,onPress:a,size:36}),b[5]=a,b[6]=g):g=b[6];var h;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWVerticalRhythm"),{height:8}),h=j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l}),b[7]=a,b[8]=h):(a=b[7],h=b[8]);b[9]!==g?(e=j.jsxs("li",{className:e,children:[g,a,h]}),b[9]=g,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.tables.threads.get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__zzzD0_ypABg__JHASH__");function a(a){var b=j(5);a=a.onPress;var d;b[0]!==a?(d=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:l,onPress:a,size:36})}),b[0]=a,b[1]=d):d=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:k.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:l})}),b[2]=a):a=b[2];b[3]!==d?(a=k.jsxs(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:l,children:[d,a]}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),a);var e=a[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a="x6s0dn4 x78zum5 xdt5ytf x187xtus",b[1]=a):a=b[1];b[2]!==e||b[3]!==d?(a=j.jsx("li",{className:a,children:j.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){e({channelThread:d,loggingContext:c("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=b.c,p=h._("__JHASH__4Z6iwQf0KqP__JHASH__"),q=h._("__JHASH__a3y4zGfm_2Z__JHASH__");function r(a){var b=a.thread;a=n(null);var e=c("useCommunityFolder")(b),f=c("mwCMIsAnyCMThread")(b.threadType),g=c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),o=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);r=c("useIsReadOnlyFeatureLimitedWithThreadType")(b.threadType)&&(!r||c("isFeatureLimitEnabled")());var s=d("useCommunityMembers").useClearMemberList(),t=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),u=t[0],v=t[1];t=t[2];u=f&&(j||(j=d("I64"))).equal((u=u)!=null?u:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var w=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSectionStorageKey").storageKey),x=w[0];w=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var y=w[0];w=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((w=e==null?void 0:e.fbGroupId)!=null?w:(j||(j=d("I64"))).zero)});var z=w[0];w=m(function(){return[f?h._("__JHASH__6ygymPD56Yw__JHASH__"):h._("__JHASH__5q5wieIjbh7__JHASH__"),f?h._("__JHASH__um66LGyp2bC__JHASH__"):h._("__JHASH___jI2RJo8mJV__JHASH__"),e!=null&&i?h._("__JHASH__1cAdDa3Rt1T__JHASH__"):h._("__JHASH__1Av2Yy1o2_Y__JHASH__")]},[i,f,e]);var A=w[0],B=w[1];w=w[2];var C=d("LSThreadBitOffset").has(60,b),D=d("LSThreadBitOffset").has(81,b);r=c("canMWAddMemberToGroupThread")(b,r);var E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=C&&D,H=c("MessengerWebUXLogger").useInteractionLogger();return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!u?v?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:p,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return y({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:A,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}}):null,!f&&o&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&r?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:A,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}):null,o&&G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:q,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:q})]}):null,!f&&C&&!G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,d){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:B,onPress:function(){a(),H==null?void 0:H({eventName:"open_edit_thread_name_dialog",threadKey:b.threadKey,threadType:b.threadType})},ref:d,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:B})]}):null,f&&D&&!u&&t&&!g?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:q,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:q})]}):c("justknobx")._("1116")?null:E?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:w,onPress:function(){return z({folder:e},function(){f&&!x&&c("promiseDone")(s())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]}):null]})})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=o(2),c;b[0]!==a?(c=l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsx(r,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.c,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function a(){var a=m(17),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),b);var e=b[0];b=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var f=b.startFlow,g=(i||(i=c("useReStore")))(),j=l(!1),o=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER;a[1]!==g||a[2]!==f?(b=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:g,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,k=b.hasPDB,l=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;f({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:k,has_user_restored_before:l,has_user_restored_before_temp:b,restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:o});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);j.current===!1&&(j.current=!0,c("promiseDone")(n.load(),function(a){return a(h)}))}})},a[1]=g,a[2]=f,a[3]=b):b=a[3];var p=b;a[4]!==p?(b={onVisible:function(){p("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}},a[4]=p,a[5]=b):b=a[5];b=c("useVisibilityObserver")(b);var q;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(q="xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk x1wo2wf3 xh8yej3 x1vjfegm",a[6]=q):q=a[6];var r;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__4WMqcKoHbeS__JHASH__"),a[7]=r):r=a[7];var s;a[8]!==p||a[9]!==e?(s=function(){p("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),e({source:o})},a[8]=p,a[9]=e,a[10]=s):s=a[10];var t;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:h._("__JHASH__KfRv84gajDv__JHASH__")}),a[11]=t):t=a[11];a[12]!==s?(r=k.jsxs(c("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[r," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:s,target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:t})})]}),a[12]=s,a[13]=r):r=a[13];a[14]!==b||a[15]!==r?(t=k.jsx("div",{className:q,ref:b,children:r}),a[14]=b,a[15]=r,a[16]=t):t=a[16];return t}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(){var a=i(2),b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;var d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER},a[0]=d):d=a[0];d=c("useMWEBBackupState")(d);var e=c("useMWEBGetUpsellState")();e=e.isRestoreUpsellsDismissed;if(b!=="messenger"&&d===4&&e===!1){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("MWEBRestoreInThreadScrollPersistentBanner.react"),{}),a[1]=b):b=a[1];return b}return null}g["default"]=a}),98);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapperWithEBCheck.react",["cr:9932"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9932")}),98);
__d("MWInChatTabContextProvider.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.c,l=e(!1);function a(){return j(l)}function b(a){var b=k(2);a=a.children;var c;b[0]!==a?(c=i.jsx(l.Provider,{value:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}g.useInChatTab=a;g.InChatTabContextProvider=b}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:12364","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12364")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:12545","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12545")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWFetchMessageByPinnedMessageId",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).c;function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var g;g=(j||(j=d("I64"))).to_int32((g=b.syncGroup)!=null?g:(j||(j=d("I64"))).neg_one);if(g!==-1&&g===95){c("FBLogger")("messenger_web_messaging").mustfix("useMWFetchMessageByPinnedMessageId: incorrect call to MPQ with secure mailbox");return}yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b.threadKey,threadType:b.threadType})},"readwrite",void 0,void 0,f.id+":53")});return m.apply(this,arguments)}function a(a){var b=k(22),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":66");i=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a);var j=i!=null,m=i||a;i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(i);var o;b[6]!==g?(o=g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),b[6]=g,b[7]=o):o=b[7];g=o;var p=g&&(!j||i);b[8]!==e.tables.threads||b[9]!==m?(o=function(){return d("ReQL").fromTableDescending(e.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(m)},b[8]=e.tables.threads,b[9]=m,b[10]=o):o=b[10];b[11]!==e||b[12]!==m?(g=[e,m],b[11]=e,b[12]=m,b[13]=g):g=b[13];var q=d("ReQLSuspense").useFirst(o,g,f.id+":86");b[14]!==p||b[15]!==e||b[16]!==m||b[17]!==q?(j=function(){return p?d("ReQL").empty():d("ReQL").fromTableDescending(e.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(m).map(function(a){a=a.messageId;var b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("messageId")).getKeyRange(a),f.id+":105");q!=null&&b==null&&c("promiseDone")(l(e,q,a));return{message:b,pinnedMessageId:a}})},i=[e,m,p,q],b[14]=p,b[15]=e,b[16]=m,b[17]=q,b[18]=j,b[19]=i):(j=b[18],i=b[19]);o=d("ReQLSuspense").useArray(j,i,f.id+":96");b[20]!==o?(g=o.map(n),b[20]=o,b[21]=g):g=b[21];return g}function n(a){return a.message}g["default"]=a}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWJumpToMessage")(a.source)}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBroadcastChannelLoggingShapes","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","cr:697","isMWBumpMessage","react","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j,o=n.useMemo,p=n.c;function a(a){a=p(1);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return b}var q=(n=b("cr:697"))!=null?n:a,r={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},s=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function t(a,b,e){var f=a==null?void 0:a.text,g=b&&a!=null?(k||(k=d("I64"))).equal(e,a.threadKey):!1;b=o(function(){var b;return new Set(g?(b=a==null?void 0:(b=a.mentionIds)==null?void 0:b.split==null?void 0:b.split(","))!=null?b:[]:[])},[g,a==null?void 0:a.mentionIds]);f=d("MWUnvaultedText").getMWUnvaultedText(g,f);b=(b=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(f,[],b))==null?void 0:b.textWithSubstitutions)!=null?b:f;e=(e=d("useStringWithSubstitutions").useStringWithSubstitutions(f,e))!=null?e:f;f=c("isMWBumpMessage")(a);return f?e:b}function u(a){if(a==null)return"";if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._("__JHASH__xgjHlv2kQPY__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._("__JHASH__X9DncealQbJ__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096))||(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(134217728)))return h._("__JHASH__rZqTMZ7dJmB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._("__JHASH__qqvxkP_nlPB__JHASH__");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(64)))return h._("__JHASH__BbHS9IlclMk__JHASH__");return h._("__JHASH__KsTQ68TZNpQ__JHASH__")}function v(a){c("FBLogger")("messenger_web_pinned_messages").catching(a).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",a.message)}function e(a){var b=p(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{fallback:w,onError:v,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(x,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function w(){return null}function x(a){var b=p(55),e=a.thread;a=c("useMWXLazyDialog")(s);var g=a[0],j=(i||(i=c("useReStore")))();a=c("useMWFetchMessageByPinnedMessageId")(e.threadKey);var l=q(e.threadKey);if(b[0]!==l||b[1]!==a){var n=l.concat(a),o=[];n=n.reduce(y,o);b[0]=l;b[1]=a;b[2]=n}else n=b[2];var v=n;o=d("MWPActor.react").useActor();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={source:"Pinned"},b[3]=l):l=b[3];var w=c("useMWJumpToMessageWrapper")(l),x=(v==null?void 0:v.length)>0?v[0]:null;b[4]!==x||b[5]!==j?(a=function(){return(x==null?void 0:x.senderId)!=null?d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(x.senderId):d("ReQL").empty()},b[4]=x,b[5]=j,b[6]=a):a=b[6];n=x==null?void 0:x.senderId;b[7]!==n||b[8]!==j?(l=[n,j],b[7]=n,b[8]=j,b[9]=l):l=b[9];n=d("ReQLSuspense").useFirst(a,l,f.id+":250");b[10]!==e.threadType?(a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),b[10]=e.threadType,b[11]=a):a=b[11];l=a;a=t(x,l,e.threadKey);b[12]!==a||b[13]!==x?(l=a!=null&&a!==""?a:u(x),b[12]=a,b[13]=x,b[14]=l):l=b[14];a=l;l=a;a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(v.length===0)return null;var z;b[15]!==e.threadKey||b[16]!==e.threadType?(z={eventName:"open_view_pinned_messages_dialog",threadKey:e.threadKey,threadType:e.threadType},b[15]=e.threadKey,b[16]=e.threadType,b[17]=z):z=b[17];z=z;var A;b[18]!==e.threadType?(A=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),b[18]=e.threadType,b[19]=A):A=b[19];var B=A;if(b[20]!==x||b[21]!==o||b[22]!==(n==null?void 0:n.name)){A=(x==null?void 0:x.senderId)!=null&&(k||(k=d("I64"))).equal(o,x.senderId)?"You":(A=n==null?void 0:n.name)!=null?A:"";b[20]=x;b[21]=o;b[22]=n==null?void 0:n.name;b[23]=A}else A=b[23];o=A;b[24]!==B||b[25]!==l?(n=B?h._("__JHASH__uKLUxuQU_CD__JHASH__",[h._param("lastPinnedMessage",l)]):h._("__JHASH__YIRbXxGdt3C__JHASH__",[h._param("lastPinnedMessage",l)]),b[24]=B,b[25]=l,b[26]=n):n=b[26];b[27]!==v||b[28]!==w||b[29]!==g||b[30]!==e.threadKey||b[31]!==B?(A=function(){if(v.length===1){var a=v[0];a!=null&&a.messageId!=null&&a.timestampMs!=null&&w(a.messageId,a.timestampMs)}else g({threadKey:e.threadKey});B&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(v.length>1).toString()},threadFbid:e.threadKey}))},b[27]=v,b[28]=w,b[29]=g,b[30]=e.threadKey,b[31]=B,b[32]=A):A=b[32];a=a?r.pinnedMessagesWrapperInbox:r.pinnedMessagesWrapperChatTabs;var C;b[33]!==a?(C=[r.pinnedMessagesWrapper,a],b[33]=a,b[34]=C):C=b[34];b[35]===Symbol["for"]("react.memo_cache_sentinel")?(a=m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),b[35]=a):a=b[35];var D;b[36]!==B||b[37]!==o?(D=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:r.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:B?h._("__JHASH__Dezv4EV21yi__JHASH__",[h._param("channel_creator_name",o),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))]):h._("__JHASH__5htmo3zfvNj__JHASH__",[h._param("message_sender_name",o)])})}),b[36]=B,b[37]=o,b[38]=D):D=b[38];b[39]!==l?(o=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:r.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:l})}),b[39]=l,b[40]=o):o=b[40];b[41]!==D||b[42]!==o?(l=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[D,o]})}),b[41]=D,b[42]=o,b[43]=l):l=b[43];b[44]!==v.length?(D=v.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})}),b[44]=v.length,b[45]=D):D=b[45];b[46]!==l||b[47]!==D?(o=m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:r.row,children:[a,l,D]}),b[46]=l,b[47]=D,b[48]=o):o=b[48];b[49]!==n||b[50]!==z||b[51]!==A||b[52]!==C||b[53]!==o?(a=m.jsx(c("MWXPressable.react"),{"aria-label":n,display:"inline",expanding:!0,loggingEvent:z,onPress:A,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:C,children:o}),b[49]=n,b[50]=z,b[51]=A,b[52]=C,b[53]=o,b[54]=a):a=b[54];return a}function y(a,b){return b!=null?[].concat(a,[b]):a}g["default"]=e}),226);
__d("MWMDotMeReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.c,l=e();function a(a){var b=k(3),c=a.children;a=a.referrer;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={dark_mode_legible_text_pill:{alignItems:"x6s0dn4",backgroundColor:"xmd5bsh",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xi81zsa",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"xxq4lyh",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=i(6),d=a.children;a=a.onClick;var e=c("useCurrentDisplayMode")()==="dark",f;b[0]!==e?(f=function(){return[e?k.dark_mode_legible_text_pill:k.pill]},b[0]=e,b[1]=f):f=b[1];var g;b[2]!==a||b[3]!==f||b[4]!==d?(g=j.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:f,children:d}),b[2]=a,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c;function a(a,b,e,g){var k=l(9),m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=d("MWMDotMeReferrerContext.react").useMDotMeReferrer(),p,q;k[0]!==a||k[1]!==e||k[2]!==o||k[3]!==m||k[4]!==g||k[5]!==n||k[6]!==b?(p=function(h,k){var l=d("LSThreadAttributionTypeUtil").getSource(a,e),p=h!=null?(i||(i=d("I64"))).equal(h.ctaType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&h.ctaId===k.ctaId:!1;h=c("gkx")("6771")&&h!=null&&(i||(i=d("I64"))).equal(h.ctaType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").ICEBREAKER))&&h.ctaId===k.ctaId;var q=p||h?o:void 0;c("promiseDone")(m.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:(e=g)!=null?e:void 0,mark_read:!0,platform_ref:q,platform_token:k.platformToken,power_up_style:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:l}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:k.title,threadKey:a,threadType:b})},"readwrite",void 0,void 0,f.id+":76"));var r=(i||(i=d("I64"))).to_string(a);if(p)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:r}}});else{var s=(h=k.ctaIdentifier)!=null?h:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:r},quick_reply:{id:s,type:64}}})}c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}})},q=[a,e,o,m,n,b,g],k[0]=a,k[1]=e,k[2]=o,k[3]=m,k[4]=g,k[5]=n,k[6]=b,k[7]=p,k[8]=q):(p=k[7],q=k[8]);return d("Int64Hooks").useCallbackInt64(p,q)}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useState,m=b.c;function n(a){var b=m(21),e=a.initiatingSource,f=a.lsSource,g=a.nullstateCtas,h=a.threadKey;a=a.threadType;f=f===void 0?"unknown":f;var i=c("useMWV2SendIcebreakerMessage")(h,a,f,e);b[0]!==g?(a=g.map(o),b[0]=g,b[1]=a):a=b[1];var n=a;f=l(!1);var p=f[0],q=f[1];b[2]!==p||b[3]!==n||b[4]!==h?(e=function(){if(!p&&n.length>0){q(!0);var a=(j||(j=d("I64"))).to_string(h);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:n,num_items:n.length,type:60},page:{id:a}}})}},a=[p,n,h],b[2]=p,b[3]=n,b[4]=h,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1n2onr6 xh8yej3 x1eb86dx",b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e="xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj",b[10]=e):e=b[10];if(b[11]!==i||b[12]!==g){var r;b[14]!==i?(r=function(a){if(a.ctaType==="nullstate_icebreaker")return k.jsx("li",{className:"xamitd3 xsag5q8 xn6708d x1ye3gou x2b8uid",children:k.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return i(void 0,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId));else return null},b[14]=i,b[15]=r):r=b[15];r=g.map(r);b[11]=i;b[12]=g;b[13]=r}else r=b[13];b[16]!==r?(g=k.jsx("ul",{className:e,children:r}),b[16]=r,b[17]=g):g=b[17];b[18]!==a||b[19]!==g?(e=k.jsx("div",{className:f,ref:a,children:g}),b[18]=a,b[19]=g,b[20]=e):e=b[20];return e}function o(a){return a.ctaIdentifier}function a(a){var b=m(8),e=c("useStable")(p),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.threads||b[1]!==a.threadKey?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},b[0]=g.tables.threads,b[1]=a.threadKey,b[2]=i):i=b[2];var l;b[3]!==g||b[4]!==a.threadKey?(l=[g,a.threadKey],b[3]=g,b[4]=a.threadKey,b[5]=l):l=b[5];i=d("ReQLSuspense").useFirst(i,l,f.id+":127");if(i==null)return null;if(a.nullstateCtas.length===0||e-(j||(j=d("I64"))).to_int32(i.lastActivityTimestampMs)<216e5)return null;b[6]!==a?(l=k.jsx(n,babelHelpers["extends"]({},a)),b[6]=a,b[7]=l):l=b[7];return l}function p(){return d("ServerTime").getMillis()}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(6);a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={context_surface_id:8783,context_trigger:"messenger_thread_open"},e[0]=f):f=e[0];f=c("useQuickPromotionFalcoEvent")(f);if(a==null)return null;var g;e[1]!==a?(g=k.jsx(d("CometRelay").MatchContainer,{match:a}),e[1]=a,e[2]=g):g=e[2];e[3]!==f||e[4]!==g?(a=k.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:g}),e[3]=f,e[4]=g,e[5]=a):a=e[5];return a}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],b=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"3bJogu"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionChatTabNotificationSettingsBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"3bJogu")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"25202797479365985",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e=a.communityId,f=a.fbGroupId;a=a.threadId;var g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();g=n(g);e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:e!=null?(j||(j=d("I64"))).to_string(e):null,fb_group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(j||(j=d("I64"))).to_string(f):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:g});a=e==null?void 0:(f=e.viewer)==null?void 0:f.eligible_promotions;return a==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:a})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.c;function a(a){var b=l(13),d=a.nullstate;a=a.nullstateCtas;d=d.welcomeText;var e=k(c("MWPreloadedText")),f,g;b[0]!==d||b[1]!==a?(g=h._("__JHASH__zLWQrS74qZX__JHASH__"),f=d!==g.toString()&&a.length>0,b[0]=d,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);a=f;if(e.text!=null||!a&&d==null)return null;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f="xurb0ha x1sxyh0",b[4]=f):f=b[4];b[5]!==d?(e=d!=null&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:d})}),b[5]=d,b[6]=e):e=b[6];b[7]!==a||b[8]!==g?(d=a&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:g})}),b[7]=a,b[8]=g,b[9]=d):d=b[9];b[10]!==e||b[11]!==d?(a=j.jsxs("div",{className:f,children:[e,d]}),b[10]=e,b[11]=d,b[12]=a):a=b[12];return a}g["default"]=a}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useContext,n=b.c;function a(a){var b=n(22),e=a.nullstate,f=a.threadKey;a=a.threadTitle;var g=m(c("MWPreloadedText")),i=e.privacyText,o=e.privacyTextCtaTitle,p=e.privacyTextNonWelcomeScreen,q;b[0]!==a?(q=h._("__JHASH__pMA_7iE0GY1__JHASH__",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._("__JHASH__WAqQCKR95Tr__JHASH__")})}))]),b[0]=a,b[1]=q):q=b[1];a=q;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),b[2]=q):q=b[2];q=c("useMWXLazyDialog")(q);var r=q[0];b[3]!==r||b[4]!==f?(q=function(){r({entryPoint:"NULL_STATE",threadKey:f},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=r,b[4]=f,b[5]=q):q=b[5];var s;b[6]!==o?(s=o!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:o}):null,b[6]=o,b[7]=s):s=b[7];b[8]!==q||b[9]!==s?(o=l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",onClick:q,role:"link",target:"_blank",children:s}),b[8]=q,b[9]=s,b[10]=o):o=b[10];q=o;s=g.text!=null&&!!p;b[11]!==s||b[12]!==i||b[13]!==p?(o=s||i!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:s?p:i}):null,b[11]=s,b[12]=i,b[13]=p,b[14]=o):o=b[14];g=o;b[15]!==e.privacyTextCtaType||b[16]!==g||b[17]!==q||b[18]!==a?(s=c("gkx")("24144")&&(j||(j=d("I64"))).equal(e.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[g," ",q]}):a,b[15]=e.privacyTextCtaType,b[16]=g,b[17]=q,b[18]=a,b[19]=s):s=b[19];b[20]!==s?(i=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:s}),b[20]=s,b[21]=i):i=b[21];return i}g["default"]=a}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;var m=b.useState,n=b.c,o={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingStart:"x1ye3gou",paddingEnd:"xn6708d",$$css:!0}};function a(a){var b=n(20),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,i=a.nullstateCtas,q=a.threadKey;a=a.threadType;var r=c("useMWV2SendIcebreakerMessage")(q,a,f,e);b[0]!==i?(a=i.map(p).filter(Boolean),b[0]=i,b[1]=a):a=b[1];var s=a;f=m(!1);var t=f[0],u=f[1];b[2]!==t||b[3]!==s||b[4]!==q?(e=function(){if(!t&&s.length>0){u(!0);var a=(j||(j=d("I64"))).to_string(q);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:s,num_items:String(s.length),type:60},page:{id:a}}})}},a=[t,s,q],b[2]=t,b[3]=s,b[4]=q,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f="xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x11i5rnm xat24cr x1mh8g0r",b[9]=f):f=b[9];if(b[10]!==g||b[11]!==r||b[12]!==i){b[14]!==g||b[15]!==r?(e=function(a){var b=(j||(j=d("I64"))).equal(g.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&g.ctaId!=null&&(j||(j=d("I64"))).equal(g.ctaId,a.ctaId);return l.jsx("li",{className:(h||(h=c("stylex")))(o.cta_list_item,b?o.cta_list_item_center:!1),children:l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return r(g,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId))},b[14]=g,b[15]=r,b[16]=e):e=b[16];e=i.map(e);b[10]=g;b[11]=r;b[12]=i;b[13]=e}else e=b[13];b[17]!==a||b[18]!==e?(i=l.jsx("ul",{className:f,ref:a,children:e}),b[17]=a,b[18]=e,b[19]=i):i=b[19];return i}function p(a){return a.ctaIdentifier}g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=k(23),d=a.initiatingSource,e=a.lsSource,f=a.nullstate,g=a.nullstateCtas,h=a.threadKey,n=a.threadName;a=a.threadType;e=e===void 0?"unknown":e;var o=j(c("MWPreloadedText")),p=f.privacyText,q;b[0]!==f||b[1]!==g?(q=i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:f,nullstateCtas:g}),b[0]=f,b[1]=g,b[2]=q):q=b[2];var r;b[3]!==o.text||b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==a?(r=o.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:d,lsSource:e,nullstate:f,nullstateCtas:g,threadKey:h,threadType:a}),b[3]=o.text,b[4]=d,b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=a,b[10]=r):r=b[10];b[11]!==p||b[12]!==h||b[13]!==n||b[14]!==a||b[15]!==f?(o=p!=null?i.jsx("div",{className:"xx6bls6 xurb0ha x1sxyh0",children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:f,threadKey:h,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:h,threadName:n,threadType:a},wrapOutput:m})})}):null,b[11]=p,b[12]=h,b[13]=n,b[14]=a,b[15]=f,b[16]=o):o=b[16];b[17]!==q||b[18]!==r||b[19]!==o?(d=i.jsxs("div",{children:[q,r,o]}),b[17]=q,b[18]=r,b[19]=o,b[20]=d):d=b[20];e=d;b[21]!==e?(g=i.jsx(c("MWXScrollableArea.react"),{xstyle:l.privacy_text_offset,children:e}),b[21]=e,b[22]=g):g=b[22];return g}function m(a,b){return b}e=i.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=e}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:1598","cr:1600","cr:1690","cr:4723","cr:488","cr:5483","cr:9056","gkx","logMessengerWebFalcoEvent","promiseDone","react","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(l||(l=d("react"))).c,n=l,o=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function p(a){var b=m(11),e=(k||(k=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return d("MWPreloadableQueries").threadNullStateQuery(e,a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useFirst(g,h,f.id+":96");var i;b[4]!==e||b[5]!==a?(h=function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(e,a)},i=[e,a],b[4]=e,b[5]=a,b[6]=h,b[7]=i):(h=b[6],i=b[7]);h=d("ReQLSuspense").useArray(h,i,f.id+":103");b[8]!==g||b[9]!==h?(i=[g,h],b[8]=g,b[9]=h,b[10]=i):i=b[10];return i}function q(a,e){var f=m(10),g=(k||(k=c("useReStore")))(),j;f[0]!==g.tables.threads||f[1]!==g.tables.messages||f[2]!==g.tables.reactions||f[3]!==a||f[4]!==e?(j=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.threads).getKeyRange(a)),d("ReQL").firstAsync(d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)),d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(g.tables.reactions).getKeyRange(a).take(20))])),f=c[0],j=c[1];c=c[2];if(j==null||f==null)return;c=c.reduce(function(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)},(i||(i=d("I64"))).zero);j=i.max(j.timestampMs,c);c=i.compare(j,f.lastActivityTimestampMs)>-1;o({threadKey:f.threadKey,threadType:f.threadType},"thread_and_message_list_last_activity_mismatch",e,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(f.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(j)})})())},f[0]=g.tables.threads,f[1]=g.tables.messages,f[2]=g.tables.reactions,f[3]=a,f[4]=e,f[5]=j):j=f[5];var l;f[6]!==g||f[7]!==e||f[8]!==a?(l=[g,e,a],f[6]=g,f[7]=e,f[8]=a,f[9]=l):l=f[9];d("Int64Hooks").useEffectInt64(j,l)}function r(a){var e=m(116),g=a.entryPoint,h=a.messageListRef,l=a.thread,o=(k||(k=c("useReStore")))();a=p(l.threadKey);var r=a[0],s=a[1];e[0]!==o.tables.cm_channel_list||e[1]!==l.threadKey?(a=function(){return d("ReQL").fromTableAscending(o.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(l.threadKey)},e[0]=o.tables.cm_channel_list,e[1]=l.threadKey,e[2]=a):a=e[2];var t;e[3]!==o||e[4]!==l.threadKey?(t=[o,l.threadKey],e[3]=o,e[4]=l.threadKey,e[5]=t):t=e[5];a=d("ReQLSuspense").useFirst(a,t,f.id+":195");t=(t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(o.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(function(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)})},[o,l.threadKey],f.id+":204"))!=null?t:!1;var u;e[6]!==l.threadType?(u=(i||(i=d("I64"))).to_string(l.threadType),e[6]=l.threadType,e[7]=u):u=e[7];c("usePageletMetadata")("threadType",u);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(u=d("MWPActor.react").isAPPlus(),e[8]=u):u=e[8];u=u;var v;e[9]!==l.threadType?(v=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType),e[9]=l.threadType,e[10]=v):v=e[10];v=v;var w=c("useLSMessagingInitiatingSource")(),x;e[11]!==l?(x=b("cr:9056")!=null?n.jsx(b("cr:9056"),{thread:l}):null,e[11]=l,e[12]=x):x=e[12];x=x;var y;e[13]!==l.threadType?(y=d("MWCMThreadTypes.react").isJoinedCMThread(l.threadType),e[13]=l.threadType,e[14]=y):y=e[14];y=y;var z;e[15]!==l||e[16]!==y?(z=d("LSThreadBitOffset").has(167,l)&&y,e[15]=l,e[16]=y,e[17]=z):z=e[17];var A=z;e[18]!==l?(z=d("LSThreadBitOffset").has(193,l),e[18]=l,e[19]=z):z=e[19];z=z;var B,C;e[20]!==A||e[21]!==o||e[22]!==l.threadKey?(B=function(){A&&c("promiseDone")(o.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:l.threadKey})},"readwrite",void 0,void 0,f.id+":239"))},C=[o,l.threadKey,A],e[20]=A,e[21]=o,e[22]=l.threadKey,e[23]=B,e[24]=C):(B=e[23],C=e[24]);d("Int64Hooks").useEffectInt64(B,C);e[25]!==l.threadKey||e[26]!==l.threadType||e[27]!==w||e[28]!==s?(B=function(){return n.jsxs(n.Fragment,{children:[n.jsx(c("MWPQuickReplies.react"),{threadKey:l.threadKey}),n.jsx(c("MWPersistentIcebreakers"),{initiatingSource:w,lsSource:"inboxInThread",nullstateCtas:s,threadKey:l.threadKey,threadType:l.threadType})]})},C=[l.threadKey,l.threadType,s,w],e[25]=l.threadKey,e[26]=l.threadType,e[27]=w,e[28]=s,e[29]=B,e[30]=C):(B=e[29],C=e[30]);B=d("Int64Hooks").useCallbackInt64(B,C);var D;e[31]!==l.threadKey||e[32]!==l.threadType?(C=function(){return n.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),n.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},D=[l.threadKey,l.threadType],e[31]=l.threadKey,e[32]=l.threadType,e[33]=C,e[34]=D):(C=e[33],D=e[34]);C=d("Int64Hooks").useCallbackInt64(C,D);q(l.threadKey,g);D=c("useCommunityFolder")(l);var E=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();E=E!=null&&E==="ChatTab";var F;e[35]!==(a==null?void 0:a.channelPrivacy)?(F=(a==null?void 0:a.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(a==null?void 0:a.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2)),e[35]=a==null?void 0:a.channelPrivacy,e[36]=F):F=e[36];a=F;F=c("gkx")("23433");var G=c("gkx")("23434"),H;e[37]!==l.authorityLevel?(H=(i||(i=d("I64"))).ge(l.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[37]=l.authorityLevel,e[38]=H):H=e[38];H=H;var I;e[39]!==E||e[40]!==l?(I=b("cr:4723")!=null&&!E?n.jsx(b("cr:4723"),{thread:l}):null,e[39]=E,e[40]=l,e[41]=I):I=e[41];E=I;e[42]!==l?(I=b("cr:1690")!=null?n.jsx(b("cr:1690"),{thread:l}):null,e[42]=l,e[43]=I):I=e[43];I=I;var J;e[44]!==z?(J=c("MWChatXACSunsettingBanner.react")!=null&&z?n.jsx(c("MWChatXACSunsettingBanner.react"),{}):null,e[44]=z,e[45]=J):J=e[45];z=J;e[46]!==y||e[47]!==a||e[48]!==l.parentThreadKey?(J=b("cr:5483")!=null&&y&&!a?n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:n.jsx(b("cr:5483"),{folderId:l.parentThreadKey})}):null,e[46]=y,e[47]=a,e[48]=l.parentThreadKey,e[49]=J):J=e[49];J=J;e[50]!==y||e[51]!==a||e[52]!==l.parentThreadKey||e[53]!==l.threadKey?(F=b("cr:1598")!=null&&y&&a&&F?n.jsx(b("cr:1598"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[50]=y,e[51]=a,e[52]=l.parentThreadKey,e[53]=l.threadKey,e[54]=F):F=e[54];F=F;e[55]!==y||e[56]!==a||e[57]!==l.parentThreadKey||e[58]!==l.threadKey?(G=b("cr:488")!=null&&y&&a&&G?n.jsx(b("cr:488"),{groupId:l.parentThreadKey,threadId:l.threadKey}):null,e[55]=y,e[56]=a,e[57]=l.parentThreadKey,e[58]=l.threadKey,e[59]=G):G=e[59];y=G;e[60]!==H||e[61]!==(D==null?void 0:D.folderId)||e[62]!==(D==null?void 0:D.fbGroupId)||e[63]!==l.threadKey?(a=H?n.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:D==null?void 0:D.folderId,fbGroupId:D==null?void 0:D.fbGroupId,threadId:l.threadKey}):null,e[60]=H,e[61]=D==null?void 0:D.folderId,e[62]=D==null?void 0:D.fbGroupId,e[63]=l.threadKey,e[64]=a):a=e[64];G=a;H=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(l);if(r!=null&&!t){e[65]!==l?(D=n.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[65]=l,e[66]=D):D=e[66];e[67]!==l.threadKey||e[68]!==l.threadType?(a=n.jsx(c("MWContextBanner.react"),{threadKey:l.threadKey,threadType:l.threadType}),e[67]=l.threadKey,e[68]=l.threadType,e[69]=a):a=e[69];e[70]===Symbol["for"]("react.memo_cache_sentinel")?(t=n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),e[70]=t):t=e[70];var K;e[71]!==w||e[72]!==r||e[73]!==s||e[74]!==l.threadKey||e[75]!==l.threadName||e[76]!==l.threadType?(K=n.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:w,lsSource:"inboxInThread",nullstate:r,nullstateCtas:s,threadKey:l.threadKey,threadName:l.threadName,threadType:l.threadType}),e[71]=w,e[72]=r,e[73]=s,e[74]=l.threadKey,e[75]=l.threadName,e[76]=l.threadType,e[77]=K):K=e[77];e[78]!==H||e[79]!==G||e[80]!==x||e[81]!==D||e[82]!==I||e[83]!==J||e[84]!==F||e[85]!==y||e[86]!==z||e[87]!==E||e[88]!==a||e[89]!==K?(r=n.jsxs(n.Fragment,{children:[H,G,x,D,I,J,F,y,z,E,a,t,K]}),e[78]=H,e[79]=G,e[80]=x,e[81]=D,e[82]=I,e[83]=J,e[84]=F,e[85]=y,e[86]=z,e[87]=E,e[88]=a,e[89]=K,e[90]=r):r=e[90];return r}e[91]!==l?(t=n.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:l}),e[91]=l,e[92]=t):t=e[92];e[93]===Symbol["for"]("react.memo_cache_sentinel")?(D=n.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[93]=D):D=e[93];e[94]!==g||e[95]!==h||e[96]!==B||e[97]!==C||e[98]!==l?(a=n.jsx(c("MWMessageList"),{entryPoint:g,ref:h,renderFooter:B,renderHeader:C,thread:l}),e[94]=g,e[95]=h,e[96]=B,e[97]=C,e[98]=l,e[99]=a):a=e[99];e[100]!==v||e[101]!==l?(K=u&&v&&b("cr:1600")!=null?n.jsx(b("cr:1600"),{thread:l}):null,e[100]=v,e[101]=l,e[102]=K):K=e[102];e[103]!==H||e[104]!==G||e[105]!==x||e[106]!==t||e[107]!==I||e[108]!==z||e[109]!==J||e[110]!==F||e[111]!==y||e[112]!==E||e[113]!==a||e[114]!==K?(r=n.jsxs(n.Fragment,{children:[H,G,x,t,I,z,J,F,y,D,E,a,K]}),e[103]=H,e[104]=G,e[105]=x,e[106]=t,e[107]=I,e[108]=z,e[109]=J,e[110]=F,e[111]=y,e[112]=E,e[113]=a,e[114]=K,e[115]=r):r=e[115];return r}function a(a){var b=m(5),c=a.entryPoint,e=a.messageListRef;a=a.thread;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=n.jsx(d("CometPageletWithDiv.react").Div,{className:f,name:"MWOpenThreadDetail",children:n.jsx(r,{entryPoint:c,messageListRef:e,thread:a})}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MessengerWebUXLogger","cr:2441","cr:9772","promiseDone","react","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;f=e.memo;var m=e.useEffect,n=e.c;function a(a){var e=n(33),f=a.entryPoint,g=a.isMinimizedChatTab,k=a.messageListRef;a=a.thread;g=g===void 0?!1:g;var o=(h||(h=c("useReStore")))(),p=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q={eventName:"thread_view_impression"},e[0]=q):q=e[0];q=c("MessengerWebUXLogger").useImpressionLoggerRef(q);var r;e[1]!==f?(r=f?{entry_point:f}:void 0,e[1]=f,e[2]=r):r=e[2];var s;e[3]!==a.parentThreadKey?(s=(i||(i=d("I64"))).to_string(a.parentThreadKey),e[3]=a.parentThreadKey,e[4]=s):s=e[4];var t;e[5]!==a.threadKey?(t=(i||(i=d("I64"))).to_string(a.threadKey),e[5]=a.threadKey,e[6]=t):t=e[6];var u;e[7]!==r||e[8]!==s||e[9]!==t?(u={client_extras:r,community_id:s,event:"chat_preview_open",surface:"chat_preview",thread_id:t},e[7]=r,e[8]=s,e[9]=t,e[10]=u):u=e[10];r=c("useGroupsCometChatsEngagementImpressionLogger")(u);e[11]!==p||e[12]!==o?(s=function(){p&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(o,(j||(j=d("LSIntEnum"))).ofNumber(118)))},t=[o,p],e[11]=p,e[12]=o,e[13]=s,e[14]=t):(s=e[13],t=e[14]);m(s,t);e[15]!==a.threadType?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[15]=a.threadType,e[16]=u):u=e[16];s=u;t=d("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(a.threadKey);e[17]===Symbol["for"]("react.memo_cache_sentinel")?(u="x78zum5 xdt5ytf x1iyjqo2",e[17]=u):u=e[17];t=t?r:q;e[18]!==s||e[19]!==f||e[20]!==k||e[21]!==a?(r=b("cr:9772")==null||!s?l.jsx(c("MWOpenThreadDetail.react"),{entryPoint:f,messageListRef:k,thread:a}):l.jsx(b("cr:9772"),{entryPoint:f,messageListRef:k,thread:a}),e[18]=s,e[19]=f,e[20]=k,e[21]=a,e[22]=r):r=e[22];e[23]!==g||e[24]!==a.threadKey?(q=b("cr:2441")&&l.jsx(b("cr:2441"),{isMinimizedChatTab:g,threadKey:a.threadKey}),e[23]=g,e[24]=a.threadKey,e[25]=q):q=e[25];e[26]!==a.threadKey||e[27]!==r||e[28]!==q?(s=l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsxs(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:[r,q]})}),e[26]=a.threadKey,e[27]=r,e[28]=q,e[29]=s):s=e[29];e[30]!==t||e[31]!==s?(f=l.jsx("div",{className:u,ref:t,children:s}),e[30]=t,e[31]=s,e[32]=f):f=e[32];return f}e=f(a);g["default"]=e}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","Promise","ReQL","ServerTime","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","promiseDone","react","setTimeout","useMWPGetAttachments","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;e.useCallback;var o=e.useEffect,p=e.useRef,q=e.useState,r=e.c;function s(a){var b=r(2),c=a.message;a=a.outgoing;c=d("MWPForwardedContent").useTitle(c,a);b[0]!==c?(a=h._("__JHASH__Q9FyIHvWIxM__JHASH__",[h._param("forward title",c)]),b[0]=c,b[1]=a):a=b[1];return a}function t(a){var b=r(11),e=a.message,f=a.participant;a=a.sender;var g=d("MWPActor.react").useActor(),i;b[0]!==a.id||b[1]!==g?(i=(l||(l=d("I64"))).equal(a.id,g),b[0]=a.id,b[1]=g,b[2]=i):i=b[2];g=i;i=e.replySourceTypeV2!=null&&(l||(l=d("I64"))).equal(e.replySourceTypeV2,(m||(m=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));f=(f=(f=f==null?void 0:f.nickname)!=null?f:a.firstName)!=null?f:a.name;if(i){b[3]!==e||b[4]!==g?(a=n.jsx(s,{message:e,outgoing:g}),b[3]=e,b[4]=g,b[5]=a):a=b[5];return a}i=e.replySnippet;if(i!=null){b[6]!==i?(a=h._("__JHASH__LPdQYmdaw5d__JHASH__",[h._param("reply snippet",i)]),b[6]=i,b[7]=a):a=b[7];return a}else if(g){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__1b0bN0cduWX__JHASH__"),b[8]=e):e=b[8];return e}else{b[9]!==f?(i=h._("__JHASH__3ymXOGN3z8-__JHASH__",[h._param("name of sender",f)]),b[9]=f,b[10]=i):i=b[10];return i}}function u(a){var b=r(2);a=a.message;a=c("useMWPGetAttachments")(a);var d;b[0]!==a?(d=c("getMWPAttachmentMessageAnnouncement")(a),b[0]=a,b[1]=d):d=b[1];return d}function v(a){var d=r(14),e=a.message,f=a.participant;a=a.sender;var g=q(!1),h=g[0],i=g[1],j;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=c("setTimeout")(function(){return i(!0)},100);return function(){c("clearTimeout")(a)}},j=[],d[0]=g,d[1]=j):(g=d[0],j=d[1]);o(g,j);if(!h)return null;d[2]!==e.text?(g=e.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(e.text):e.text,d[2]=e.text,d[3]=g):g=d[3];j=g;d[4]!==e||d[5]!==f||d[6]!==a?(h=n.jsx(t,{message:e,participant:f,sender:a}),d[4]=e,d[5]=f,d[6]=a,d[7]=h):h=d[7];g=j!=null?j:null;d[8]!==e?(f=c("mwpMessageHasAttachment")(e)?n.jsx(u,{message:e}):null,d[8]=e,d[9]=f):f=d[9];d[10]!==h||d[11]!==g||d[12]!==f?(a=n.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[h,g,f]}),d[10]=h,d[11]=g,d[12]=f,d[13]=a):a=d[13];return a}function w(a,e){var f=r(12),g=(j||(j=c("useReStore")))(),h=d("MWPActor.react").useActor(),k;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("ServerTime").getMillis(),f[0]=k):k=f[0];var m=p(k),n=e.threadKey;f[1]!==g.tables.messages||f[2]!==g.tables.contacts||f[3]!==g.tables.participants||f[4]!==n||f[5]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(n).subscribe(function(e,f){if(f.operation!=="add")return;var h=f.value;(l||(l=d("I64"))).to_float(h.timestampMs)>m.current&&(m.current=(l||(l=d("I64"))).to_float(h.timestampMs),c("promiseDone")((i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(h.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(h.threadKey,h.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(h,c,b)}))})},f[1]=g.tables.messages,f[2]=g.tables.contacts,f[3]=g.tables.participants,f[4]=n,f[5]=a,f[6]=k):k=f[6];f[7]!==g||f[8]!==h||f[9]!==a||f[10]!==n?(e=[g,h,a,n],f[7]=g,f[8]=h,f[9]=a,f[10]=n,f[11]=e):e=f[11];d("Int64Hooks").useEffectInt64(k,e)}function x(a){var b=r(1);a=a.thread;var e=q(null),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b,e){if((l||(l=d("I64"))).equal(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return n.jsx(v,{message:a,participant:e,sender:b})})},b[0]=e):e=b[0];b=e;w(b,a);return f}function a(a){var b=r(4),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=n.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:n.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:n.jsx(x,babelHelpers["extends"]({},e))})}),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),226);
__d("MWV2ChatTabThreadLinkHashContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.c,l=e(null);function a(a){var b=k(3),c=a.children;a=a.threadLinkHash;a=(a=a)!=null?a:null;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){return j(l)}g.MWV2ChatTabThreadLinkHashContextProvider=a;g.useGetChatTabThreadLinkHash=b}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=a.children;return a}e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;f=e;g["default"]=f}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(7),e=a.isSubthreadDisplayed,f=a.threadKey,g=a.threadType,h=e===void 0?!1:e,k=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=c("useC4GEngagementSurface")();b[0]!==k||b[1]!==g||b[2]!==h||b[3]!==l||b[4]!==f?(a=function(){k&&(c("mwCMIsAnyCMThread")(g)||c("mwCMIsCMSubthread")(g)&&h)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("mwCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:l,thread_id:(i||(i=d("I64"))).to_string(f)})},e=[f,g,k,l,h],b[0]=k,b[1]=g,b[2]=h,b[3]=l,b[4]=f,b[5]=a,b[6]=e):(a=b[5],e=b[6]);d("Int64Hooks").useEffectInt64(a,e)}g["default"]=a}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a,b,e){var f=j(12),g;f[0]!==e?(g=e===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:e,f[0]=e,f[1]=g):g=f[1];var h=g,k=d("MWChatStateV2.react").useDispatch(),l=a==null?void 0:a.threadKey,m=a==null?void 0:a.clientThreadKey,n=a==null?void 0:a.threadType,o=a==null?void 0:a.authorityLevel;f[2]!==l||f[3]!==o||f[4]!==k||f[5]!==b.tabId||f[6]!==m||f[7]!==h.shouldUpdateThreadType||f[8]!==h.shouldClearOldHiddenTab||f[9]!==n?(e=function(){l!=null&&o!=null&&(i||(i=d("LSIntEnum"))).toNumber(o)>=c("LSAuthorityLevel").AUTHORITATIVE&&k(d("MWChatStateActions").updateThreadKeyDescriptor(b.tabId,l,m,h.shouldUpdateThreadType?n:void 0,{shouldClearOldHiddenTab:h.shouldClearOldHiddenTab}))},g=[b.tabId,l,m,k,o,n,h.shouldUpdateThreadType,h.shouldClearOldHiddenTab],f[2]=l,f[3]=o,f[4]=k,f[5]=b.tabId,f[6]=m,f[7]=h.shouldUpdateThreadType,f[8]=h.shouldClearOldHiddenTab,f[9]=n,f[10]=e,f[11]=g):(e=f[10],g=f[11]);d("Int64Hooks").useEffectInt64(e,g)}g["default"]=a}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a){var b=k(9),c=d("MWChatStateContext").useChatState(l),e=d("MWChatStateV2.react").useDispatch(),f;b[0]!==a.tabType.threadKeyDescriptor||b[1]!==a.tabId||b[2]!==c||b[3]!==e?(f=function(){var b;if(((b=a.tabType.threadKeyDescriptor)==null?void 0:b.threadKey)==null)return;b=Array.from(c.values()).filter(function(b){var c,e=b.tabId;b=b.tabType;return((c=b.threadKeyDescriptor)==null?void 0:c.threadKey)==null||((c=a.tabType.threadKeyDescriptor)==null?void 0:c.threadKey)==null?!1:a.tabId>e&&(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a.tabType.threadKeyDescriptor.threadKey)});b.forEach(function(a){var b=a.closeWatermark,c=a.openWatermark;a=a.tabId;c>b&&e(d("MWChatStateActions").closeTab(Date.now(),a))})},b[0]=a.tabType.threadKeyDescriptor,b[1]=a.tabId,b[2]=c,b[3]=e,b[4]=f):f=b[4];var g;b[5]!==e||b[6]!==a||b[7]!==c?(g=[e,a,c],b[5]=e,b[6]=a,b[7]=c,b[8]=g):g=b[8];j(f,g)}function l(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTab.react",["CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWInThreadBannerNuxReqCondWrapper.react","MAWThreadCutover","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabInThreadBanner.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWOpenAndSecureThreadView.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWRelayChatTabHeaderRoot.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MWXRelayComposer.react","MetaConfig","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:1113","cr:12123","cr:12124","cr:12125","cr:12126","cr:8061","emptyFunction","gkx","promiseDone","react","stylex","useC4gEngagementImpressionLogging","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=j||(j=d("react")),n=j,o=n.memo;n.useCallback;var p=n.useLayoutEffect;n.useMemo;var q=n.useRef,r=n.useState,s=n.c;function a(a,b){a=s(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[!1,!0,null],a[0]=b):b=a[0];return b}var t=(n=b("cr:8061"))!=null?n:a,u=(n=b("cr:12125"))!=null?n:a,v=(n=b("cr:12126"))!=null?n:c("useEmptyFunction"),w=(a=b("cr:1113"))!=null?a:c("useEmptyFunction");function x(a){var b=a.children;a=a.themeFbid;return d("MWPThemeCSSProvider.react").useIsThemeV2()?m.jsx(c("CometTransientDialogProvider.react"),{children:m.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:b})}):m.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:m.jsx(c("CometTransientDialogProvider.react"),{children:b})})}function y(a){var e=s(82),f=a.isMinimized,g=a.otherContactIdForDefaultE2eeThread,h=a.otherContactIdForOnDemandCutover,i=a.shouldUseDefaultE2eeOneToOne,j=a.shouldUseOnDemandCutover,k=a.tab,l=a.thread;a=a.threadLinkHash;var n=l.themeFbid,o=l.threadKey,r=l.threadSubtype,t=l.threadType,u;e[0]!==r||e[1]!==o||e[2]!==t?(u={groupThreadSubtype:r,threadKey:o,threadType:t},e[0]=r,e[1]=o,e[2]=t,e[3]=u):u=e[3];w(u);e[4]!==o||e[5]!==t?(r={threadKey:o,threadType:t},e[4]=o,e[5]=t,e[6]=r):r=e[6];c("useC4gEngagementImpressionLogging")(r);e[7]!==t?(u=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(t),e[7]=t,e[8]=u):u=e[8];r=u;e[9]!==l?(u=d("LSThreadBitOffset").has(167,l),e[9]=l,e[10]=u):u=e[10];u=u;var v=!d("LSThreadBitOffset").has(56,l),y;e[11]!==t?(y=d("LSMessagingThreadTypeUtil").isArmadilloSecure(t),e[11]=t,e[12]=y):y=e[12];t=y;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(y={getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")},e[13]=y):y=e[13];var C=q(y),D=d("MWChatStateContext").useChatState(B);c("useMWCloseDuplicateChatTabs")(k);var E;e[14]!==D||e[15]!==k.tabId?(y=function(){if(D!==k.tabId){var a;(a=C.current)==null?void 0:a.restoreScrollPosition()}},E=[D,k.tabId],e[14]=D,e[15]=k.tabId,e[16]=y,e[17]=E):(y=e[16],E=e[17]);p(y,E);e[18]!==l||e[19]!==r?(y=d("LSThreadBitOffset").has(106,l)&&r&&c("MetaConfig")._("105"),e[18]=l,e[19]=r,e[20]=y):y=e[20];E=y;r=c("gkx")("4889");e[21]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){var a;(a=C.current)==null?void 0:a.jumpToMostRecentMessage()},e[21]=y):y=e[21];y=y;var F;F=r===!0?c("emptyFunction"):y;F=F;r=r===!0?y:c("emptyFunction");y=r;e[22]!==k.tabId||e[23]!==D||e[24]!==l?(r=k.tabId!==D?null:m.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:l}),e[22]=k.tabId,e[23]=D,e[24]=l,e[25]=r):r=e[25];var G;e[26]!==t?(G=t?m.jsx(c("MAWInThreadBannerNuxReqCondWrapper.react"),{}):null,e[26]=t,e[27]=G):G=e[27];e[28]===Symbol["for"]("react.memo_cache_sentinel")?(t=m.jsx(c("MWChatConnectionStatusCard.react"),{}),e[28]=t):t=e[28];var H;e[29]!==l?(H=m.jsx(c("MWChatTabInThreadBanner.react"),{thread:l}),e[29]=l,e[30]=H):H=e[30];var I;e[31]!==E||e[32]!==l?(I=E&&m.jsx(c("MWInboxPinnedMessagesBanner.react"),{thread:l}),e[31]=E,e[32]=l,e[33]=I):I=e[33];e[34]!==f||e[35]!==l?(E=m.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:f,messageListRef:C,thread:l}),e[34]=f,e[35]=l,e[36]=E):E=e[36];e[37]!==o?(f=m.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:y,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:m.jsx(c("MWXRelayComposer.react"),{afterSendMessage:F,isPreviewThread:!1,threadKey:o})})}),e[37]=o,e[38]=f):f=e[38];e[39]!==a||e[40]!==f?(y=m.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:A,children:m.jsx(c("CometErrorBoundary.react"),{fallback:z,children:m.jsx(d("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:a,children:f})})}),e[39]=a,e[40]=f,e[41]=y):y=e[41];e[42]!==v||e[43]!==l||e[44]!==E||e[45]!==y?(F=m.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:v,thread:l,children:[E,y]}),e[42]=v,e[43]=l,e[44]=E,e[45]=y,e[46]=F):F=e[46];e[47]!==r||e[48]!==G||e[49]!==H||e[50]!==I||e[51]!==F?(a=m.jsxs(m.Fragment,{children:[r,G,t,H,I,F]}),e[47]=r,e[48]=G,e[49]=H,e[50]=I,e[51]=F,e[52]=a):a=e[52];f=a;e[53]!==u||e[54]!==k||e[55]!==l||e[56]!==f?(v=u?m.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:k,thread:l,children:f}):null,e[53]=u,e[54]=k,e[55]=l,e[56]=f,e[57]=v):v=e[57];E=v;e[58]!==i||e[59]!==j||e[60]!==o?(y=function(a){return i||j?m.jsx(m.Fragment,{children:a}):m.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:o,children:a})},e[58]=i,e[59]=j,e[60]=o,e[61]=y):y=e[61];t=y;e[62]!==E||e[63]!==i||e[64]!==g||e[65]!==k||e[66]!==j||e[67]!==h||e[68]!==o||e[69]!==f?(r=E!=null?E:i&&b("cr:12124")!=null?m.jsx(b("cr:12124"),{otherContactIdForOptimisticSecureThread:g,tab:k}):j&&b("cr:12123")!=null?m.jsx(b("cr:12123"),{otherContactIdForOnDemandCutoverThread:h,tab:k}):m.jsxs(c("MWV2TabContainer"),{tab:k,threadKey:o,children:[m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:m.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:k}),name:"MWChatTabHeader",children:m.jsx(c("MWRelayChatTabHeaderRoot.react"),{tab:k,threadKey:o})}),f]}),e[62]=E,e[63]=i,e[64]=g,e[65]=k,e[66]=j,e[67]=h,e[68]=o,e[69]=f,e[70]=r):r=e[70];G=r;e[71]!==G?(H=m.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:m.jsx(d("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:G})}),e[71]=G,e[72]=H):H=e[72];e[73]!==n||e[74]!==H?(I=m.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:m.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:m.jsx(x,{themeFbid:n,children:H})})}),e[73]=n,e[74]=H,e[75]=I):I=e[75];e[76]!==t||e[77]!==I?(F=t(I),e[76]=t,e[77]=I,e[78]=F):F=e[78];e[79]!==o||e[80]!==F?(a=m.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:o,children:F}),e[79]=o,e[80]=F,e[81]=a):a=e[81];return a}function z(){return m.jsx(c("MWV2ErrorComposer.react"),{})}z.displayName=z.name+" [from "+f.id+"]";function A(a){return m.jsx(c("CometMessagingChatTabErrorState.react"),{error:a})}A.displayName=A.name+" [from "+f.id+"]";function B(a){return a.focusedTabId}function C(a,b){var e=s(12),g=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a),i=(d("MAWThreadCutover").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(128,b))&&!g&&c("gkx")("24126");e[0]!==a?(b=(l||(l=d("I64"))).to_string(a),e[0]=a,e[1]=b):b=e[1];b=d("MAWThreadCutover").useGetCutoverSecureThreadKey(b);var j=c("gkx")("24126")?b:null,k=(h||(h=c("useReStore")))(),m;e[2]!==i||e[3]!==j||e[4]!==k||e[5]!==a?(b=function(){if(!i)return;if(j==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(k,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(b),{waJid:a})},"readwrite"));else{var b=d("MWChatInteraction").get((l||(l=d("I64"))).to_string(a));if(b!=null){var e;d("MWChatInteraction").set(j,b);(e=c("InteractionTracingMetrics")).addMetadata(b,"thread_id",j);e.addMetadata(b,"thread_type",15..toString());e.addMetadata(b,"is_secure",!0);e.addMetadata(b,"redirectedFromPreCutover",1)}}},m=[j,k,i,a],e[2]=i,e[3]=j,e[4]=k,e[5]=a,e[6]=b,e[7]=m):(b=e[6],m=e[7]);d("Int64Hooks").useEffectInt64(b,m);e[8]!==j||e[9]!==k?(b=function(){return j!=null?d("ReQL").fromTableAscending(k.tables.threads).getKeyRange((l||(l=d("I64"))).of_string(j)):d("ReQL").empty()},m=[k,j],e[8]=j,e[9]=k,e[10]=b,e[11]=m):(b=e[10],m=e[11]);e=d("ReQLSuspense").useFirst(b,m,f.id+":419");b=g?void 0:e;if(b!=null){m=d("LSThreadAttributionStore").getSource(void 0,(l||(l=d("I64"))).to_string(a));m.type==="MWLSEntrypoint"&&m.value!=="unknown"&&d("LSThreadAttributionStore").setSource((l||(l=d("I64"))).to_string(b.threadKey),m.value)}return b}var D={hidden:{display:"x1s85apg",$$css:!0}};function e(a){var b,e,g=s(35),j=a.isMinimized,n=a.tab,o=a.threadKeyDescriptor;a=j===void 0?!1:j;var p=(h||(h=c("useReStore")))(),q=o.clientThreadKey;j=r(o.threadKey);var w=j[0],x=j[1];g[0]!==o.threadKey?(j=function(){x(o.threadKey)},g[0]=o.threadKey,g[1]=j):j=g[1];var z;g[2]!==o.threadKey||g[3]!==q?(z=[o.threadKey,q],g[2]=o.threadKey,g[3]=q,g[4]=z):z=g[4];d("Int64Hooks").useEffectInt64(j,z);j=o.threadLinkHash;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(w,o.threadType,q);g[5]!==p.tables.threads||g[6]!==w?(z=function(){return d("ReQL").fromTableAscending(p.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(w)},g[5]=p.tables.threads,g[6]=w,g[7]=z):z=g[7];var A;g[8]!==p||g[9]!==w?(A=[p,w],g[8]=p,g[9]=w,g[10]=A):A=g[10];z=d("ReQLSuspense").useFirst(z,A,f.id+":478");g[11]!==q||g[12]!==p.tables.threads?(A=function(){return q!=null?d("ReQL").fromTableAscending(p.tables.threads.index("clientThreadKey")).getKeyRange(q):d("ReQL").empty()},g[11]=q,g[12]=p.tables.threads,g[13]=A):A=g[13];var B;g[14]!==p||g[15]!==q?(B=[p,q],g[14]=p,g[15]=q,g[16]=B):B=g[16];var E=d("ReQLSuspense").useFirst(A,B,f.id+":497");g[17]!==E||g[18]!==q||g[19]!==w?(A=function(){if(E==null)return;q!=null&&(l||(l=d("I64"))).equal(w,q)&&!(l||(l=d("I64"))).equal(E.threadKey,w)&&x(E.threadKey)},B=[q,E,w],g[17]=E,g[18]=q,g[19]=w,g[20]=A,g[21]=B):(A=g[20],B=g[21]);d("Int64Hooks").useEffectInt64(A,B);A=C(w,z);B=(A=(B=A)!=null?B:z)!=null?A:E;g[22]===Symbol["for"]("react.memo_cache_sentinel")?(z={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},g[22]=z):z=g[22];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(B,n,z);z=t((A=B==null?void 0:B.threadKey)!=null?A:w,B==null?void 0:B.threadType);A=z[0];var F=z[1];z=z[2];b=u((b=B==null?void 0:B.threadKey)!=null?b:w,B==null?void 0:B.threadType);var G=b[0],H=b[1];b=b[2];e=(e=v({threadKey:(e=B==null?void 0:B.threadKey)!=null?e:w,triggerSource:"chatTab"}))!=null?e:!1;var I=d("MWV2EnsureThatChatTabExists").isOptimisticSecureThread(w,o.threadType,q)&&(B==null||(l||(l=d("I64"))).equal(B.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)));if(B!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(B.threadType)&&(!F||!H)||e||I){g[23]!==a||g[24]!==n?(F=a?null:m.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:n}),g[23]=a,g[24]=n,g[25]=F):F=g[25];return F}if(B!=null){g[26]!==a||g[27]!==B||g[28]!==A||g[29]!==G||g[30]!==z||g[31]!==b||g[32]!==n||g[33]!==j?(H=c("gkx")("3795")?m.jsx(c("LegacyHidden"),{"data-testid":void 0,mode:a?"hidden":"visible",children:m.jsx(y,{isMinimized:a,otherContactIdForDefaultE2eeThread:z,otherContactIdForOnDemandCutover:b,shouldUseDefaultE2eeOneToOne:B!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(B.threadType)&&A,shouldUseOnDemandCutover:B!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(B.threadType)&&G,tab:n,thread:B,threadLinkHash:j})}):m.jsx("div",{className:(i||(i=c("stylex")))(a?D.hidden:void 0),"data-testid":void 0,children:m.jsx(y,{isMinimized:a,otherContactIdForDefaultE2eeThread:z,otherContactIdForOnDemandCutover:b,shouldUseDefaultE2eeOneToOne:B!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(B.threadType)&&A,shouldUseOnDemandCutover:B!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(B.threadType)&&G,tab:n,thread:B,threadLinkHash:j})}),g[26]=a,g[27]=B,g[28]=A,g[29]=G,g[30]=z,g[31]=b,g[32]=n,g[33]=j,g[34]=H):H=g[34];return H}return null}n=o(e);g["default"]=n}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["LSMEBTaskCreationSource","MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext,k=e.c,l=c("requireDeferred")("MAWBridgeIssuePointQueryHandler").__setRef("useMAWFetchSecureMessageByPinnedExternalId");function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.config;a=a.externalId;return babelHelpers["extends"]({},yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)}))});return n.apply(this,arguments)}function o(a,b,c,d,e){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,i){e=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchPinnedMessage"));var j=e.chatJid;e=(yield m({config:{admin:!0,editMsgHistory:!1,media:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:g}));yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(a,e,i);if(e.msgs.length>0||!h)return;var k=(yield l.load());return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield k.call(a,{jid:j,messageId:g,taskSource:c("LSMEBTaskCreationSource").EB_POINT_QUERY_PINNED_MESSAGES,threadId:d("WAJids").threadIdForChatJid(j)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":105")});return p.apply(this,arguments)}function a(a){var b=k(9),e=(h||(h=c("useReStore")))(),g=j(d("MAWStateContext.react").MAWDispatchContext),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={entrypoint:c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},b[0]=i):i=b[0];i=c("useMWEBBackupState")(i);var l=i===3,m;b[1]!==e||b[2]!==a||b[3]!==l||b[4]!==g?(i=function(){return d("ReQL").fromTableDescending(e.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(a).map(function(b){b=b.offlineThreadingId;var h=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("optimistic")).getKeyRange(b),f.id+":136");h==null&&c("promiseDone")(o(e,a,b,l,g));return{message:h,pinnedOfflineThreadingId:b}})},m=[e,a,l,g],b[1]=e,b[2]=a,b[3]=l,b[4]=g,b[5]=i,b[6]=m):(i=b[5],m=b[6]);i=d("ReQLSuspense").useArray(i,m,f.id+":126");b[7]!==i?(m=i.map(r).filter(q),b[7]=i,b[8]=m):m=b[8];return m}function q(a){return!(a==null?void 0:a.isUnsent)}function r(a){return a.message}g["default"]=a}),98);
__d("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate",["I64","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCutoverQPLLogger","MAWJids","QPLUserFlow","ReQL","WABridgedAPI","WALoggerDeferred","asyncToGeneratorRuntime","justknobx","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished successfully for ThreadKey: ",""]);k=function(){return a};return a}var l=(h||d("react")).useCallback,m=c("justknobx")._("2707");function a(){var a=c("useAsyncReStore")();return l(function(e){var f=e.contactId,g=e.isOnDemandCutover,h=e.navigationApi,l=e.qplInstanceKey;d("MAWCutoverQPLLogger").addPoint(l,"tpq_then_navigate_started");c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){function e(a,b){var e=a.clientThreadKey,g=a.threadKey;a=a.threadType;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"thread-point-querying-1-to-1-thread",users:new Set().add(d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(f)))}));d("MAWCutoverQPLLogger").addPoint(l,"navigate_to_thread");d("MAWCutoverQPLLogger").endSuccess(l);h.openTabOrInbox({clientThreadKey:e,threadKey:g,threadType:a},(e=b)!=null?e:"preCutoverThread",void 0,void 0,{subEntrypoint:"threadPointQuery1To1"})}var o=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(f);if(m){var p=(yield d("ReQL").firstAsync(o));d("MAWCutoverQPLLogger").addPoint(l,"check_existing_mapping");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{has_mi_act_mapping:p!=null}});p=p!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(p.serverThreadKey)):null;if(p!=null)if(g===!0){var q=n(f,p.threadKey);e(p,q)}else e(p)}o.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){b=c.operation;if(b==="delete")return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_updated");c=(yield d("ReQL").firstAsync(o));if(c==null)return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_non_null");b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c.serverThreadKey)));if(b==null)return;d("MAWCutoverQPLLogger").addPoint(l,"thread_non_null");if(g===!0){c=n(f,b.threadKey);e(b,c)}else e(b)});return function(a,b){return c.apply(this,arguments)}}());d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_started");c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:f})},"readwrite").then(function(){d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_succeeded"),c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(f))),g===!0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){d("MAWCutoverQPLLogger").endFailure(l,"TPQFailure");a="[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(f)+"\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(j(),a));g===!0&&c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})});return function(b){return a.apply(this,arguments)}}())},[a])}function n(a,b){var c=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(b));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown")return c.value;c=d("LSThreadAttributionStore").getSource(void 0,i.to_string(a));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown"){d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(b),c.value);return c.value}return void 0}g["default"]=a}),98);
__d("useMAWTriggerOnDemandCutover",["I64","Int64Hooks","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","QPLUserFlow","WALoggerDeferred","cr:13127","gkx","promiseDone","qpl","react","useMWNavigation","useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Cutover finished successfully for ThreadKey: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[OD-Cutover] Triggering cutover for ThreadKey: ",""]);m=function(){return a};return a}e=j||d("react");var n=e.useRef,o=e.useState;function a(a){var e=a.threadKey,f=a.triggerSource,g=(h||(h=c("useReStore")))(),j=b("cr:13127")(e),p=n(null);a=o(!1);var q=a[0],r=a[1],s=c("useMWNavigation")(),t=c("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate")();d("Int64Hooks").useEffectInt64(function(){var a=p.current==null||p.current!==j;a&&j&&!c("gkx")("7946")&&(p.current=j,r(!0),c("promiseDone")(d("WALoggerDeferred").LOG(m(),(i||(i=d("I64"))).to_string(e))),c("QPLUserFlow").start(c("qpl")._(1056847893,"505"),{annotations:{bool:{is_non_blocking:!1},string:{entrypoint:f}}}),f==="inbox"?t&&t({contactId:e,isOnDemandCutover:!0,navigationApi:s}):c("LSPlatformWaitForTaskCompletion")(g,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:e})},"readwrite").then(function(){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(e))),c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){a="[OD-Cutover] Cutover finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(e)+".\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(k(),a));c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})["finally"](function(){r(!1)}))},[j,g,s,e,t,f]);return q}g["default"]=a}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","justknobx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useRef,k=e.c,l=c("justknobx")._("2655");function a(a,e){var f=k(5),g=j(null),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m,n;f[0]!==i||f[1]!==a||f[2]!==e?(m=function(){if(i!=="Inbox")return;g.current!=null&&window.clearTimeout(g.current);g.current=window.setTimeout(function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(d){c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(a,e,"useMWInboxMessageSearchRestoreTrigger",function(a,e){d.setActiveThreadId(e);c("promiseDone")(d.startSyncingLoop());return(h||(h=b("Promise"))).resolve()}))}))},l);return function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(a){a.setActiveThreadId(null)})),g.current!=null&&window.clearTimeout(g.current)}},n=[a,i,e],f[0]=i,f[1]=a,f[2]=e,f[3]=m,f[4]=n):(m=f[3],n=f[4]);d("Int64Hooks").useEffectInt64(m,n)}g["default"]=a}),98);