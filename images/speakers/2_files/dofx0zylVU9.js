;/*FB_PKG_DELIM*/

__d("ArrowDownOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsxs("g",{fillRule:"evenodd",transform:"translate(-90 -248)",children:[i.jsx("path",{fillRule:"nonzero",d:"M95.322 258.928a.75.75 0 0 0-1.06 1.06l5.208 5.209a.75.75 0 0 0 1.06 0l5.209-5.208a.75.75 0 0 0-1.06-1.06L100 263.605l-4.678-4.678z"}),i.jsx("path",{fillRule:"nonzero",d:"M99.25 251.333v12.813a.75.75 0 1 0 1.5 0v-12.813a.75.75 0 1 0-1.5 0z"})]})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8673647342749753"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;h||c("react");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect,l=b.c;function a(a){var b=l(4),e=a.description;c("vulture")("3zIgyXtMBIy");var f=j(d("hero-tracing-placeholder").HeroInteractionIDContext),g;b[0]!==f||b[1]!==e?(a=function(){var a=(h||(h=c("performanceNow")))();return function(){if(f!=null){var b=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(f,e,"AppTiming",a,b,{})}}},g=[e,f],b[0]=f,b[1]=e,b[2]=a,b[3]=g):(a=b[2],g=b[3]);k(a,g)}g["default"]=a}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SENDING:1});f["default"]=a}),66);
__d("MAWFetchMessagesForMLv2",["DateConsts","MAWMessagesDirection","MAWSecureLocalDBFetch"],(function(a,b,c,d,e,f,g){"use strict";var h=10*d("DateConsts").MS_PER_SEC;function a(a){var b=a.chatJid,d=a.direction,e=a.includeOriginalMsg,f=a.pageSize;a=a.range;return c("MAWSecureLocalDBFetch")({actionType:"user",chatJid:b,config:{admin:!0,editMsgHistory:!0,media:!0,reactions:!0,receiverFetch:!0,xma:!0},count:f,direction:i(d),offsetMsg:{includeOriginalMsg:e,messageId:d==="asc"?a.maxMessageId:a.minMessageId},timestampMs:d==="asc"?a.maxTimestampMs:a.minTimestampMs},{timeoutMs:h})}function i(a){switch(a){case"asc":return"after";case"desc":return"before";default:a;throw d("MAWMessagesDirection").unhandledDirectionError(a)}}g.fetchMessagesFromMAW=a;g.translateDirectionForMaw=i}),98);
__d("MAWFetchLocalMessagesAndMetadata",["MAWFetchMessagesForMLv2","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,c=a.direction,e=a.pageSize,f=a.range;a=a.sortFn;b=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:b,direction:c,includeOriginalMsg:!0,pageSize:e+1,range:f}));if(b.success===!1)return d("WAResultOrError").makeError(b.error);c=i(b.value.msgs).sort(a);return d("WAResultOrError").makeResult({localMsgsMetadata:c,mawFetchResult:b.value})});return h.apply(this,arguments)}function i(a){return a.map(function(a){return{externalId:a.externalId,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}g["default"]=a}),98);
__d("findMsgsWithMinAndMaxTimestamp",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.filter(function(a){return a.sortOrderMs!=null});var b=null,c=null;for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f,g;if(d){if(e>=a.length)break;g=a[e++]}else{e=a.next();if(e.done)break;g=e.value}g=g;if(g.sortOrderMs==null)continue;(((f=b)==null?void 0:f.sortOrderMs)==null||b.sortOrderMs<g.sortOrderMs)&&(b=g);(((f=c)==null?void 0:f.sortOrderMs)==null||c.sortOrderMs>g.sortOrderMs)&&(c=g)}return[c,b]}f["default"]=a}),66);
__d("MAWMessagesRangesUtils",["I64","MAWMessagesDirection","findMsgsWithMinAndMaxTimestamp"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:"",minTimestampMs:h.min_int,threadKey:a}}function b(a){var b=a.direction,c=a.mawFetchResult;a=a.range;var e=[].concat(c.msgs).sort(function(a,b){return a.sortOrderMs-b.sortOrderMs}),f=e.length>0?e[0]:void 0;e=e.length>0?e[e.length-1]:void 0;switch(b){case"asc":return babelHelpers["extends"]({},a,{hasMoreAfter:c.hasMoreAfter,isLoadingAfter:!1,maxMessageId:(b=e==null?void 0:e.msgId)!=null?b:a.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(a.maxTimestampMs,(e==null?void 0:e.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(e==null?void 0:e.sortOrderMs):a.maxTimestampMs)});case"desc":return babelHelpers["extends"]({},a,{hasMoreBefore:c.hasMoreBefore,isLoadingBefore:!1,minMessageId:(b=f==null?void 0:f.msgId)!=null?b:a.minMessageId,minTimestampMs:(h||(h=d("I64"))).min(a.minTimestampMs,(f==null?void 0:f.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(f==null?void 0:f.sortOrderMs):a.minTimestampMs)})}}function e(a,b){return b==="asc"?a.maxTimestampMs:a.minTimestampMs}function f(a,b,e){var f=c("findMsgsWithMinAndMaxTimestamp")(b.msgs),g=f[0],i=f[1];f=babelHelpers["extends"]({},a,function(){var c;switch(e){case"asc":return{hasMoreAfter:b.hasMoreAfter,isLoadingAfter:!1,maxMessageId:(c=i==null?void 0:i.msgId)!=null?c:a.maxMessageId,maxTimestampMs:(h||(h=d("I64"))).max(a.maxTimestampMs,(i==null?void 0:i.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(i==null?void 0:i.sortOrderMs):a.maxTimestampMs)};case"desc":return{hasMoreBefore:b.hasMoreBefore,isLoadingBefore:!1,minMessageId:(c=g==null?void 0:g.msgId)!=null?c:a.minMessageId,minTimestampMs:(h||(h=d("I64"))).min(a.minTimestampMs,(g==null?void 0:g.sortOrderMs)!=null?(h||(h=d("I64"))).of_float(g==null?void 0:g.sortOrderMs):a.minTimestampMs)};default:e;throw d("MAWMessagesDirection").unhandledDirectionError(e)}}());return f}g.getRangeForFailure=a;g.getNewMAWRange=b;g.getTimestampForRange=e;g.mergeMoreMessagesResponseIntoRange=f}),98);
__d("EBDeanonRangeExtension",["FBLogger","I64","MAWFetchDeanonMetadataUsingCache","MAWFetchLocalMessagesAndMetadata","MAWMessagesDirection","MAWMessagesRangesUtils","MAWMsgType","MAWPutMessagesToDB","MLv2LoggingUtils","Promise","WATagsLogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Filtered deanon data (to be compared with local) ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Skip filtering given that it is a first page"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Raw deanon data ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Encountered unavailable or ciphertext message, EB restore is required"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] MAW fetch failed: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Deanon fetch failed: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Fetching deanon and local data for page size ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] EB restore deanon optimisation is enabled"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] EB restore deanon optimisation is disabled"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Range is not valid for EB deanon ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local external ids do not match de-anon. Local: [","], ToExistInLocal: [","]"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data exists but in the wrong order."]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["Local data was sufficient, skipping EB restore"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not enough local metadata. Expected (","), got (",")."]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["Deanon data is empty, check if de-anon API is enabled: bunnylol labyrinth <user_id>"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["Comparing deanon (size ",") and local (size ",") metadata"]);y=function(){return a};return a}var z=d("WATagsLogger").TAGS(["EBDeanonRangeExtension"]);function A(a){return a.filter(function(a){return a.type_===d("MAWMsgType").MSG_TYPE.UNAVAILABLE||a.type_===d("MAWMsgType").MSG_TYPE.CIPHERTEXT}).length>0}function B(a,b){b=d("MAWMessagesDirection").getI64RangeTimestampForDirection(a,b);switch(a){case"asc":return!(i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).max_int);case"desc":return!(i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).min_int);default:a;throw d("MAWMessagesDirection").unhandledDirectionError(a)}}function a(a){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.db,g=a.direction,i=a.dispatch,t=a.logger,u=a.pageSize;a=a.range;if(!B(g,a)){z.LOG(s(),e,a.threadKey);return(h||(h=b("Promise"))).resolve(null)}if(!c("gkx")("5390")){z.LOG(r(),e);return(h||(h=b("Promise"))).resolve(null)}z.LOG(q(),e);var v=d("MAWMessagesDirection").getSortComparisonFunctionForDirection(g);z.LOG(p(),e,u);t==null?void 0:t.markQPLPoint("maw_fetch_for_deanon_optimisation_start");var w=(yield (h||(h=b("Promise"))).all([d("MAWFetchDeanonMetadataUsingCache").MAWFetchDeanonMetadataUsingCache({chatJid:e,direction:g,includeReferenceTimestamp:!0,logger:t,pageSize:u,range:a,sortFn:v}),c("MAWFetchLocalMessagesAndMetadata")({chatJid:e,direction:g,pageSize:u,range:a,sortFn:v})])),x=w[0];w=w[1];if(x.success===!1){z.WARN(o(),e,x.error);c("FBLogger")("messenger_web_product").warn("EBMessageRangeDataSource: Deanon messages metadata fetch failed, try to fetch messages from EB");return(h||(h=b("Promise"))).resolve(null)}if(w.success===!1){t==null?void 0:t.markQPLPoint("maw_fetch_for_deanon_optimisation_failed");z.WARN(n(),e,w.error);c("FBLogger")("messenger_web_product").warn("EBMessageRangeDataSource: MAW fetch fetch failed, try to fetch messages from EB");return(h||(h=b("Promise"))).resolve(null)}t==null?void 0:t.markQPLPoint("maw_fetch_for_deanon_optimisation_end");w=w.value;var y=w.localMsgsMetadata;w=w.mawFetchResult;if(A(w.msgs)){z.WARN(m(),e);return(h||(h=b("Promise"))).resolve(null)}z.LOG(l(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(x.value));if(d("MAWMessagesDirection").isFirstPageRange(g,a)){z.LOG(k(),e);return E({db:f,deanonMsgsMetadata:x.value,direction:g,dispatch:i,localMsgsMetadata:y,logger:t,mawFetchResult:w,pageSize:u,range:a,sortFn:v})}w=D({mawFetchResult:w,sortedDeanonMsgsMetadata:x.value,sortedLocalMsgsMetadata:y});x=w.filteredDeanonMsgsMetadata;y=w.filteredLocalMsgsMetadata;w=w.filteredMawFetchResult;z.LOG(j(),e,d("MLv2LoggingUtils").getLogStrForMsgsMetadata(x));return E({db:f,deanonMsgsMetadata:x,direction:g,dispatch:i,localMsgsMetadata:y,logger:t,mawFetchResult:w,pageSize:u,range:a,sortFn:v})});return C.apply(this,arguments)}function D(a){var b=a.mawFetchResult,c=a.sortedDeanonMsgsMetadata;a=a.sortedLocalMsgsMetadata;if(a.length===0)return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:b};var d=a[0].externalId,e=a[0].sortOrderMs;a=a.slice(1);c=c.slice(c.findIndex(function(a){return a.externalId===d})+1);var f=b.msgs.filter(function(a){return!(a.externalId===d&&a.sortOrderMs===e)});return{filteredDeanonMsgsMetadata:c,filteredLocalMsgsMetadata:a,filteredMawFetchResult:babelHelpers["extends"]({},b,{msgs:f})}}function E(a){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.db,f=a.deanonMsgsMetadata,g=a.direction,i=a.dispatch,j=a.localMsgsMetadata,k=a.logger,l=a.mawFetchResult,m=a.pageSize,n=a.range;a=a.sortFn;k==null?void 0:k.markQPLPoint("maw_vs_eb_deanon_comparison_start");j=G(j,f,m,a);k==null?void 0:k.markQPLPoint("maw_vs_eb_deanon_comparison_end");k==null?void 0:k.addQPLAnnotations({bool:{is_data_restored_locally_when_extending_range:j}});c("FBLogger")("messenger_web_product").info("EBMessageRangeDataSource: Optimistic range extension using Deanon, isDataPresentLocally: %s",j.toString());if(!j)return(h||(h=b("Promise"))).resolve(null);k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_start","begin inserting the messages into LSDB");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,l,i,k==null?void 0:k.getInstanceKey());k==null?void 0:k.markQPLPoint("insert_msgs_to_lsdb_end");return(h||(h=b("Promise"))).resolve(d("MAWMessagesRangesUtils").getNewMAWRange({direction:g,mawFetchResult:l,range:n}))});return F.apply(this,arguments)}function G(a,b,c,d){z.LOG(y(),b.length,a.length);if(b.length===0){z.WARN(x());return!1}var e=[].concat(b,a).reduce(function(a,b){a[b.externalId]=b;return a},{});b=new Set([].concat(a.map(function(a){return a.externalId}),b.map(function(a){return a.externalId})));b=Array.from(b).map(function(a){return e[a]}).sort(d).slice(0,c);if(a.length<b.length){z.LOG(w(),b.length,a.length);return!1}d=b.every(function(b,c){return b.externalId===a[c].externalId});if(d)z.LOG(v());else{var f=new Set(a.map(function(a){return a.externalId}));b.every(function(a,b){return f.has(a.externalId)})&&z.WARN(u());z.LOG(t(),a.map(function(a){return a.externalId}).join(", "),b.map(function(a){return a.externalId}).join(", "))}return d}g.getRangeFromLocalDataIfConsistent=a;g.excludeOffsetMsg=D;g.isDeanonDataPresentLocally=G}),98);
__d("MAWFetchMessagesFromEBForMLv2",["DateConsts","I64","MAWEBFetch","MAWFetchMessagesForMLv2","MAWMessagesRangesUtils","MAWTraceUtils","MWEncryptedBackUpEBNotEnabledError","Promise","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","gkx","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["EBMessageRangeDataSource: Failed to fetch messages from EB. Message: "," TraceId: "," Request: ",""]);j=function(){return a};return a}var k="timeout",l=c("gkx")("6581")?15*d("DateConsts").MS_PER_SEC:10*d("DateConsts").MS_PER_SEC;function a(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.chatJid,f=a.db,g=a.direction,m=a.logger,o=a.pageSize;a=a.range;m==null?void 0:m.markQPLPoint("wait_eb_fetch_start");var p=d("MAWMessagesRangesUtils").getTimestampForRange(a,g),q=e+":"+(i||(i=d("I64"))).to_string(p)+":"+g+":"+o,r=d("MAWTraceUtils").createTraceId();e=(yield (h||(h=b("Promise"))).race([c("MAWEBFetch")({chatJid:e,count:o,db:f,direction:d("MAWFetchMessagesForMLv2").translateDirectionForMaw(g),timestampMs:p,traceId:r}),new h(function(a){return window.setTimeout(function(){return a(d("WAResultOrError").makeError(k))},l)})]));if(e.success===!1){m==null?void 0:m.markQPLPoint("eb_fetch_response_fail");m==null?void 0:m.addQPLAnnotations({string:{eb_failure_reason:e.error,eb_restore_status:e.error}});e.error!==k&&e.error!==d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED&&d("WATagsLogger").TAGS(["maw_message_core","EBMessageRangeDataSource",r]).ERROR(j(),e.error,r,q);return e}m==null?void 0:m.addQPLAnnotations({string:{eb_restore_status:"success",eb_restore_type:(o=e.value)==null?void 0:o.restoreType}});f=n({direction:g,fetchResult:e.value,range:a});m==null?void 0:m.markQPLPoint("wait_eb_fetch_end");return d("WAResultOrError").makeResult({raw:e.value,recovered:f})});return m.apply(this,arguments)}function n(a){var b=a.direction,e=a.fetchResult,f=a.range;a=b==="asc"?e.messages.filter(function(a){return a.sortOrderMs!=null&&(i||(i=d("I64"))).ge((i||(i=d("I64"))).of_float(a.sortOrderMs),f.maxTimestampMs)}):e.messages.filter(function(a){return a.sortOrderMs!=null&&(i||(i=d("I64"))).le((i||(i=d("I64"))).of_float(a.sortOrderMs),f.minTimestampMs)});var g=babelHelpers["extends"]({},e,{messages:a});a.length!==e.messages.length&&c("recoverableViolation")("EBMessageRangeDataSource: EB fetch API returned invalid messages outside requested timerange","messenger_web_product");a.length===0&&(b==="asc"&&e.hasMoreAfter&&(g.hasMoreAfter=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages after","messenger_web_product")),b==="desc"&&e.hasMoreBefore&&(g.hasMoreBefore=!1,c("recoverableViolation")("EBMessageRangeDataSource: Unexpected null messages before","messenger_web_product")));return g}g["default"]=a}),98);
__d("MAWWaitForACTThreadReadyForMLv2",["MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReady","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,c));e==null?void 0:e.addQPLAnnotations({string:{mi_act_thread_state_type:f.type}});e=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a,b,c));return e});return h.apply(this,arguments)}g.waitForACTThreadReadyForMLv2=a}),98);
__d("MessageRangeSet",["I64","ReplayLastSubject","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.value=a;return c}var c=a.prototype;c.next=function(a){this.value=a,b.prototype.next.call(this,a)};return a}(d("ReplayLastSubject").ReplayLastSubject),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];e.forEach(function(a){c.subscribe({complete:function(){return a.complete()},error:function(b){return a.error(b)},next:function(b){return a.next(b)}})});c.next(a);return c}return a}(i);a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.$2=function(a){for(var b=this.$1,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;var g=f.value;if((h||(h=d("I64"))).le(g.minTimestampMs,a)&&((h||(h=d("I64"))).ge(g.maxTimestampMs,a)||!g.hasMoreAfter))return f}return null};b.getRangeForTimestamp=function(a){return this.$2(a)};b.upsertRange=function(a){var b=Array.from(this.$1.values()).filter(function(b){return l(b.value,a)});if(b.length===0){var c=new i(a);this.$1.add(c);return c}c=k.apply(void 0,b.map(function(a){return a.value}).concat([a]));if(b.length===1){var d=b[0];d.next(c);return d}for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;this.$1["delete"](g)}g=babelHelpers.construct(j,[c].concat(b));this.$1.add(g);return g};return a}();function k(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];if(b.length===0)throw c("err")("Cannot merge 0 ranges");var f=b[0].threadKey,g=b[0].minTimestampMs,i=b[0].hasMoreAfter,j=b[0].hasMoreBefore,k=b[0].maxMessageId,l=b[0].minMessageId,m=b[0].maxTimestampMs;for(var n=1;n<b.length;n++){var o=b[n];(h||(h=d("I64"))).le(o.minTimestampMs,g)&&((h||(h=d("I64"))).equal(o.minTimestampMs,g)?j=j&&o.hasMoreBefore:j=o.hasMoreBefore,g=o.minTimestampMs,l=o.minMessageId);(h||(h=d("I64"))).ge(o.maxTimestampMs,m)&&((h||(h=d("I64"))).equal(o.maxTimestampMs,m)?i=i&&o.hasMoreAfter:i=o.hasMoreAfter,m=o.maxTimestampMs,k=o.maxMessageId)}return{hasMoreAfter:i,hasMoreBefore:j,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:k,maxTimestampMs:m,minMessageId:l,minTimestampMs:g,threadKey:f}}function l(a,b){var c=(h||(h=d("I64"))).le(b.minTimestampMs,a.minTimestampMs),e=c?b:a;c=c?a:b;return m(e,c.minTimestampMs)?!0:!1}function m(a,b){return(h||(h=d("I64"))).ge(b,a.minTimestampMs)&&(h||(h=d("I64"))).le(b,a.maxTimestampMs)}g["default"]=a}),98);
__d("switchMap",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("relay-runtime").Observable.create(function(c){var d,e=a.subscribe({complete:c.complete,error:c.error,next:function(a){var e;(e=d)==null?void 0:e.unsubscribe();d=b(a).subscribe(c)}});return function(){var a;(a=d)==null?void 0:a.unsubscribe();e.unsubscribe()}})}g["default"]=a}),98);
__d("EBMessageRangeDataSource",["EBDeanonRangeExtension","FBLogger","I64","LSDatabaseSingleton","LSEncryptedBackupsBackupTenancy","LSIntEnum","MAWEncryptedBackupUtils","MAWFetchMessagesForMLv2","MAWFetchMessagesFromEBForMLv2","MAWMessageIntegrityEBFetchStatus","MAWMessagesRangesUtils","MAWPutMessagesToDB","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MessageRangeSet","Promise","ReQL","ReQLObservable","ReplayLastSubject","asyncToGeneratorRuntime","err","findMsgsWithMinAndMaxTimestamp","gkx","justknobx","nullthrows","qex","recoverableViolation","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=20;e=c("justknobx")._("3177");var m=Math.max(3,e-5),n=function(){function a(a){var e=this;this.$2=new(c("MessageRangeSet"))();this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){c=e.$2.getRangeForTimestamp(a.timestampMs);b==null?void 0:b.annotateMessageRangesDataSource("EBMessageRangeDataSource");if(c!=null)return c;b=(k||(k=d("I64"))).equal(a.timestampMs,k.max_int);c={hasMoreAfter:!b,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(c=a.messageId)!=null?c:"",maxTimestampMs:a.timestampMs,minMessageId:(b=a.messageId)!=null?b:"",minTimestampMs:a.timestampMs,threadKey:e.$1};b=e.$2.upsertRange(c);return b};this.extendRange=function(a,f,g,i){var j=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,f);a=e.$2.getRangeForTimestamp(a.minTimestampMs);if(a==null){c("recoverableViolation")("EBDataSource: Requested to extend a nonexisting range","maw_message_core");j==null?void 0:j.markQPLPoint("extend_range_invalid");return(h||(h=b("Promise"))).resolve()}var k=a.value;if(f==="asc"&&(!k.hasMoreAfter||k.isLoadingAfter)){j==null?void 0:j.markQPLPoint("extend_range_skipped");return(h||(h=b("Promise"))).resolve()}if(f==="desc"&&(!k.hasMoreBefore||k.isLoadingBefore)){j==null?void 0:j.markQPLPoint("extend_range_skipped");return(h||(h=b("Promise"))).resolve()}a.next(babelHelpers["extends"]({},k,{isLoadingAfter:k.isLoadingAfter||f==="asc",isLoadingBefore:k.isLoadingBefore||f==="desc"}));return e.$3(a.value,f,g,i)};this.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g){var h=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,b),j=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);h==null?void 0:h.markQPLPoint("eb_wait_act_thread_start");var k=(yield d("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2(j.tables,e.$1,"MAWMessageRangeDataSourceForThread",h));k=k.chatJid;h==null?void 0:h.markQPLPoint("eb_wait_act_thread_end");f=c("qex")._("365")===!0?f:l;var m=(yield d("EBDeanonRangeExtension").getRangeFromLocalDataIfConsistent({chatJid:k,db:j,direction:b,dispatch:g,logger:h,pageSize:f,range:a}));if(m!=null){h==null?void 0:h.addQPLAnnotations({string:{eb_restore_status:"skipped"}});h==null?void 0:h.markQPLPoint("maw_upsert_range_from_local_start");e.$2.upsertRange(babelHelpers["extends"]({},m,{threadKey:e.$1}));h==null?void 0:h.markQPLPoint("maw_upsert_range_from_local_end");return}h==null?void 0:h.addQPLAnnotations({string:{eb_restore_status:"pending"}});m=(yield c("MAWFetchMessagesFromEBForMLv2")({chatJid:k,db:j,direction:b,logger:h,pageSize:f,range:a}));if(m.success===!1){d("MAWMessageIntegrityEBFetchStatus").recordEBFailure(e.$1);if(c("gkx")("8557")){var n=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:k,direction:b,includeOriginalMsg:!1,pageSize:f,range:a}));if(n.success===!1){e.$2.upsertRange(d("MAWMessagesRangesUtils").getRangeForFailure(e.$1));return}n=d("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(a,n.value,b);e.$2.upsertRange(n)}else e.$2.upsertRange(d("MAWMessagesRangesUtils").getRangeForFailure(e.$1));return}h==null?void 0:h.markQPLPoint("maw_fetch_messages_from_eb_range_start");n=(yield d("MAWFetchMessagesForMLv2").fetchMessagesFromMAW({chatJid:k,direction:b,includeOriginalMsg:!1,pageSize:f,range:a}));if(n.success===!1){h==null?void 0:h.markQPLPoint("maw_fetch_messages_from_eb_range_failed");throw(k=n.payload)!=null?k:c("err")(n.error)}h==null?void 0:h.markQPLPoint("maw_fetch_messages_from_eb_range_end");h==null?void 0:h.markQPLPoint("insert_msgs_to_lsdb_start","begin inserting the messages into LSDB");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(j,n.value,g,h==null?void 0:h.getInstanceKey());h==null?void 0:h.markQPLPoint("insert_msgs_to_lsdb_end");e.$4({direction:b,ebFetchResult:m.value,logger:h,mawFetchResult:n.value,range:a})});return function(b,c,d,e){return a.apply(this,arguments)}}();this.$1=a}var e=a.prototype;e.$4=function(a){var b=a.direction,e=a.ebFetchResult,f=a.logger,g=a.mawFetchResult,h=a.range;f==null?void 0:f.markQPLPoint("maw_upsert_range_from_eb_start");var i=e.raw,j=e.recovered.messages;a=j.map(function(a){return a.sortOrderMs}).filter(Boolean);a=[Math.min.apply(Math,a),Math.max.apply(Math,a)];var l=a[0];a=a[1];var n=d("MAWMessagesRangesUtils").getTimestampForRange(h,b),o=b==="desc"?[(k||(k=d("I64"))).of_float(l),n]:[n,(k||(k=d("I64"))).of_float(a)];l=g.msgs.filter(function(a){return(k||(k=d("I64"))).ge((k||(k=d("I64"))).of_float(a.sortOrderMs),o[0])&&(k||(k=d("I64"))).le((k||(k=d("I64"))).of_float(a.sortOrderMs),o[1])});var p,q;if(l.length===0){n=c("gkx")("842")||c("gkx")("4767");if(!n){c("recoverableViolation")("EBMessageRangeDataSource: No local messages found within EB response range","messenger_web_product");f==null?void 0:f.markQPLPoint("eb_fetch_has_no_local_msg_overlap");this.$2.upsertRange(d("MAWMessagesRangesUtils").getRangeForFailure(this.$1));return}c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: No local messages found within EB response range for protobuf. Filtered EB payload size: %s, original EB payload size: %s, original EB hasMoreBefore: %s, original EB hasMoreAfter: %s",j.length,i.messages.length,i.hasMoreBefore,i.hasMoreAfter);j.sort(function(a,b){return((a=a.sortOrderMs)!=null?a:0)-((a=b.sortOrderMs)!=null?a:0)});p=j.length>0?j[0]:void 0;q=j.length>0?j[j.length-1]:void 0}else{a=c("findMsgsWithMinAndMaxTimestamp")(l);p=a[0];q=a[1]}g=babelHelpers["extends"]({},h,function(){switch(b){case"asc":var a,f;a=(a=(a=q)==null?void 0:a.msgId)!=null?a:h.maxMessageId;f=(k||(k=d("I64"))).max(h.maxTimestampMs,((f=q)==null?void 0:f.sortOrderMs)!=null?(k||(k=d("I64"))).of_float((f=q)==null?void 0:f.sortOrderMs):h.maxTimestampMs);if(i.hasMoreAfter===!0){var g=!1;(k||(k=d("I64"))).equal(h.maxTimestampMs,f)&&h.maxMessageId===a?(c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: stuck in the same max timestamp: %s",(k||(k=d("I64"))).to_string(f)),c("gkx")("5340")&&(g=!0,f=(k||(k=d("I64"))).add(f,k.of_int32(1)))):j.length<m&&c("gkx")("5340")&&(g=!0);g&&(f=(k||(k=d("I64"))).equal(f,(k||(k=d("I64"))).max_int)?f:(k||(k=d("I64"))).add(f,(k||(k=d("I64"))).of_int32(1)))}return{hasMoreAfter:e.recovered.hasMoreAfter,isLoadingAfter:!1,maxMessageId:a,maxTimestampMs:f};case"desc":f=(a=(g=p)==null?void 0:g.msgId)!=null?a:h.minMessageId;g=(k||(k=d("I64"))).min(h.minTimestampMs,((g=p)==null?void 0:g.sortOrderMs)!=null?(k||(k=d("I64"))).of_float((a=p)==null?void 0:a.sortOrderMs):h.minTimestampMs);if(i.hasMoreBefore===!0){a=!1;(k||(k=d("I64"))).equal(h.minTimestampMs,g)&&h.minMessageId===f?(c("FBLogger")("messenger_web_product").mustfix("EBMessageRangeDataSource: stuck in the same min timestamp: %s",(k||(k=d("I64"))).to_string(g)),c("gkx")("5340")&&(a=!0)):j.length<m&&c("gkx")("5340")&&(a=!0);a&&(g=(k||(k=d("I64"))).equal(g,(k||(k=d("I64"))).min_int)?g:(k||(k=d("I64"))).sub(g,(k||(k=d("I64"))).of_int32(1)))}return{hasMoreBefore:e.recovered.hasMoreBefore,isLoadingBefore:!1,minMessageId:f,minTimestampMs:g}}}());this.$2.upsertRange(g);f==null?void 0:f.markQPLPoint("maw_upsert_range_from_eb_end")};return a}(),o=function(){function a(a){var e=this;this.$1=new Map();this.$3=!1;this.getOrCreateMessageRangeCoveringCursor=function(a,b,f){var g=a.threadKey;return c("switchMap")(e.$2,function(c){return!c?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(k||(k=d("I64"))).max_int,minMessageId:"",minTimestampMs:k.min_int,threadKey:g})):d("relay-runtime").Observable.from(e.$4(g).getOrCreateMessageRangeCoveringCursor(a,b,f))})};this.extendRange=function(a,c,f,g){var i=a.threadKey,j=d("MLV2DataSourceLogger").getMLV2LoggerForThread(i,c);if(!e.$3){j==null?void 0:j.markQPLPoint("eb_extend_range_skipped_due_to_disabled");return(h||(h=b("Promise"))).resolve()}return e.$4(i).extendRange(a,c,f,g)};this.$2=d("ReQLObservable").create(a,function(){return d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state).take(1).map(function(a){var b=d("MAWEncryptedBackupUtils").getBackupTenancyFromClientStateRow(a);b!=null&&a.backupTenancy==null&&c("FBLogger")("messenger_web_product").warn("Previously broken state of invalid backup tenancy is caught");return b!=null&&(k||(k=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))})}).map(function(a){return Boolean(a==null?void 0:(a=a[0])==null?void 0:a[1])})["do"]({next:function(a){e.$3=a}})}var e=a.prototype;e.$4=function(a){var b=(k||(k=d("I64"))).to_string(a);if(!this.$1.has(b)){a=new n(a);this.$1.set(b,a)}return c("nullthrows")(this.$1.get(b))};return a}(),p,q;function a(a){(p==null||q!==a)&&(q=a,p=new o(a));return p}g["default"]=a}),98);
__d("FBIconArrowLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M100.655 923.405a.75.75 0 0 0-1.06-1.06l-3.125 3.125a.75.75 0 0 0 0 1.06l3.125 3.125a.75.75 0 0 0 1.06-1.06L98.061 926l2.594-2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105 925.25h-7.688a.75.75 0 1 0 0 1.5H105a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconArrowRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBellNullFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M106.97 927.5c1.023 0 1.03-1 1.03-1 .011-1.229-1.33-1.98-1.33-2.92l-.038-.884c-.145-1.81-1.497-3.196-3.132-3.196s-2.987 1.386-3.132 3.197l-.039.884c0 .938-1.34 1.69-1.329 2.919 0 0 .007 1 1.03 1h6.94z",transform:"translate(352.5 155.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.97 928c.64 0 1.097-.296 1.342-.77.14-.27.187-.53.188-.726.006-.618-.196-1.076-.663-1.737l-.356-.492-.057-.083-.067-.108c-.113-.185-.171-.328-.184-.452l-.042-.958c-.166-2.08-1.726-3.674-3.63-3.674-1.906 0-3.466 1.595-3.631 3.657l-.04.901c0 .138-.044.276-.142.45l-.084.14-.058.088-.286.395c-.536.737-.766 1.214-.76 1.874.002.195.048.455.188.725.245.474.702.77 1.342.77h6.94zm0-1h-6.94c-.255 0-.376-.079-.455-.23a.688.688 0 0 1-.075-.274c-.003-.356.132-.66.489-1.165l.296-.408.114-.166c.035-.052.067-.102.097-.151.193-.315.306-.605.329-.91l.043-.977c.124-1.546 1.272-2.719 2.632-2.719s2.508 1.173 2.633 2.736l.038.867c0 .327.116.649.333 1.003.045.074.094.149.151.232l.169.235.107.147c.418.574.573.895.57 1.276-.001.053-.022.169-.076.274-.079.151-.2.23-.455.23z",transform:"translate(352.5 155.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M101.95 929a.203.203 0 0 0-.137.352c.434.4 1.03.648 1.687.648s1.253-.247 1.688-.648a.203.203 0 0 0-.138-.352h-3.1zm2.55-10a1 1 0 1 1-2 0 1 1 0 0 1 2 0",transform:"translate(352.5 155.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCamcorderFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .157.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-4.562-1.557h-5.043A1.98 1.98 0 0 0 450 1076.5v6.021a1.98 1.98 0 0 0 1.978 1.979h5.043a1.98 1.98 0 0 0 1.979-1.979v-6.021a1.98 1.98 0 0 0-1.978-1.979"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconFaceHappyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458.508 1078.5a1 1 0 1 1-.015-2.002 1 1 0 0 1 .015 2.002m-.037 1.668c-.324.91-1.273 1.832-2.46 1.832h-.002c-1.2 0-2.157-.922-2.48-1.832a.5.5 0 1 1 .942-.335c.204.573.835 1.167 1.538 1.167h.001c.692 0 1.315-.593 1.519-1.168a.5.5 0 0 1 .942.335m-5.971-2.667a1 1 0 1 1 2 0 1 1 0 0 1-2 0m3.5-3.5a5.506 5.506 0 0 0-5.5 5.5c0 3.033 2.467 5.5 5.5 5.5s5.5-2.467 5.5-5.5-2.467-5.5-5.5-5.5"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconNaviconFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.75 1077.5h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPhotoAddFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M107.5 923.64a.682.682 0 0 1-.07-.003l-1.567-.146-.148 1.579a.75.75 0 0 1-1.493-.14l.148-1.579-1.43-.134a.75.75 0 0 1-.677-.816.744.744 0 0 1 .816-.677l1.431.134.133-1.428a.749.749 0 1 1 1.493.14l-.133 1.428 1.567.146a.75.75 0 0 1-.07 1.497m1.126-6.13-5.797-.51a1.512 1.512 0 0 0-1.63 1.377l-.693 7.966c-.035.402.088.794.347 1.104.26.31.622.501 1.022.537l5.795.51a1.485 1.485 0 0 0 1.098-.35c.308-.26.498-.625.533-1.027l.693-7.967a1.506 1.506 0 0 0-.347-1.104 1.494 1.494 0 0 0-1.022-.537",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M100.27 927.842a2.528 2.528 0 0 1-.565-1.83l.165-1.926-.403-4.71a.183.183 0 0 1 .042-.132.178.178 0 0 1 .12-.065l.665-.06.09-1.037c.013-.167.046-.329.09-.484l-.973.087c-.437.038-.833.25-1.116.595a1.696 1.696 0 0 0-.379 1.227l.638 7.46c.038.448.245.853.582 1.142a1.61 1.61 0 0 0 1.2.389l.574-.052a2.456 2.456 0 0 1-.73-.604",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconShareFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M102 936.5c-1.903 0-3.847.017-5.811 3.326-.053.09-.192.048-.189-.057.213-8.03 6-7.769 6-7.769v-2.75c0-.112.17-.112.25-.034l4.712 4.978c.05.05.05.132 0 .182l-4.712 4.879c-.08.078-.25.022-.25-.091V936.5z",transform:"translate(354.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m101.352 937.011-.293.015c-1.954.125-3 .734-4.258 2.755l-.182.299c-.318.539-1.136.291-1.119-.324.096-3.613 1.284-5.962 3.22-7.246a6.126 6.126 0 0 1 2.136-.888c.235-.05.452-.082.644-.1v-2.272c0-.673.751-.733 1.113-.377l4.7 4.966a.625.625 0 0 1 .009.884l-4.722 4.888c-.385.378-1.1.127-1.1-.447v-2.157l-.148.004zm-4.637 1.151c1.39-1.738 2.83-2.162 5.285-2.162h.5v2.276l3.857-3.993-3.857-4.075v2.315l-.521-.023-.08-.001a5.134 5.134 0 0 0-2.627.845c-1.345.891-2.28 2.412-2.628 4.728l-.03.22.1-.13z",transform:"translate(354.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconWorkplaceChatFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M456 1073.5a6 6 0 0 0-5.144 9.09l-.856 2.91 3.065-.766A6 6 0 1 0 456 1073.5"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6517941274957526"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return b("cr:3116")(b("cr:2998"),a,void 0,void 0,{baseModalProps:c})}g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["FDSButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(12),d=a.context,e=a.label,f=a.onClose,g=a.onPress,h=a.setPWDismissTime;b[0]!==d?(a={proactive_warning_request_context:d,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"},b[0]=d,b[1]=a):a=b[1];d=c("useIXTProactiveWarningFlowTriggerDialog")(a);var k=d[0];b[2]!==f?(a=function(){f()},b[2]=f,b[3]=a):a=b[3];var l=a;b[4]!==h||b[5]!==g||b[6]!==k||b[7]!==l?(d=function(){h(),g(),k({flowCallbacks:{onClose:l}})},b[4]=h,b[5]=g,b[6]=k,b[7]=l,b[8]=d):d=b[8];b[9]!==e||b[10]!==d?(a=j.jsx(c("FDSButton.react"),{label:e,onPress:d,reduceEmphasis:!1,type:"secondary"}),b[9]=e,b[10]=d,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearReactionsV2DetailsAndRangeStoredProcedure";e.exports=a}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearReactionsV2DetailsAndRange")(a)}g["default"]=a}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("LSContactCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGE:0,REPLY_MESSAGE:1,JOIN_GROUP:2,BLOCK:3,SEE:4,SEE_FACEBOOK_PROFILE:5,PAYMENT:6,CAMERA:7,MEDIA_PICKER:8,STICKER:9,GIF:10,AUDIO_CLIPS:11,SHARED_MEDIA:12,REACTIONS:13,SEEN_HEADS:14,THREAD_DETAILS:15,RTC_VIDEO_CALL:16,RTC_VOICE_CALL:17,THREAD_FEEDBACK_AND_REPORT:18,GO_TO_SECRET_CONVERSATION:19,MAKE_ADMIN:20,REMOVE_FROM_GROUP:21,REMOVE_AS_ADMIN:22,VERIFIED:23,DISAPPEARING_MODE:24,SEE_MESSAGE:25,PSEUDO_BLOCK:26,PUSHABLE:27,MESSAGE_BLOCK_PLACED:28,FACEBOOK_BLOCK_PLACED:29,VIEWER_IS_UNCONNECTED:64,PAGE_PLATFORM_BOT:65,RESTRICT_PLACED:66,IS_XAC_ELIGIBLE:67,IS_GROUPS_XAC_ELIGIBLE:68,IS_GROUPS_XAC_CALLING_ELIGIBLE:69,IS_E2EE_ONLY:70,IS_ELIGIBLE_FOR_SAFETY_NOTICE:71,NOVI:72,IS_CONTACT_SHAREABLE:73,IS_HIDDEN:74,IS_THREAD_CUTOVER_USER:75,HAS_CUTOVER_THREAD:76,IS_COMMUNITY_BOT_PAGE:77,IS_NOT_SEARCHABLE:78,CAN_UPSELL_VOICEMAIL:79,DEFAULT_E2EE_THREADS:80,INCALL_CAPTIONS:81,IS_INTERNAL:82,DEFAULT_E2EE_THREAD_ONE_TO_ONE:83,IS_GROUP_UPDATES_BOT:84,LINK_TO_IG_PROFILE:85,IS_MARKETPLACE_NOT_CONSENTED:86,IS_GAMING_NOT_CONSENTED:87,DISABLE_MP_DMA_THREAD_COMPOSER:88,IS_GAMING_CONSENT_UNDECIDED:89,IS_GAMING_CONSENTED:90,IS_MSPLIT_NOT_CONSENTED:91,IS_MSPLIT_CONSENT_UNDECIDED:92,WORK_CHAT_GOVERNANCE_BLOCKED:93,HAS_P2P_DISAPPEARING_MESSAGES_THREAD:94,HAS_INSTAMADILLO_CUTOVER_THREAD:95,HAS_TTLC_CLIP_ENABLED:96,HAS_TTLC_GENERIC_XMA_SHARE_ENABLED:97,HAS_TTLC_MEDIA_SHARE_ENABLED:98,HAS_TTLC_STORY_SHARE_ENABLED:99,ELIGIBLE_FOR_META_VERIFIED_LABEL:100,HAS_JENGA_WORKCHAT_DEFLECTION_ENABLED:101,RESTRICT_CREATING_GROUP_THREAD:102,IS_USER_GENERATED_CHARACTER_BOT:103,IS_FRIENDING_RESTRICTED:104});f["default"]=a}),66);
__d("LS_Contact",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.phoneNumber}function d(a){return a.value.normalizedNameForSearch}function e(a){return a.value.profilePictureFallbackUrl}function g(a){return a.value.profilePictureUrlExpirationTimestampMs}function h(a){return a.value.profilePictureLargeUrl}function i(a){return a.value.profilePictureLargeFallbackUrl}function j(a){return a.value.profilePictureLargeUrlExpirationTimestampMs}function k(a){return a.value.contactReachabilityStatusType}function l(a){return a.value.capabilities2}function m(a){return a.value.id}function n(a){return a.value.profilePictureUrl}function o(a){return a.value.name}function p(a){return a.value.normalizedSearchTerms}function q(a){return a.value.isMessengerUser}function r(a){return a.value.isMemorialized}function s(a){return a.value.isManagedByViewer}function t(a){return a.value.blockedByViewerStatus}function u(a){return a.value.optimisticBlockedByViewerStatus}function v(a){return a.value.optimisticBlockedByViewerStatusTimestampMs}function w(a){return a.value.pendingMnUserBlockAction}function x(a){return a.value.pendingMnUserBlockActionTimestampMs}function y(a){return a.value.pendingFbUserBlockAction}function z(a){return a.value.pendingFbUserBlockActionTimestampMs}function A(a){return a.value.rank}function B(a){return a.value.firstName}function C(a){return a.value.contactType}function D(a){return a.value.pendingMessengerRestrictAction}function E(a){return a.value.contactTypeExact}function F(a){return a.value.messengerCallLogThirdPartyId}function G(a){return a.value.profileRingColor}function H(a){return a.value.requiresMultiway}function I(a){return a.value.blockedSinceTimestampMs}function J(a){return a.value.fbUnblockedSinceTimestampMs}function K(a){return a.value.canViewerMessage}function L(a){return a.value.emailAddress}function M(a){return a.value.profileRingColorExpirationTimestampMs}function N(a){return a.value.workCompanyId}function O(a){return a.value.workCompanyName}function P(a){return a.value.workJobTitle}function Q(a){return a.value.profileRingState}function R(a){return a.value.deviceContactId}function S(a){return a.value.workForeignEntityType}function T(a){return a.value.capabilities}function U(a){return a.value.contactViewerRelationship}function V(a){return a.value.gender}function W(a){return a.value.secondaryName}function X(a){return a.value.username}function Y(a){return a.value.restrictionType}function Z(a){return a.value.waConnectStatus}function $(a){return a.value.isEmployee}function aa(a){return a.value.pageType}function ba(a){return a.value.authorityLevel}f.__context=a;f.__lightspeed_table_row=b;f.phone_number=c;f.normalized_name_for_search=d;f.profile_picture_fallback_url=e;f.profile_picture_url_expiration_timestamp_ms=g;f.profile_picture_large_url=h;f.profile_picture_large_fallback_url=i;f.profile_picture_large_url_expiration_timestamp_ms=j;f.contact_reachability_status_type=k;f.capabilities_2=l;f.id_=m;f.profile_picture_url=n;f.name=o;f.normalized_search_terms=p;f.is_messenger_user=q;f.is_memorialized=r;f.is_managed_by_viewer=s;f.blocked_by_viewer_status=t;f.optimistic_blocked_by_viewer_status=u;f.optimistic_blocked_by_viewer_status_timestamp_ms=v;f.pending_mn_user_block_action=w;f.pending_mn_user_block_action_timestamp_ms=x;f.pending_fb_user_block_action=y;f.pending_fb_user_block_action_timestamp_ms=z;f.rank=A;f.first_name=B;f.contact_type=C;f.pending_messenger_restrict_action=D;f.contact_type_exact=E;f.messenger_call_log_third_party_id=F;f.profile_ring_color=G;f.requires_multiway=H;f.blocked_since_timestamp_ms=I;f.fb_unblocked_since_timestamp_ms=J;f.can_viewer_message=K;f.email_address=L;f.profile_ring_color_expiration_timestamp_ms=M;f.work_company_id=N;f.work_company_name=O;f.work_job_title=P;f.profile_ring_state=Q;f.device_contact_id=R;f.work_foreign_entity_type=S;f.capabilities=T;f.contact_viewer_relationship=U;f.gender=V;f.secondary_name=W;f.username=X;f.restriction_type=Y;f.wa_connect_status=Z;f.is_employee=$;f.page_type=aa;f.authority_level=ba}),66);
__d("LSContactHasCapability__has_capability$normalization.graphql",["LS_Contact","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSContactHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").capabilities_2,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSContactHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSContactHasCapability__has_capability",selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null}],type:"LS_Contact",abstractKey:null};e.exports=a}),null);
__d("LSEditMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,(b.i64.eq(a[1],b.i64.cast([0,20]))||b.i64.le(d.authorityLevel,a[1]))&&b.i64.le(a[3],b.i64.cast([0,5]))?b.forEach(b.filter(b.db.table(12).fetch([[[d.threadKey,d.timestampMs,a[0]]]]),function(c){return b.i64.eq(c.threadKey,d.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,d.timestampMs)&&c.messageId===a[0]}),function(c){var d=c.update;c.item;return d({authorityLevel:a[1],editCount:a[3],text:a[2],sendStatus:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2]),sendStatusV2:b.i64.eq(a[1],b.i64.cast([0,20]))?b.i64.cast([0,1]):b.i64.cast([0,2])})}):b.resolve())})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxEditMessageStoredProcedure";e.exports=a}),null);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchAdditionalThreadDataStoredProcedure";e.exports=a}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSFetchAdditionalThreadData")(b.threadKey,a)}g["default"]=a}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(f=e.item,c.sequence([function(e){return d[5]=f.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],void 0)&&c.i64.ge(d[4],d[5])?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],void 0)&&f.tag!==void 0?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure";e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSFetchProactiveWarningsIfNeeded")(b.threadKey,a)}g["default"]=a}),98);
__d("LSGroupPollEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});f["default"]=a}),66);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure";e.exports=a}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSIssuePointQueryForRollCallConversion")(b.threadKey,b.rollCallId,a)}g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure";e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSOptimisticEditMessage")(b.messageId,b.text,a)}g["default"]=a}),98);
__d("getOrRequestMWChatPresenceStatusForContactId",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerMQTTPresence").__setRef("getOrRequestMWChatPresenceStatusForContactId");function a(a,b){var c=a.getStatus(b);a=a.getChatVisibility();if(c!=null||!a)return c;h.onReady(function(a){return a.sendAdditionalBuddyRequest(b)})}g["default"]=a}),98);
__d("useMWChatHasActiveContact",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useState,m=b.c;function a(a){var b=m(10),e=j(c("PresenceStatusContext")),f;b[0]!==e?(f=function(a){return a.map((i||(i=d("I64"))).to_string).some(function(a){a=c("getOrRequestMWChatPresenceStatusForContactId")(e,a);return(a==null?void 0:a.status)===2})},b[0]=e,b[1]=f):f=b[1];var g=f;b[2]!==g||b[3]!==a?(f=g(a),b[2]=g,b[3]=a,b[4]=f):f=b[4];f=l(f);var h=f[0],n=f[1],o;b[5]!==e||b[6]!==g||b[7]!==a?(f=function(){return e.addListener(function(){return n(g(a))})},o=[a,g,e],b[5]=e,b[6]=g,b[7]=a,b[8]=f,b[9]=o):(f=b[8],o=b[9]);k(f,o);return h}g["default"]=a}),98);
__d("useMWChatPresenceStatus",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useState,m=b.c;function a(a){var b=m(9),e=j(c("PresenceStatusContext")),f,g,h;b[0]!==a||b[1]!==e?(h=(i||(i=d("I64"))).to_string(a),f=l,g=c("getOrRequestMWChatPresenceStatusForContactId")(e,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(f=b[2],g=b[3],h=b[4]);a=f(g);f=a[0];var n=a[1];b[5]!==e||b[6]!==h?(g=function(){return e.addListener(function(){return n(function(){return c("getOrRequestMWChatPresenceStatusForContactId")(e,h)})})},a=[e,h],b[5]=e,b[6]=h,b[7]=g,b[8]=a):(g=b[7],a=b[8]);k(g,a);return f}g["default"]=a}),98);
__d("LSPresenceStatusText.react",["fbt","FDSRelativeTimestamp.react","I64","LSContactTypeExact","LSIntEnum","MessengerMSplitFlag","isArmadillo","react","useMWChatHasActiveContact","useMWChatPresenceStatus","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i,n=h._("__JHASH__KJ9BpmLEozf__JHASH__"),o=function(){return null},p=function(a){return a};function q(a){var b=l(10),e=a.contactId,f=a.contactTypeExact,g=a.renderNullState;a=a.renderWrapper;e=c("useMWChatPresenceStatus")(e);var i=c("useServerTime")();f=f!=null&&(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));if(c("MessengerMSplitFlag").is_msplit_account||f){b[0]!==g?(f=g(),b[0]=g,b[1]=f):f=b[1];return f}f=(e==null?void 0:e.status)===2;e=(e==null?void 0:e.last_active_time)!=null&&e.last_active_time!==0?e.last_active_time*1e3:void 0;if(f){b[2]!==a?(f=a(n),b[2]=a,b[3]=f):f=b[3];return f}if(e!=null){b[4]!==e||b[5]!==i||b[6]!==a?(f=a(h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",c("FDSRelativeTimestamp.react").getRelativeTimestamp(i,new Date(e),"minimized"))])),b[4]=e,b[5]=i,b[6]=a,b[7]=f):f=b[7];return f}b[8]!==g?(e=g(),b[8]=g,b[9]=e):e=b[9];return e}function r(a){var b=l(7),c=a.participants,d=a.renderNullState;a=a.renderWrapper;if(c.length!==1){var e;b[0]!==d?(e=d(),b[0]=d,b[1]=e):e=b[1];return e}e=c[0];c=e.contactID;e=e.contactTypeExact;var f;b[2]!==c||b[3]!==e||b[4]!==d||b[5]!==a?(f=m.jsx(q,{contactId:c,contactTypeExact:e,renderNullState:d,renderWrapper:a}),b[2]=c,b[3]=e,b[4]=d,b[5]=a,b[6]=f):f=b[6];return f}function s(a){var b=l(6),d=a.participants,e=a.renderNullState;a=a.renderWrapper;var f;b[0]!==d?(f=d.map(t),b[0]=d,b[1]=f):f=b[1];d=f;f=c("useMWChatHasActiveContact")(d);if(f){b[2]!==a?(d=a(n),b[2]=a,b[3]=d):d=b[3];return d}else{b[4]!==e?(f=e(),b[4]=e,b[5]=f):f=b[5];return f}}function t(a){return a.contactID}function a(a){var b=l(8),e=a.participants,f=a.renderNullState,g=a.renderWrapper;a=a.threadType;f=f===void 0?o:f;g=g===void 0?p:g;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(15))&&c("isArmadillo")()){var h;b[0]!==e||b[1]!==f||b[2]!==g?(h=m.jsx(r,{participants:e,renderNullState:f,renderWrapper:g}),b[0]=e,b[1]=f,b[2]=g,b[3]=h):h=b[3];return h}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(16))&&c("isArmadillo")()){b[4]!==e||b[5]!==f||b[6]!==g?(h=m.jsx(s,{participants:e,renderNullState:f,renderWrapper:g}),b[4]=e,b[5]=f,b[6]=g,b[7]=h):h=b[7];return h}return null}g["default"]=a}),226);
__d("LSRelayConnections",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.end_cursor}function b(a){return a.has_next_page}function d(a){return a.has_previous_page}function e(a){return(a=a.is_loading_next)!=null?a:!1}function f(a){return(a=a.is_loading_previous)!=null?a:!1}function h(a){return a.start_cursor}function i(a){return JSON.stringify(a)}function j(a){return JSON.parse(a)}function k(a,b){if(a.length>b.first+1)throw c("FBLogger")("meteora").mustfixThrow("Got more edges (%s) than expected given the limit (%s).",a.length,b.first);var d=a[0],e=a.length>=b.first+1;b=e?b.first-1:a.length-1;a=a.length>0?a[b]:null;return{end_cursor:a!=null?i(a.value[0]):null,has_next_page:e,has_previous_page:!1,start_cursor:d!=null?i(d.value[0]):null}}function l(a){var b;if(((b=a.first)!=null?b:0)<=0)throw c("FBLogger")("meteora").mustfixThrow("Invalid `first` argument passed to connection: expected > 0 but got %s",String(a.first))}function m(a,b){a=a;b.after!=null&&(a=a.bounds({gt:j(b.after)}));b.before!=null&&(a=a.bounds({lt:j(b.before)}));a=a.take(b.first+1);return a}g.end_cursor=a;g.has_next_page=b;g.has_previous_page=d;g.is_loading_next=e;g.is_loading_previous=f;g.start_cursor=h;g.keyToCursor=i;g.cursorToKey=j;g.pageInfoFromEdges=k;g.validateArgsOrThrow=l;g.applyConnectionArgs=m}),98);
__d("LSRelayContextDB",["LSDatabaseSingleton","cr:8556","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case"PROD":return(h||(h=d("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();case"EXAMPLE":if(b("cr:8556")==null)throw c("err")("Loading test data on prod");return b("cr:8556").getExampleLSDatabasePromise();default:throw c("unrecoverableViolation")("Unsupported dbType: "+a,"lightspeed_resolvers")}}g.getLSDbStoragePromise=a}),98);
__d("LSRelayContext",["LSRelayContextDB","Promise","RelayAPIConfig","isPromise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.dbType;a=k(a);return a instanceof(i||(i=b("Promise")))?a.then(function(a){return{actorID:c("RelayAPIConfig").actorID,db:a}}):{actorID:c("RelayAPIConfig").actorID,db:a}}var j={};function k(a){if(j[a]==null){var b=d("LSRelayContextDB").getLSDbStoragePromise(a);j[a]=b;(h||(h=c("isPromise")))(b)&&c("promiseDone")(b,function(b){j[a]=b})}return j[a]}g.getContext=a}),98);
__d("LSRelayLiveResolvers",["LSRelayConnections","ReQLObservable","areEqual","emptyFunction","relay-runtime","transformObservableToLiveState"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return j(k(a,b),function(b){return b.map(function(b){b[0];b=b[1];return{context:a,value:b}})})}function b(a,b,c){d("LSRelayConnections").validateArgsOrThrow(c);return j(k(a,function(a){return d("LSRelayConnections").applyConnectionArgs(b(a),c)}),function(b){b=b.map(function(b){return{context:a,value:b}});return{context:a,value:{edges:b.slice(0,c.first),page_info:d("LSRelayConnections").pageInfoFromEdges(b,c)}}})}function e(a,b){return j(k(a,function(a){return b(a).take(1)}),function(b){return b.length>0?{context:a,value:b[0][1]}:null})}function f(a,b,c){return j(k(a,function(a){return b(a).take(1)}),function(b){return{context:a,value:c(b==null?void 0:(b=b[0])==null?void 0:b[1])}})}var i={read:function(){return null},subscribe:function(){return c("emptyFunction")}};function j(a,b){var c=a.read;a=a.subscribe;return{read:function(){var a=c();if(d("relay-runtime").isSuspenseSentinel(a))return d("relay-runtime").suspenseSentinel();else return b(a)},subscribe:a}}function k(a,b){return c("transformObservableToLiveState")(d("relay-runtime").Observable.create(function(e){var f,g=d("ReQLObservable").create(a.db,b).subscribe({complete:e.complete,error:e.error,next:function(a){if((h||(h=c("areEqual")))(a,f))return;f=a;e.next(a)}});return g}))}g.iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING=a;g.iterableToConnectionLiveResolver=b;g.iterableToFirstValueLiveResolver=e;g.iterableToMappedValueLiveResolver=f;g.nullValueLiveState=i;g.mapLiveState=j;g.makeLiveState=k}),98);
__d("LSRoot__thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey).take(1)})}g.thread=a}),98);
__d("LSRoot__viewer",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.context;return{context:a,value:{}}}f.viewer=a}),66);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(b){return d[4]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[4]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("is_group_thread",a[1]),d[2].set("is_typing",a[2]),d[2].set("attribution",c.i64.cast([0,0])),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[4],c.i64.cast([0,3]),d[3])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSSendTypingIndicator")(b.threadKey,b.isGroupThread,b.isTyping,a)}g["default"]=a}),98);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSetProactiveWarningDismissTimeStoredProcedure";e.exports=a}),null);
__d("LSSetProactiveWarningDismissTimeStoredProcedure",["LSSetProactiveWarningDismissTime","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){return c("LSSetProactiveWarningDismissTime")(b.threadKey,a)}g["default"]=a}),98);
__d("LSThreadCapabilityBitOffset",[],(function(a,b,c,d,e,f){a=Object.freeze({PAYMENT:0,CAMERA:1,MEDIA_PICKER:2,STICKER:3,GIF:4,GO_TO_SECRET_CONVERSATION:5,COLOR_CUSTOMIZATION:6,EMOJI_CUSTOMIZATION:7,THREAD_DETAILS_PROFILE_BUTTON:8,NICKNAMES:9,BLOCK:10,CALIBRA:12,MESSENGER_KIDS_MANAGE_KID_ACCOUNT:13,AUDIO_CLIPS:14,SHARED_MEDIA:15,BLOCK_GROUP_MEMBER:16,FEEDBACK_AND_REPORT:17,REACTIONS:18,MUTE_THREAD:19,SEEN_HEADS:20,MESSAGE_REQUEST_COMPOSER_BANNER:21,IN_THREAD_PROFILE_BUTTON:22,THREAD_DETAILS:23,RTC_VIDEO_CALL:24,RTC_VOICE_CALL:25,MEMBER_LIST:26,ADD_MEMBER:27,LEAVE_THREAD:28,BLOCKED_USER_INTERSTITIAL:29,OPTIMISTIC_THREAD_FEEDBACK_AND_REPORT:30,LOCATION_SHARING:31,IGNORE_MESSAGES:32,FOCUS_MODE:33,SEARCH_IN_CONVERSATION:34,CREATE_GROUP:35,POLL_CREATION:36,DISPLAY_ACTOR_TYPE_IN_THREAD_VIEW_HEADER:37,DISAPPEARING_MODE:38,FORCE_ONE_PHASE_SEND:39,SPLIT_MULTI_SEND_PHOTO:40,THREAD_DETAILS_IG_PROFILE_BUTTON:41,MESSAGE_REPLY:42,MENTIONS:43,GAMES_BOT_THREAD:44,DISABLE_LINKS:45,BLUR_MEDIA:46,DISABLE_CONTEXT_BANNER:47,TOP_LEVEL_SELF_REMEDIATION:48,DISABLE_USER_CONTROL:49,THREAD_DETAILS_SHOW_USER_NAME:50,DISABLE_MESSAGE_BUBBLE_SWIPE:51,IGNORED_THREAD:52,PAGE_BAN:53,CUSTOM_THREAD_NOTIFICATION_SOUNDS:54,ROOM_CREATION:55,FILE_PICKER:56,JOIN_ROOM:57,SELFIE_STICKER:58,POWER_UP:59,THREAD_NAME_CUSTOMIZATION:60,THREAD_PHOTO_CUSTOMIZATION:61,STRUCTURED_INPUT:62,SUPPRESS_NULLSTATE_HEADER:63,ARCHIVE_THREAD:64,UNARCHIVE_THREAD:65,MEMBER_REQUEST:66,BUSINESS_INBOX_BAN:67,CTM_AD_THREAD_WITH_AD_WARNING:68,BUSINESS_INBOX_SAVED_REPLIES:69,GARDEN_THREAD_SETTINGS:70,MARKETPLACE_SAVED_REPLIES:71,CARRIER_MESSAGING_ADD_MEMBER:72,PHONE_CALL:73,THREAD_DETAILS_DELETE_THREAD:74,EPHEMERAL_MESSAGE_TIMER:75,MESSAGE_EXPIRATION:76,MESSAGE_SOUND_SETTINGS:77,RINGTONE_SOUND_SETTINGS:78,HIDE_FROM_ACTIVE_NOW:79,MAGIC_WORDS:80,THREAD_DESCRIPTION_CUSTOMIZATION:81,BUSINESS_INBOX_CATALOG:82,ADMIN_RECALL_MESSAGE:83,SHARE_CONTACT:84,RESTRICT_CONTACT:85,SOUND_BITE:86,MOST_LIKELY_TO_POLL_CREATION:87,REPORT_CHAT_TO_ADMIN:88,CAN_MARK_READ_OR_UNREAD:89,BUSINESS_TOOLS:90,REMOVE_MEMBER:91,GROUP_GO_TO_SECRET_CONVERSATION:92,REPORT_MESSAGE_TO_ADMIN:93,MANAGE_MEMBER:94,SHARED_LINKS:95,SHARED_CONTENT:96,ADD_XAC_USERS:97,BUSINESS_ORDER_MANAGEMENT:98,RTC_MARKETPLACE_COMPOSER_BANNER:99,IS_SELLER_RTC_ELIGIBLE:100,IS_BUYER_RTC_ELIGIBLE:101,MESSAGE_LOCAL_DELETE:102,MESSAGE_FORWARD:103,IS_NFB_ELIGIBLE:104,MESSAGE_REQUEST_GROUP_INVITE:105,VIEW_PINNED_MESSAGES_V2:106,BUSINESS_APPOINTMENT_BOOKING:107,THREAD_DETAILS_SHOW_CHAT_INVITE_LINK:108,HOTLIKE_STICKER:109,IS_LEARNING_SPACE_CHAT:110,AUDIO_CAPTIONS:111,COMMAND_SILENT:112,MARKETPLACE_THREAD_COMMERCE_PROFILE_BUTTON:113,EPHEMERAL_MEDIA:114,COMMAND_EVERYONE:115,COMMAND_GIF:116,MARKETPLACE_THREAD_COMMERCE_PRODUCT_BUTTON:117,CAMERA_BACKUP:118,BLOCK_MARKETPLACE_USER:119,COMMUNITY_MESSAGING_CHANNEL_INVITE:120,COMMAND_TEXT_REPLACEMENT:121,MESSAGE_UNSEND:122,IMMERSIVE_MODES_SPACES:123,COMMUNITY_MESSAGING_LINK_SHARING_V2:124,COMMUNITY_MESSAGING_AUDIO_ROOMS:125,BUMP_MESSAGE_ACTION:126,CUTOVER_BLOCK_COMPOSER:128,FAVORITE_THREAD:129,BUMP_THREAD:131,IS_BUSINESS_APPOINTMENT_THREAD_INTENT_ENABLED:132,COMMUNITY_MESSAGING_ICEBREAKERS:133,COMMUNITY_MESSAGING_CHANNEL_EMOJI_CUSTOMIZATION:134,COMMUNITY_MESSAGING_CHANNEL_DESCRIPTION_CUSTOMIZATION:135,IS_MESSENGER_CHAT_ENTITY_THREAD:136,RESHARE_HUB:138,REACTIONS_V2:139,SEEN_COUNTS_V2:140,IS_LARGE_THREAD:141,PUBLIC_CHAT_BAN_USER:143,CONTENT_EXPLORER:144,PRO_MODE:145,CUSTOMER_APPOINTMENT_REQUEST:146,IS_MESSENGER_GUIDE_CHAT_ENTITY_THREAD:147,COMMUNITY_MESSAGING_THREAD_LEAVE_UPSELL:148,GENERATED_STICKERS:149,ROLLCALL:152,BUSINESS_CHAT_PRIVACY_DISCLOSURE:153,PAUSE_CHAT:154,GAMES_DISCOVERY:155,MULTI_REACT:156,STICKER_TRAY_SEARCH:157,POLL_V1_UI:158,POLL_V2_UI:159,DEIDENTIFIED_STICKER_SEARCH:160,PIN_CHANNEL_ON_PROFILE:161,ARMADILLO_TLC_CONTROL_OPEN_THREAD:162,SUGGESTED_TAB:163,GROUP_CHAT_UPGRADE_ELIGIBILITY:164,HAS_GROUP_UPDATES_BOT_ATTACHED:165,HAS_GROUP_UPDATES_SETTING_ENABLED:166,SUB_THREAD_CREATION_ENABLED:167,COMMUNITY_MESSAGING_FIRST_MESSAGE_UPSELL_WITH_ICE_BREAKERS:168,REACTIONS_V2_WRITE:169,POLL_VOTING:170,AUTO_ENDED_CHANNEL_COMPOSER:171,MODIFY_PINNED_MESSAGES_V2:172,CUSTOM_GHOST_TEXT:173,AVATAR_DETAILS:174,COLLAPSIBLE_XMAT:175,ADD_YOURS:176,PAUSE_CHAT_ON_BLUE:177,UPGRADED_COMMUNITY_JOINED:178,IS_UPGRADED_COMMUNITY_OWNER:179,AI_BOT_DATA_USAGE_IN_THREAD_DETAILS:180,AI_BOT_FEEDBACK_IN_THREAD_DETAILS:181,AI_BOT_TIPS_IN_THREAD_DETAILS:182,AI_BOT_SUMMONING:183,VIEW_REACTION_DETAILS:184,BUSINESS_PROFILE_BADGE:185,HINT_CARD_IN_CHANNEL_UPGRADED_FROM_GROUP_CHAT:186,AI_BOT_EMBODIMENT:187,BMOP_IN_THREAD_CATALOG_ENTRY_POINT:188,OPTIMISTIC_THREAD_APPOINTMENT_REQUEST:189,IS_GAME_RECOMMENDATIONS_CHAT_ENTITY_THREAD:190,IS_XAC_READ_ONLY:192,WILL_XAC_BE_READ_ONLY:193,IS_EDIT_MESSAGE_ENABLED:194,SUB_THREAD_LIST:195,TRANSLATE_MESSAGE:196,MANAGE_CHAT_THREAD_DETAILS:197,CUSTOMER_LEAD_FORM_APPOINTMENT_REQUEST:198,ADMOD_ONBOARDING_ACTIONS_V2:199,RTC_OPTIN_REQUEST:200,CUSTOMER_LEAD_FORM_GET_QUOTE:201,PAUSED_BY_SOFT_ACTION_COMPOSER_BLOCK:202,DISABLE_MARKETPLACE_DMA_THREAD_COMPOSER:203,CUSTOMIZE_WELCOME_PROMPT_THREAD_DETAILS:204,IS_COMMUNITY_MESSAGING_FIRST_THREAD_JOIN_PER_COMMUNITY_FOR_MEMBER_ONBOARDING:205,SUB_THREAD_OPTIMISTIC_CREATE_ENABLED:206,ONE_CLICK_MUTE_ENABLED:207,GEOCHATS_CAN_SET_LOCATION:208,GEOCHATS_CAN_VIEW_LOCATION:209,WORK_CHAT_GOVERNANCE_BLOCK:210,INSTAMADILLO_TRANSPORT_ENABLED:211,INSTAMADILLO_DISAPPEARING_MESSAGES_TOGGLE_ENABLED:212,IS_BSG_THREAD:213,IS_INSTAMADILLO_CUTOVER:214,WRITE_WITH_AI_ENABLED:215,SHOW_FOLLOW_PAGE_CTA:216,CAN_VIEWING_PAGE_BE_LIKED:217,DELETE_FROM_THREAD_LIST_VIEW:218,INVITE_MODEL_TEXT_ONLY:219,COMMAND_SUMMARY:220,COMMUNITY_AI:221,BUSINESS_INBOX_FILE_SHARING:222,MESSAGE_AS_PAGE:223,COMPOSER_INLINE_MEDIA:224,INSTAMADILLO_TTLC_TEXT:225,INSTAMADILLO_TTLC_CLIP:226,INSTAMADILLO_TTLC_REEL_SHARE:227,INSTAMADILLO_TTLC_MEDIA_SHARE:228,INSTAMADILLO_TTLC_STORY_SHARE:229,INSTAMADILLO_TTLC_LINK:230,INSTAMADILLO_TTLC_GENERIC_XMA:231,INSTAMADILLO_TTLC_IMAGE:232,INSTAMADILLO_TTLC_VIDEO:233,INSTAMADILLO_TTLC_AUDIO:234,INSTAMADILLO_TTLC_CALLING:235,INSTAMADILLO_TTLC_PROFILE:236,AI_BOT_MEMU_ONBOARDING_IN_THREAD_DETAILS:237,CHANNELS_VOICE_SWITCHING_ENABLED:238,AI_BOT_CREATOR_INFO:239,AI_BOT_HALLUCINATION_DISCLAIMER_IN_THREAD_DETAILS:240,BUSINESS_FORM_MANAGEMENT:241,AI_STUDIO_IN_THREAD:242,AI_UGC_BOT:243,AI_BOT_FBGROUP_INFO:244,MAGIC_MESSENGER:245,AI_BOT_MANAGE_AI_MEMORY_IN_THREAD_DETAILS:246,GROUP_CHAT_AI_IMAGE_ENABLED:247,GROUP_UGC_EDIT_ENABLED:248,RESUME_GROUP_CHAT_UPGRADED_TO_COMMUNITY:249,FRIENDING_ACTION:250,ELIGIBLE_FOR_GROUP_CHAT_UPGRADE_TO_COMMUNITY:251,AI_STUDIO_CAN_EDIT_UGC:252,PIN_OR_UNPIN_THREAD_FOR_COMMUNITY_USER:253,IS_USER_PAGE_ADMIN:254,IS_GC_DEFAULTED_TO_HIGHLIGHTS_SETTING:255});f["default"]=a}),66);
__d("LS_Participant",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.readWatermarkTimestampMs}function e(a){return a.value.deliveredWatermarkTimestampMs}function f(a){return a.value.nickname}function h(a){return a.value.authorityLevel}function i(a){return a.value.threadKey}function j(a){return a.value.contactId}function k(a){return a.value.readActionTimestampMs}function l(a){return a.value.isAdmin}function m(a){return a.value.subscribeSource}function n(a){return a.value.normalizedSearchTerms}function o(a){return a.value.participantCapabilities}function p(a){return a.value.groupParticipantJoinState}function q(a){return a.value.isModerator}function r(a){return a.value.isSuperAdmin}function s(a){return a.value.threadRoles}function t(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.value.contactId)})}g.__context=a;g.__lightspeed_table_row=b;g.read_watermark_timestamp_ms=c;g.delivered_watermark_timestamp_ms=e;g.nickname=f;g.authority_level=h;g.thread_key=i;g.contact_id=j;g.read_action_timestamp_ms=k;g.is_admin=l;g.subscribe_source=m;g.normalized_search_terms=n;g.participant_capabilities=o;g.group_participant_join_state=p;g.is_moderator=q;g.is_super_admin=r;g.thread_roles=s;g.contact=t}),98);
__d("LS_Participant_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.lastActivityTimestampMs}function e(a){return a.value.lastReadWatermarkTimestampMs}function f(a){return a.value.snippet}function h(a){return a.value.threadName}function i(a){return a.value.threadPictureUrl}function j(a){return a.value.needsAdminApprovalForNewParticipant}function k(a){return a.value.authorityLevel}function l(a){return a.value.threadKey}function m(a){return a.value.mailboxType}function n(a){return a.value.threadType}function o(a){return a.value.folderName}function p(a){return a.value.threadPictureUrlFallback}function q(a){return a.value.threadPictureUrlExpirationTimestampMs}function r(a){return a.value.removeWatermarkTimestampMs}function s(a){return a.value.muteExpireTimeMs}function t(a){return a.value.muteMentionExpireTimeMs}function u(a){return a.value.muteCallsExpireTimeMs}function v(a){return a.value.groupNotificationSettings}function w(a){return a.value.isAdminSnippet}function x(a){return a.value.snippetSenderContactId}function y(a){return a.value.snippetText}function z(a){return a.value.snippetStringHash}function A(a){return a.value.snippetStringArgument1}function B(a){return a.value.snippetAttribution}function C(a){return a.value.snippetAttributionStringHash}function D(a){return a.value.disappearingSettingTtl}function E(a){return a.value.disappearingSettingUpdatedTs}function F(a){return a.value.disappearingSettingUpdatedBy}function G(a){return a.value.ongoingCallState}function H(a){return a.value.cannotReplyReason}function I(a){return a.value.customEmoji}function J(a){return a.value.customEmojiImageUrl}function K(a){return a.value.avatarStickerInstructionKeyId}function L(a){return a.value.avatarStickerId}function M(a){return a.value.avatarStickerThumbnailImageUrl}function N(a){return a.value.avatarStickerThumbnailImageMimeType}function O(a){return a.value.avatarStickerOriginalImageUrl}function P(a){return a.value.avatarStickerOriginalImageMimeType}function Q(a){return a.value.outgoingBubbleColor}function R(a){return a.value.themeFbid}function S(a){return a.value.parentThreadKey}function T(a){return a.value.nullstateDescriptionText1}function U(a){return a.value.nullstateDescriptionType1}function V(a){return a.value.nullstateDescriptionText2}function W(a){return a.value.nullstateDescriptionType2}function X(a){return a.value.nullstateDescriptionText3}function Y(a){return a.value.nullstateDescriptionType3}function Z(a){return a.value.snippetHasEmoji}function $(a){return a.value.hasPersistentMenu}function aa(a){return a.value.disableComposerInput}function ba(a){return a.value.cannotUnsendReason}function ca(a){return a.value.viewedPluginKey}function da(a){return a.value.viewedPluginContext}function ea(a){return a.value.clientThreadKey}function fa(a){return a.value.capabilities}function ga(a){return a.value.shouldRoundThreadPicture}function ha(a){return a.value.proactiveWarningDismissTime}function ia(a){return a.value.isCustomThreadPicture}function ja(a){return a.value.otidOfFirstMessage}function ka(a){return a.value.normalizedSearchTerms}function la(a){return a.value.additionalThreadContext}function ma(a){return a.value.disappearingThreadKey}function na(a){return a.value.isDisappearingMode}function oa(a){return a.value.disappearingModeInitiator}function pa(a){return a.value.unreadDisappearingMessageCount}function qa(a){return a.value.lastMessageCtaId}function ra(a){return a.value.lastMessageCtaType}function sa(a){return a.value.lastMessageCtaTimestampMs}function ta(a){return a.value.consistentThreadFbid}function ua(a){return a.value.threadDescription}function va(a){return a.value.unsendLimitMs}function wa(a){return a.value.capabilities2}function xa(a){return a.value.capabilities3}function ya(a){return a.value.syncGroup}function za(a){return a.value.threadInvitesEnabled}function Aa(a){return a.value.threadInviteLink}function Ba(a){return a.value.isAllUnreadMessageMissedCallXma}function Ca(a){return a.value.numUnreadSubthreads}function Da(a){return a.value.subthreadCount}function Ea(a){return a.value.lastNonMissedCallXmaMessageTimestampMs}function Fa(a){return a.value.isHidden}function Ga(a){return a.value.threadInvitesEnabledV2}function Ha(a){return a.value.joinRequestApprovalSetting}function Ia(a){return a.value.hasPendingJoinRequest}function Ja(a){return a.value.pendingJoinRequestsCount}function Ka(a){return a.value.hasPendingInvitation}function La(a){return a.value.eventStartTimestampMs}function Ma(a){return a.value.eventEndTimestampMs}function Na(a){return a.value.takedownState}function Oa(a){return a.value.memberCount}function Pa(a){return a.value.admodCount}function Qa(a){return a.value.secondaryParentThreadKey}function Ra(a){return a.value.igFolder}function Sa(a){return a.value.inviterId}function Ta(a){return a.value.threadTags}function Ua(a){return a.value.isReadReceiptsDisabled}function Va(a){return a.value.readReceiptsDisabledV2}function Wa(a){return a.value.threadStatus}function Xa(a){return a.value.ctmAdId}function Ya(a){return a.value.ctmAdgroupId}function Za(a){return a.value.ctmAdCampaignId}function $a(a){return a.value.ctmAdCampaignGroupId}function ab(a){return a.value.ctmAdAccountId}function bb(a){return a.value.threadSubtype}function cb(a){return a.value.pauseThreadTimestamp}function db(a){return a.value.metadata}function eb(a){return a.value.capabilities4}function fb(a){return a.value.typingIndicatorDisabled}function gb(a){return a.value.syncSource}function hb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.value.threadKey)},b)}function ib(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.messages.index("messageDisplayOrder")).getKeyRange(a.value.threadKey)},b)}function jb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_nullstate).getKeyRange(a.value.threadKey)})}function kb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(a.value.parentThreadKey)})}function lb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a.value.threadKey)},b)}function mb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(a.value.threadKey)})}function nb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.thread_proactive_warning_settings).getKeyRange(a.value.threadKey)})}function ob(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.in_thread_banner).getKeyRange(a.value.threadKey)},b)}function pb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.cutover_threads).getKeyRange(a.value.threadKey)})}function qb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.custom_thread_commands).getKeyRange(a.value.threadKey)},b)}function rb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.discoverable_chat_participants).getKeyRange(a.value.threadKey)},b)}function sb(a,b){return d("LSRelayLiveResolvers").iterableToConnectionLiveResolver(a.context,function(b){return d("ReQL").fromTableAscending(b.tables.persistent_menu_items).getKeyRange(a.value.threadKey)},b)}function tb(a){return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a.context,function(b){return d("ReQL").fromTableDescending(b.tables.thread_limits).getKeyRange(a.value.threadKey)})}g.__context=a;g.__lightspeed_table_row=b;g.last_activity_timestamp_ms=c;g.last_read_watermark_timestamp_ms=e;g.snippet=f;g.thread_name=h;g.thread_picture_url=i;g.needs_admin_approval_for_new_participant=j;g.authority_level=k;g.thread_key=l;g.mailbox_type=m;g.thread_type=n;g.folder_name=o;g.thread_picture_url_fallback=p;g.thread_picture_url_expiration_timestamp_ms=q;g.remove_watermark_timestamp_ms=r;g.mute_expire_time_ms=s;g.mute_mention_expire_time_ms=t;g.mute_calls_expire_time_ms=u;g.group_notification_settings=v;g.is_admin_snippet=w;g.snippet_sender_contact_id=x;g.snippet_text=y;g.snippet_string_hash=z;g.snippet_string_argument1=A;g.snippet_attribution=B;g.snippet_attribution_string_hash=C;g.disappearing_setting_ttl=D;g.disappearing_setting_updated_ts=E;g.disappearing_setting_updated_by=F;g.ongoing_call_state=G;g.cannot_reply_reason=H;g.custom_emoji=I;g.custom_emoji_image_url=J;g.avatar_sticker_instruction_key_id=K;g.avatar_sticker_id=L;g.avatar_sticker_thumbnail_image_url=M;g.avatar_sticker_thumbnail_image_mime_type=N;g.avatar_sticker_original_image_url=O;g.avatar_sticker_original_image_mime_type=P;g.outgoing_bubble_color=Q;g.theme_fbid=R;g.parent_thread_key=S;g.nullstate_description_text1=T;g.nullstate_description_type1=U;g.nullstate_description_text2=V;g.nullstate_description_type2=W;g.nullstate_description_text3=X;g.nullstate_description_type3=Y;g.snippet_has_emoji=Z;g.has_persistent_menu=$;g.disable_composer_input=aa;g.cannot_unsend_reason=ba;g.viewed_plugin_key=ca;g.viewed_plugin_context=da;g.client_thread_key=ea;g.capabilities=fa;g.should_round_thread_picture=ga;g.proactive_warning_dismiss_time=ha;g.is_custom_thread_picture=ia;g.otid_of_first_message=ja;g.normalized_search_terms=ka;g.additional_thread_context=la;g.disappearing_thread_key=ma;g.is_disappearing_mode=na;g.disappearing_mode_initiator=oa;g.unread_disappearing_message_count=pa;g.last_message_cta_id=qa;g.last_message_cta_type=ra;g.last_message_cta_timestamp_ms=sa;g.consistent_thread_fbid=ta;g.thread_description=ua;g.unsend_limit_ms=va;g.capabilities_2=wa;g.capabilities_3=xa;g.sync_group=ya;g.thread_invites_enabled=za;g.thread_invite_link=Aa;g.is_all_unread_message_missed_call_xma=Ba;g.num_unread_subthreads=Ca;g.subthread_count=Da;g.last_non_missed_call_xma_message_timestamp_ms=Ea;g.is_hidden=Fa;g.thread_invites_enabled_v2=Ga;g.join_request_approval_setting=Ha;g.has_pending_join_request=Ia;g.pending_join_requests_count=Ja;g.has_pending_invitation=Ka;g.event_start_timestamp_ms=La;g.event_end_timestamp_ms=Ma;g.takedown_state=Na;g.member_count=Oa;g.admod_count=Pa;g.secondary_parent_thread_key=Qa;g.ig_folder=Ra;g.inviter_id=Sa;g.thread_tags=Ta;g.is_read_receipts_disabled=Ua;g.read_receipts_disabled_v2=Va;g.thread_status=Wa;g.ctm_ad_id=Xa;g.ctm_adgroup_id=Ya;g.ctm_ad_campaign_id=Za;g.ctm_ad_campaign_group_id=$a;g.ctm_ad_account_id=ab;g.thread_subtype=bb;g.pause_thread_timestamp=cb;g.metadata=db;g.capabilities_4=eb;g.typing_indicator_disabled=fb;g.sync_source=gb;g.participants=hb;g.messages=ib;g.nullstate=jb;g.community_folder=kb;g.mi_act_mapping=lb;g.rtc_ongoing_calls=mb;g.thread_proactive_warning_settings=nb;g.in_thread_banner=ob;g.cutover_thread=pb;g.custom_thread_commands=qb;g.discoverable_chat_participants=rb;g.persistent_menu_items=sb;g.thread_limit=tb}),98);
__d("LSThreadComputedThreadTitle__computed_thread_title$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Participant_Connection","LS_Participant","LS_Participant","LS_Participant","LS_Contact","LS_Contact","LS_Contact","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:8}];return{kind:"SplitOperation",metadata:{},name:"LSThreadComputedThreadTitle__computed_thread_title$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:8)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"node",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").node,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{name:"contact_id",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact_id,rootFragment:null}},{name:"nickname",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").nickname,rootFragment:null}},{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"first_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").first_name,rootFragment:null}},{name:"name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").name,rootFragment:null}},{name:"rank",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").rank,rootFragment:null}}],storageKey:null}}],storageKey:null}}],storageKey:null}}],storageKey:"participants(first:8)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_name",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_name,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadComputedThreadTitle__computed_thread_title.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadComputedThreadTitle__computed_thread_title",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:8}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"rank",storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],storageKey:"participants(first:8)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability$normalization.graphql",["LS_Thread","LS_Thread","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadHasCapability__has_capability$normalization",selections:[{kind:"ClientExtension",selections:[{name:"capabilities",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities,rootFragment:null}},{name:"capabilities_2",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_2,rootFragment:null}},{name:"capabilities_3",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_3,rootFragment:null}},{name:"capabilities_4",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").capabilities_4,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadHasCapability__has_capability.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadHasCapability__has_capability",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"capabilities",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities2",args:null,kind:"ScalarField",name:"capabilities_2",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities3",args:null,kind:"ScalarField",name:"capabilities_3",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"capabilities4",args:null,kind:"ScalarField",name:"capabilities_4",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LS_Thread__other_participant",["I64","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context;a=a.value;var c=a.threadKey;a=a.threadType;return!d("LSMessagingThreadTypeUtil").isOneToOne(a)?d("LSRelayLiveResolvers").nullValueLiveState:d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).take(2).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})})}g.other_participant=a}),98);
__d("LSThreadIsPage__is_page$normalization.graphql",["LS_Thread__other_participant","LS_Participant","LS_Contact"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsPage__is_page$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"other_participant",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread__other_participant").other_participant,rootFragment:null}},linkedField:{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"contact",args:null,kind:"RelayLiveResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant").contact,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{name:"contact_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Contact").contact_type,rootFragment:null}}],storageKey:null}}],storageKey:null}}]};e.exports=a}),null);
__d("LSThreadIsPage__is_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadIsPage__is_page",selections:[{alias:"otherParticipant",args:null,concreteType:"LS_Participant",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:null,args:null,concreteType:"LS_Contact",kind:"LinkedField",name:"contact",plural:!1,selections:[{alias:"contactType",args:null,kind:"ScalarField",name:"contact_type",storageKey:null}],storageKey:null}],storageKey:null}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread$normalization.graphql",["LS_Thread"],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"LSThreadIsSecureThread__is_secure_thread$normalization",selections:[{kind:"ClientExtension",selections:[{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]};e.exports=a}),null);
__d("LSThreadIsSecureThread__is_secure_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LSThreadIsSecureThread__is_secure_thread",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization.graphql",["LS_Thread","LS_Participant_Connection","LS_Thread","LS_Thread","LS_Thread"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"first",value:2}];return{kind:"SplitOperation",metadata:{},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self$normalization",selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"participants",args:a,kind:"RelayLiveResolver",storageKey:"participants(first:2)",isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").participants,rootFragment:null}},linkedField:{alias:null,args:a,concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"ClientEdgeToClientObject",backingField:{name:"edges",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Participant_Connection").edges,rootFragment:null}},linkedField:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}}],storageKey:"participants(first:2)"}},{kind:"ClientExtension",selections:[{name:"__context",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").__context,rootFragment:null}},{name:"thread_key",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_key,rootFragment:null}},{name:"thread_type",args:null,kind:"RelayResolver",storageKey:null,isOutputType:!0,resolverInfo:{resolverFunction:b("LS_Thread").thread_type,rootFragment:null}}]}]}}();e.exports=a}),null);
__d("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{hasClientEdges:!0},name:"LSThreadOtherParticipantOrSelf__other_participant_or_self",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"__context",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadKey",args:null,kind:"ScalarField",name:"thread_key",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:"threadType",args:null,kind:"ScalarField",name:"thread_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"LS_Participant_Connection",kind:"LinkedField",name:"participants",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"LS_Participant_Connection_Edge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW"}],storageKey:"participants(first:2)"},action:"THROW"}],type:"LS_Thread",abstractKey:null};e.exports=a}),null);
__d("LSTypingIndicatorSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("LS_CommunityFolder",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.folderId}function d(a){return a.value.fbGroupId}function e(a){return a.value.name}function g(a){return a.value.description}function h(a){return a.value.memberCount}function i(a){return a.value.pictureUrl}function j(a){return a.value.pictureUrlFallback}function k(a){return a.value.pictureUrlExpirationTimestampMs}function l(a){return a.value.joiningChannelTaskId}function m(a){return a.value.afterJoiningOpenChannelId}function n(a){return a.value.capabilities}function o(a){return a.value.capabilities2}function p(a){return a.value.capabilities3}function q(a){return a.value.notificationSetting}function r(a){return a.value.notificationMutedUntil}function s(a){return a.value.sendsBlockedUntil}function t(a){return a.value.isHidden}function u(a){return a.value.hasSeenDisablingAlert}function v(a){return a.value.inviteLink}function w(a){return a.value.communityType}function x(a){return a.value.directInviteLink}function y(a){return a.value.enableState}function z(a){return a.value.takedownState}function A(a){return a.value.fbGroupType}function B(a){return a.value.threadCount}function C(a){return a.value.disableTimestamp}function D(a){return a.value.readTimestampMs}function E(a){return a.value.inviteStatus}function F(a){return a.value.blockedFromCommunityMemberCount}function G(a){return a.value.categoryCount}function H(a){return a.value.snippetText}function I(a){return a.value.coverPicUrl}function J(a){return a.value.coverPicUrlFallback}function K(a){return a.value.coverPicUrlExpirationTimestampMs}function L(a){return a.value.invitedThreadId}function M(a){return a.value.fbGroupUserParticipationApprovalStatus}function N(a){return a.value.ccAdminAssistRegistrationStatus}function O(a){return a.value.pauseStatus}function P(a){return a.value.isMember}f.__context=a;f.__lightspeed_table_row=b;f.folder_id=c;f.fb_group_id=d;f.name=e;f.description=g;f.member_count=h;f.picture_url=i;f.picture_url_fallback=j;f.picture_url_expiration_timestamp_ms=k;f.joining_channel_task_id=l;f.after_joining_open_channel_id=m;f.capabilities=n;f.capabilities_2=o;f.capabilities_3=p;f.notification_setting=q;f.notification_muted_until=r;f.sends_blocked_until=s;f.is_hidden=t;f.has_seen_disabling_alert=u;f.invite_link=v;f.community_type=w;f.direct_invite_link=x;f.enable_state=y;f.takedown_state=z;f.fb_group_type=A;f.thread_count=B;f.disable_timestamp=C;f.read_timestamp_ms=D;f.invite_status=E;f.blocked_from_community_member_count=F;f.category_count=G;f.snippet_text=H;f.cover_pic_url=I;f.cover_pic_url_fallback=J;f.cover_pic_url_expiration_timestamp_ms=K;f.invited_thread_id=L;f.fb_group_user_participation_approval_status=M;f.cc_admin_assist_registration_status=N;f.pause_status=O;f.is_member=P}),66);
__d("LS_Contact__has_capability",["LSContactBitOffset","LSContactCapabilityBitOffset","LSContactHasCapability__has_capability.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSContactHasCapability__has_capability.graphql"),a);var f=a.capabilities;a=a.capabilities_2;return e!=="%future added value"&&d("LSContactBitOffset").has(c("LSContactCapabilityBitOffset")[e],{capabilities:(e=f)!=null?e:void 0,capabilities2:(f=a)!=null?f:void 0})}g.has_capability=a}),98);
__d("LS_MiActMappingTable",[],(function(a,b,c,d,e,f){function a(a){return a.context}function b(a){return a.value}function c(a){return a.value.serverThreadKey}function d(a){return a.value.clientThreadPk}function e(a){return a.value.jid}f.__context=a;f.__lightspeed_table_row=b;f.server_thread_key=c;f.client_thread_pk=d;f.jid=e}),66);
__d("LS_MiActMappingTable_Connection",["LSRelayConnections"],(function(a,b,c,d,e,f,g){function a(a){return a.value.edges}function b(a){return a.value.page_info}function c(a){return d("LSRelayConnections").keyToCursor(a.value[0])}function e(a){return{context:a.context,value:a.value[1]}}g.edges=a;g.page_info=b;g.cursor=c;g.node=e}),98);
__d("LS_Thread__computed_thread_title",["fbt","CurrentEnvironment","I64","LSMessagingThreadTypeUtil","LSThreadComputedThreadTitle__computed_thread_title.graphql","ReactiveExecutorResolverFragments","intlList","mwCMIsAnyCMThread","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(i!==void 0?i:i=b("LSThreadComputedThreadTitle__computed_thread_title.graphql"),a);var c=a.__context,e=a.participants,f=a.thread_name;a=a.thread_type;return f!=null?f:l(a,e.edges.map(function(a){return a.node}),c.actorID)}function k(a,b){return a.filter(function(a){return(j||(j=d("I64"))).to_string(a.contact_id)!==b}).map(function(a){return a.contact==null?null:{first_name:a.contact.first_name,name:a.contact.name,nickname:a.nickname,rank:a.contact.rank}}).filter(Boolean).sort(function(a,b){return b.rank-a.rank})}function l(a,b,e){if(c("mwCMIsAnyCMThread")(a)){c("recoverableViolation")("community message should not use computed thread title","messenger_comet");return n}if(b.length===0){c("recoverableViolation")("No participants in thread","lightspeed_resolvers");return d("LSMessagingThreadTypeUtil").isGroup(a)?n:m}if(b.length===1){return(a=(a=b[0].contact)==null?void 0:a.name)!=null?a:m}a=k(b,e);var f=a.length>2;b=a.map(function(a){return o(a,f)});a.length>7&&b.push(String(h._("__JHASH__p-5gRHawKL0__JHASH__")));return c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA).toString()}var m=(c("CurrentEnvironment").workplacedotcom?h._("__JHASH__WW0S3bu0Fvp__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._("__JHASH__PghB4SzSbNm__JHASH__"):c("CurrentEnvironment").messengerdotcom?h._("__JHASH__I44_DhMSYWP__JHASH__"):h._("__JHASH__AaE4hJExM0x__JHASH__")).toString(),n=(c("CurrentEnvironment").workplacedotcom?h._("__JHASH__2SG6KMU4AFK__JHASH__"):c("CurrentEnvironment").instagramdotcom?h._("__JHASH__wXDLgcJTU51__JHASH__"):c("CurrentEnvironment").messengerdotcom?h._("__JHASH__Kz0QpoJHutZ__JHASH__"):h._("__JHASH__CGopUYR1PJW__JHASH__")).toString();function o(a,b){var c=a.first_name,d=a.name;a=a.nickname;b===void 0&&(b=!1);if(a!=null)return a;if(c!=null&&b)return c;return d!=null?d:m}g.computed_thread_title=a}),226);
__d("LS_Thread__has_capability",["LSThreadBitOffset","LSThreadCapabilityBitOffset","LSThreadHasCapability__has_capability.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){e=e.capability;a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadHasCapability__has_capability.graphql"),a);var f=a.capabilities,g=a.capabilities2,i=a.capabilities3,j=a.capabilities4;a=a.threadType;return e!=="%future added value"&&d("LSThreadBitOffset").has(c("LSThreadCapabilityBitOffset")[e],{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:j,threadType:a})}g.has_capability=a}),98);
__d("LS_Thread__has_messages_ranges_v2",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(c).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.computed_has_messages_ranges_v2=a}),98);
__d("LS_Thread__is_cutover_thread",["LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.context;a=a.value;var c=a.threadKey;return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(b,function(a){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(c).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}g.is_cutover_thread=a}),98);
__d("LS_Thread__is_page",["I64","LSContactType","LSIntEnum","LSThreadIsPage__is_page.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsPage__is_page.graphql"),a);a=a.otherParticipant;a=a==null?void 0:(a=a.contact)==null?void 0:a.contactType;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}g.computed_is_page=a}),98);
__d("LS_Thread__is_secure_thread",["LSMessagingThreadTypeUtil","LSThreadIsSecureThread__is_secure_thread.graphql","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadIsSecureThread__is_secure_thread.graphql"),a);a=a.thread_type;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}g.is_secure_thread=a}),98);
__d("LS_Thread__other_participant_or_self",["I64","LSMessagingThreadTypeUtil","LSRelayLiveResolvers","LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql","ReQL","ReactiveExecutorResolverFragments"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=d("ReactiveExecutorResolverFragments").readFragment(h!==void 0?h:h=b("LSThreadOtherParticipantOrSelf__other_participant_or_self.graphql"),a);var c=a.__context,e=a.participants.edges,f=a.threadKey;a=a.threadType;if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return d("LSRelayLiveResolvers").nullValueLiveState;var g=c.actorID;return e.length===1?d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f)}):d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(c,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(f).filter(function(a){a=a.contactId;return(i||(i=d("I64"))).to_string(a)!==g})})}g.other_participant_or_self=a}),98);
__d("LS_Thread__other_participants_MAY_CAUSE_OVERFETCHING",["I64","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.context,c=a.value.threadKey;return d("LSRelayLiveResolvers").iterableToPluralFieldLiveResolver_MAY_CAUSE_OVERFETCHING(b,function(a){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==b.actorID})})}g.other_participants_MAY_CAUSE_OVERFETCHING=a}),98);
__d("LS_Viewer",["I64","LSFeatureLimitsType","LSIntEnum","LSRelayLiveResolvers","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.context.actorID}function b(a){a=a.context;var b=(h||(h=d("I64"))).of_float(Date.now()/1e3);return d("LSRelayLiveResolvers").mapLiveState(d("LSRelayLiveResolvers").iterableToMappedValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.feature_limits).filter(function(a){return k(a)&&(h||(h=d("I64"))).gt(a.expirationTimestampSeconds,b)}).take(1)},function(a){return a!=null}),function(a){return a==null?void 0:a.value})}var j=[(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").READ_ONLY),i.ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),i.ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)],k=function(a){return j.some(function(b){return(h||(h=d("I64"))).equal(b,a.type_)})};function e(a){a=a.context;return d("LSRelayLiveResolvers").iterableToFirstValueLiveResolver(a,function(a){return d("ReQL").fromTableAscending(a.tables.user_visible_errors).filter(function(a){return a.presentationStyle==="banner"})})}g.actor_id=a;g.is_read_only_feature_limited=b;g.user_visible_error_banner=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MAWBumpThread",["FBLogger","I64","ODS","ReQL","WALoggerDeferred","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWBumpThreadV1] Bumping thread "," lastActivityTs: "," lastReadTs: "," snippetSenderID: "," LS CTA Type: "," description: ",""]);j=function(){return a};return a}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.description,f=a.lastActivityTs,g=a.lastMessageCtaType,k=a.lastReadTs,l=a.snippet,m=a.snippetSenderContactId,n=a.threadKey;a=a.txn;var o=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(n)));if(o==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");b=(b=m)!=null?b:o.snippetSenderContactId;var p=f!=null?(i||(i=d("I64"))).to_string(f):null,q=k!=null?(i||(i=d("I64"))).to_string(k):null;yield d("WALoggerDeferred").LOG(j(),(i||(i=d("I64"))).to_string(n),p,q,m!=null?(i||(i=d("I64"))).to_string(m):"undefined",g,e);c("FBLogger")("messenger_e2ee_web").info("[MAWBumpThreadV1] Bumping thread %s lastActivityTs: %s lastReadTs: %s snippetSenderID: %s LS CTA Type: %s description: %s",i.to_string(n),p,q,m!=null?(i||(i=d("I64"))).to_string(m):"undefined",g,e);yield a.threads.put(babelHelpers["extends"]({},o,{lastActivityTimestampMs:(n=f)!=null?n:o.lastActivityTimestampMs,lastMessageCtaType:g,lastReadWatermarkTimestampMs:(p=k)!=null?p:o.lastReadWatermarkTimestampMs,snippet:l,snippetSenderContactId:b}))});return k.apply(this,arguments)}g.threadMutation_DEPRECATED=a}),98);
__d("MAWCreateGroupThread",["fbt","I64","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","MWSharedMsgLogUtils","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone","sendToSentQPLLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.db,e=a.deduplicationKey,g=a.isDualSend;g=g===void 0?!1:g;var j=a.offlineThreadingId,k=a.participantIds;a=a.threadName;j=j!=null?(i||(i=d("I64"))).to_string(j):void 0;var l="msgr",m=d("sendToSentQPLLogger").markSendToSentStart();d("sendToSentQPLLogger").addSendToSentAnnotations(m,yield d("MWSharedMsgLogUtils").getSendToSentBaseAnnotations(d("MWSharedMsgLogUtils").getMessageTypeParams({isGroupInvite:!0}),c("LSMessagingThreadAttributionType").UNKNOWN));e=(yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:j,deduplicationKey:e,isDualSend:g,platform:l},key:j,s2sInstanceKey:m,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:j,users:k})));a=e.error;j=e.value;if(a==null&&j!=null&&j.type===l){d("sendToSentQPLLogger").markSendToSentSuccess(m);return{created:!0,jid:j.chatJid}}if(!g){var n=h._("__JHASH__Q8EKHlLB3en__JHASH__").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,f.id+":102"))}d("sendToSentQPLLogger").markSendToSentFail(m,"failed_to_send_group_invite");throw c("unrecoverableViolation")("Unable to create group","maw_threads")});return k.apply(this,arguments)}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.deduplicationKey;if(b==null)return j(a);b=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b}));return b!=null?{created:!1,jid:b.jid}:j(a)});return l.apply(this,arguments)}g["default"]=a}),226);
__d("MAWCreateOptimisticSecureMessage",["I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","asyncToGeneratorRuntime","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e==null)return[void 0,void 0];var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b)));return a==null?void 0:a.firstName});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b==null)return;var f=c("isMWBumpMessage")(b)&&b.replyToUserId!=null?b.replyToUserId:b.senderId;a=(yield l(a,f));return(b=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(f,e)}))==null?void 0:b.toString()});return o.apply(this,arguments)}function p(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function q(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}function a(a,b,c,d,e,f,g,h,i,j,k,l){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,k,l,m,o,r,s){var t=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",l,function(){return j(b,h,f,l)})),u=t[0];t=t[1];g=d("MAWBridgeBuildMsg").buildOptimisticMessage(g,u,m);m=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",l,function(){return n(a,u,e)}));g=babelHelpers["extends"]({},g,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(s),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:o,offlineThreadingId:o,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:q(t),replyMediaPreviewHeight:t==null?void 0:t.previewHeight,replyMediaPreviewWidth:t==null?void 0:t.previewWidth,replyMediaUrl:p(t),replyMediaUrlMimeType:t==null?void 0:t.playableUrlMimeType,replySnippet:m,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:h,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)});return g});return r.apply(this,arguments)}g.buildOptimisticLsMessage=a}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWBumpThread","MAWLocalizationType","MAWMsgType","MessagingAttachmentType","ReQL","WAJids","WATimeUtils","asyncToGeneratorRuntime","cr:2472","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return d("WATimeUtils").millisTime()}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.threads.index("lastActivityTimestampMs"))));return a==null||(h||(h=d("I64"))).equal(a.threadKey,b)?null:(h||(h=d("I64"))).add(a.lastActivityTimestampMs,h.one)});return k.apply(this,arguments)}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.hotEmojiSize,g=e.mentionedJids,k=e.messageText,l=e.senderId,n=e.threadKey;e=e.ts;k=b("cr:2472")==null?k:b("cr:2472").unvault(k);f=f!=null&&(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&k==="\ud83d\udc4d";f=f?"(Y)":m(k,g);k=d("MAWAdminMsg").buildLocalizedString([f],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);g=null;c("gkx")("7698")?g=(yield j(a,n)):g=e;yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:g,lastReadTs:g,snippet:k,snippetSenderContactId:l,threadKey:n,txn:a})});return l.apply(this,arguments)}function m(a,b){b=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(a,b,[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT);var c=b[0];b[1];return(b=c)!=null?b:a}function f(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.optimisticMediaAttachment,e=b.senderId,f=b.threadKey;b=b.timestampMsI64;c=r(c.type);c!=null&&(yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:b,lastReadTs:b,snippet:c,snippetSenderContactId:e,threadKey:f,txn:a}))});return n.apply(this,arguments)}function o(a){var b=a.ephemeralSettings,c=a.externalId,e=a.threadJid;a=a.ts;return{ack:d("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:d("WAJids").AUTHOR_ME,ephemeralSetting:(b=b)!=null?b:void 0,externalId:c,isForwarded:!1,specialTextSize:void 0,threadJid:e,ts:d("WATimeUtils").castMilliSecondsToUnixTime(a)}}function p(a){var b=a.content,c=a.initiatingSource,d=a.isFirstMsg,e=a.mentionedJids,f=a.optimisticMsg,g=a.quote,h=a.specialTextSize;a=a.threadSource;return{content:b,initiatingSource:c,isFirstMsg:d,isForwarded:!1,mentionedJids:e==null?void 0:e.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:f,participantCount:void 0,quote:g,source:a,specialTextSize:h}}function q(a){var b=a.optimisticMediaAttachment,e=a.threadKey,f=a.timestampMsI64;e={attachmentFbid:a.offlineAttachmentId,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a.attachmentType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),filename:b==null?void 0:b.filename,hasMedia:!h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),hasXma:h.equal(a.attachmentType,i.ofNumber(c("MessagingAttachmentType").XMA)),isSharable:!1,messageId:a.messageExternalId,offlineAttachmentId:a.offlineAttachmentId,subtitleText:a.subtitleText,threadKey:e,timestampMs:f,titleText:a.titleText,transportKey:"WhatsApp"};if(b){e=babelHelpers["extends"]({},e,{filesize:c("gkx")("4798")?(h||(h=d("I64"))).of_float(b.file.size):void 0,previewUrl:b.url});if(b.type==="image"||b.type==="animated_image"||b.type==="video"||b.type==="sticker"){e=babelHelpers["extends"]({},e,{previewHeight:((f=b.thumbnailSpec)==null?void 0:f.height)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.height):void 0,previewWidth:((f=b.thumbnailSpec)==null?void 0:f.width)?(h||(h=d("I64"))).of_float((a=b.thumbnailSpec)==null?void 0:a.width):void 0})}}return e}function r(a){switch(a){case"animated_image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function s(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER):return d("MAWMsgType").MSG_TYPE.STICKER;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):return d("MAWMsgType").MSG_TYPE.IMAGE;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE):return d("MAWMsgType").MSG_TYPE.GIF;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):return d("MAWMsgType").MSG_TYPE.VIDEO;case(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):return d("MAWMsgType").MSG_TYPE.PTT;default:return d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function t(a){if(a==null)return;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}g.getOptimisticMessageTimestamp=a;g.getOptimisticThreadBumpTimestamp=j;g.optimisticBumpThread=e;g.optimisticBumpThreadMedia=f;g.buildMAWOptimisticBaseMsg=o;g.buildMAWBaseSendMsgArgs=p;g.buildOptimisticAttachment=q;g.lsAttachmentTypeToMsgType=s;g.getSpecialTextSize=t}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j,k,l,m){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,i,k,l,m,n,o,p){m(o);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var q=(h||(h=d("I64"))).of_float(m);a=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,"",g,void 0,l,void 0,o,q,j(k.type)));f=p==null?void 0:p.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i));f!=null&&(a=babelHelpers["extends"]({},a,{groupId:f.groupId,groupIndex:(h||(h=d("I64"))).of_float(f.groupIndex),groupSize:h.of_float(f.groupSize)}));yield b.messages.add(a);p=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:n,messageExternalId:o,offlineAttachmentId:i,optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:q});yield b.attachments.add(p);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(b,{optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:q});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:o,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(i),offlineMsgTimestamp:m}});return i.apply(this,arguments)}function j(a){switch(a){case"animated_image":return 16384;case"image":return 2;case"video":return 2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}g.createOptimisticMessageWithAttachment=a}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","asyncToGeneratorRuntime","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){return d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:(b=a.messageId)!=null?b:"",minTimestampMs:h.min_int,threadKey:a.threadKey}))},this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){});return function(b,c,d,e){return a.apply(this,arguments)}}()},j;function a(){j==null&&(j=new i());return j}g["default"]=a}),98);
__d("MAWMessageRangeDataSource",["I64","LSDatabaseSingleton","MAWMessagesRangesUtils","MAWPutMessagesToDB","MAWSecureLocalDBFetch","MAWTimedBridge","MAWWaitForACTThreadReadyForMLv2","MLV2DataSourceLogger","MessageRangeSet","Promise","WATagsLogger","asyncToGeneratorRuntime","err","gkx","nullthrows","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWMessageRangeDataSource: Failed to fetch messages from worker due to ",". Error: ",""]);k=function(){return a};return a}var l=1e4,m=5,n=function(a){var e=this;this.$2=new(c("MessageRangeSet"))();this.$3=m;this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){b==null?void 0:b.annotateMessageRangesDataSource("MAWMessageRangeDataSource");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_start");c=e.$2.getRangeForTimestamp(a.timestampMs);if(c!=null){b==null?void 0:b.markQPLPoint("maw_preexisting_range");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");return c}c=(j||(j=d("I64"))).equal(a.timestampMs,j.max_int);c={hasMoreAfter:!c,hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(c=a.messageId)!=null?c:"",maxTimestampMs:a.timestampMs,minMessageId:(c=a.messageId)!=null?c:"",minTimestampMs:a.timestampMs,threadKey:e.$1};a=e.$2.upsertRange(c);b==null?void 0:b.markQPLPoint("maw_range_created");b==null?void 0:b.markQPLPoint("maw_get_or_create_range_end");return a};this.extendRange=function(a,c,f,g){var i=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,c);a=e.$2.getRangeForTimestamp(a.minTimestampMs);if(a==null){i==null?void 0:i.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}var j=a.value;if(c==="asc"&&(!j.hasMoreAfter||j.isLoadingAfter)){i==null?void 0:i.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}if(c==="desc"&&(!j.hasMoreBefore||j.isLoadingBefore)){i==null?void 0:i.markQPLPoint("extend_range_canceled");return(h||(h=b("Promise"))).resolve()}a.next(babelHelpers["extends"]({},j,{isLoadingAfter:j.isLoadingAfter||c==="asc",isLoadingBefore:j.isLoadingBefore||c==="desc"}));return e.$4(a.value,c,f,g)};this.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,f,g){var h=d("MLV2DataSourceLogger").getMLV2LoggerForThread(e.$1,b);h==null?void 0:h.markQPLPoint("maw_wait_act_thread_start");var j=(yield d("MAWWaitForACTThreadReadyForMLv2").waitForACTThreadReadyForMLv2((yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton).tables,e.$1,"MAWMessageRangeDataSourceForThread",h));j=j.chatJid;h==null?void 0:h.markQPLPoint("maw_wait_act_thread_end");h==null?void 0:h.markQPLPoint("maw_fetch_messages_start");f=c("qex")._("365")===!0?f:20;j=(yield c("MAWSecureLocalDBFetch")({actionType:"user",chatJid:j,config:{admin:!0,editMsgHistory:!0,media:!0,reactions:!0,receiverFetch:!0,xma:!0},count:f,direction:o(b),offsetMsg:{includeOriginalMsg:!0,messageId:b==="asc"?a.maxMessageId:a.minMessageId},timestampMs:b==="asc"?a.maxTimestampMs:a.minTimestampMs},{timeoutMs:l}));if(j.success===!1){f=j.payload;f=f==null?"unknown":"["+f.name+"]: "+f.message;d("WATagsLogger").TAGS(["maw_message_core","MAWMessageRangeDataSource"]).ERROR(k(),j.error,f);if(c("gkx")("7409")&&j.payload instanceof d("MAWTimedBridge").MAWBridgeTimeoutError&&e.$3>0){h==null?void 0:h.markQPLPoint("maw_fetch_messages_timed_out");e.$3-=1;e.$2.upsertRange(babelHelpers["extends"]({},a,{isLoadingAfter:!1,isLoadingBefore:!1}));return}h==null?void 0:h.markQPLPoint("maw_fetch_messages_failed");throw(f=j.payload)!=null?f:c("err")("Failed to fetch messages from worker")}h==null?void 0:h.markQPLPoint("maw_fetch_messages_end");f=j.value;h==null?void 0:h.markQPLPoint("insert_msgs_to_lsdb_start");yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(yield i.LSDatabaseSingleton,f,g,h==null?void 0:h.getInstanceKey());h==null?void 0:h.markQPLPoint("insert_msgs_to_lsdb_end");h==null?void 0:h.markQPLPoint("maw_upsert_range_start");j=d("MAWMessagesRangesUtils").mergeMoreMessagesResponseIntoRange(a,f,b);e.$2.upsertRange(j);h==null?void 0:h.markQPLPoint("maw_upsert_range_end")});return function(b,c,d,e){return a.apply(this,arguments)}}();this.$1=a};a=function(){function a(){var a=this;this.$1=new Map();this.getOrCreateMessageRangeCoveringCursor=function(b,c,d){var e=b.threadKey;return a.$2(e).getOrCreateMessageRangeCoveringCursor(b,c,d)};this.extendRange=function(b,c,d,e){var f=b.threadKey;return a.$2(f).extendRange(b,c,d,e)}}var b=a.prototype;b.$2=function(a){var b=(j||(j=d("I64"))).to_string(a);if(!this.$1.has(b)){a=new n(a);this.$1.set(b,a)}return c("nullthrows")(this.$1.get(b))};return a}();function o(a){switch(a){case"asc":return"after";case"desc":return"before";case"point":return"point";default:return"point"}}e=new a();g["default"]=e}),98);
__d("combineLatestWith",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d("relay-runtime").Observable.create(function(a){var c=new Set(b),d=new Set(b),e=b.map(function(){return void 0}),f=b.map(function(b,f){return b.subscribe({complete:function(){d["delete"](b),d.size===0&&a.complete()},error:a.error,next:function(d){e[f]=d,c["delete"](b),c.size===0&&a.next(e)}})});return function(){f.forEach(function(a){return a.unsubscribe()})}})}g["default"]=a}),98);
__d("MAWEBCombinedRangeDataSource",["EBMessageRangeDataSource","I64","MAWMessageRangeDataSource","Promise","asyncToGeneratorRuntime","combineLatestWith","err","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){if(a==null&&b==null)throw c("err")("Expected non-null minrange.");if(a==null||b==null){var e;e=c("nullthrows")((e=a)!=null?e:b);return{minMessageId:e.minMessageId,minTimestampMs:e.minTimestampMs}}e=(i||(i=d("I64"))).ge((e=a==null?void 0:a.minTimestampMs)!=null?e:(i||(i=d("I64"))).min_int,(e=b==null?void 0:b.minTimestampMs)!=null?e:(i||(i=d("I64"))).min_int)?a:b;return e.hasMoreBefore===!1?{minMessageId:(i||(i=d("I64"))).le(a.minTimestampMs,b.minTimestampMs)?a.minMessageId:b.minMessageId,minTimestampMs:(i||(i=d("I64"))).min(a.minTimestampMs,b.minTimestampMs)}:{minMessageId:e.minMessageId,minTimestampMs:e.minTimestampMs}}function k(a,b){if(a==null&&b==null)throw c("err")("Expected non-null maxrange.");if(a==null||b==null){var e;e=c("nullthrows")((e=a)!=null?e:b);return{maxMessageId:e.maxMessageId,maxTimestampMs:e.maxTimestampMs}}e=(i||(i=d("I64"))).le(a.maxTimestampMs,b.maxTimestampMs)?a:b;return e.hasMoreAfter===!1?{maxMessageId:(i||(i=d("I64"))).ge(a.maxTimestampMs,b.maxTimestampMs)?a.maxMessageId:b.maxMessageId,maxTimestampMs:(i||(i=d("I64"))).max(a.maxTimestampMs,b.maxTimestampMs)}:{maxMessageId:e.maxMessageId,maxTimestampMs:e.maxTimestampMs}}var l=function(a){var d=this;this.getOrCreateMessageRangeCoveringCursor=function(a,b,e){b==null?void 0:b.annotateMessageRangesDataSource("MAWEBCombinedRangeDataSource");var f=c("MAWMessageRangeDataSource").getOrCreateMessageRangeCoveringCursor(a,b,e);b=c("EBMessageRangeDataSource")(d.$1).getOrCreateMessageRangeCoveringCursor(a,b,e);return c("combineLatestWith")(f,b).map(function(b){var c=b[0];b=b[1];var d=k(c,b),e=j(c,b);return{hasMoreAfter:Boolean((c==null?void 0:c.hasMoreAfter)||(b==null?void 0:b.hasMoreAfter)),hasMoreBefore:Boolean((c==null?void 0:c.hasMoreBefore)||(b==null?void 0:b.hasMoreBefore)),isLoadingAfter:Boolean((c==null?void 0:c.isLoadingAfter)||(b==null?void 0:b.isLoadingAfter)),isLoadingBefore:Boolean((c==null?void 0:c.isLoadingBefore)||(b==null?void 0:b.isLoadingBefore)),maxMessageId:d.maxMessageId,maxTimestampMs:d.maxTimestampMs,minMessageId:e.minMessageId,minTimestampMs:e.minTimestampMs,threadKey:a.threadKey}})};this.extendRange=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){yield (h||(h=b("Promise"))).all([c("EBMessageRangeDataSource")(d.$1).extendRange(a,e,f,g),c("MAWMessageRangeDataSource").extendRange(a,e,f,g)])});return function(b,c,d,e){return a.apply(this,arguments)}}();this.$1=a},m,n;function a(a){(m==null||n!==a)&&(n=a,m=new l(a));return m}g["default"]=a}),98);
__d("MAWFetchExternalAttachmentBlob",["asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield window.fetch(a,{}).then(function(a){return a.blob()})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_external_attachment_failed");throw a}));return a});return h.apply(this,arguments)}g.fetchExternalAttachmentBlob=a}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataStatusIsOfType=a}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataTypeIsOfType=a}),98);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a,b,e,f){a===void 0&&(a="");b===void 0&&(b="");var g=d("MAWLoggerUtils").getInstanceKeyFromId(a.concat(b)),h=m(!1),n=l(function(){if(a==null||b==null)return null;var k=(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA);c("QPLUserFlow").start(d("MWMediaRenderQplUtils").event,{annotations:{string:{attachment_type:d("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(k),content_type:d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(k),entry_point:"composer_view",linkPreviewDataType:d("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum((k=e)!=null?k:(j||(j=d("I64"))).zero),thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum((k=f)!=null?k:(j||(j=d("I64"))).zero)}},cancelOnUnload:!0,instanceKey:g,timeoutInMs:d("MWMediaRenderQplUtils").QPL_TIMEOUT});h.current=!1;return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,g,h))},[g]);k(function(){return function(){h.current===!1&&(n==null?void 0:n.getInstanceKey())!=null&&(n==null?void 0:n.endCancel(706))}},[n]);return n}g.useMediaComposerLinkPreviewXMARenderQpl=a}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xng8ra",width:"xh8yej3",$$css:!0}};function a(a){var b=i(5);a=a.title;if(a==null)return null;var d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d xc73u3c x5ib6vp",e=j.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconLink"),size:16}),f="x1iyjqo2",b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.glimmer,children:j.jsxs("div",{className:d,children:[e,j.jsx("div",{className:f,children:j.jsx(c("MWXText.react"),{type:"body4",children:a})})]})}),b[3]=a,b[4]=d):d=b[4];return d}g["default"]=a}),98);
__d("MWXLinkPreviewTruncateText",[],(function(a,b,c,d,e,f){"use strict";var g={body:100,headline:80,subtext:100},h={body:30,headline:20,subtext:30};function a(a){var b=a.isChatTab,c=a.position;a=a.text;b=b?h:g;b=b[c];if(a==null)return void 0;c=a.replace(/\r?\n|\r/g,"").trim();return c.length<=b?c:Array.from(c).slice(0,b).join("").trim()+"..."}f.truncateText=a}),66);
__d("MAWLinkPreviewCard.react",["fbt","ix","BaseView.react","ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","I64","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MWLSThreadDisplayContext","MWMediaComposerLinkPreviewXMARenderQpl","MWXIcon.react","MWXImage.react","MWXLinkPreviewLoadingIndicator.react","MWXLinkPreviewTruncateText","MWXText.react","MWXTextPairing.react","asyncToGeneratorRuntime","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useEffect,o=e.c,p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xlqzeqv",width:"xh8yej3",$$css:!0},image:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"xng8ra",marginEnd:"xmo9yow",objectFit:"xl1xv1r",width:"x1247r65",$$css:!0},isReplying:{borderTopWidth:"x972fbf",$$css:!0},outerContainer:{backgroundColor:"x57kliw",borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",paddingStart:"xvpee5o",paddingEnd:"x14uny0o",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},textSection:{flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}};function a(a){var e=o(61),g=a.draftID,l=a.isReplying,q=a.linkPreview,r=a.threadType;a=a.xmaData;var s=d("MWMediaComposerLinkPreviewXMARenderQpl").useMediaComposerLinkPreviewXMARenderQpl(g,a.url,q.dataType,r),t=(j||(j=c("useReStore")))();g=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";r=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(q.dataType,c("E2EELinkPreviewXMADataType").FALLBACK);var u=a.author_name,v=a.iframeMediaURL,w=a.title,x=a.url;if(e[0]!==x){var y;y=x!=null?(y=d("ConstUriUtils").getUri(x))==null?void 0:y.getDomain():"";e[0]=x;e[1]=y}else y=e[1];y=y;x=r?x:y;e[2]!==g||e[3]!==x?(y=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:g,position:"subtext",text:x}),e[2]=g,e[3]=x,e[4]=y):y=e[4];x=y;y=r?void 0:w;var z;e[5]!==g||e[6]!==y?(z=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:g,position:"headline",text:y}),e[5]=g,e[6]=y,e[7]=z):z=e[7];y=z;z=r?w:u;e[8]!==g||e[9]!==z?(r=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:g,position:"body",text:z}),e[8]=g,e[9]=z,e[10]=r):r=e[10];w=r;u=q==null?void 0:q.status;e[11]!==u?(g=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(u,c("E2EELinkPreviewXMADataStatus").LOADING),e[11]=u,e[12]=g):g=e[12];var A=g;e[13]!==v||e[14]!==A||e[15]!==s?(z=function(){!Boolean(v)&&!A?s==null?void 0:s.endSuccess({bool:{has_media_preview_url:!1}}):s==null?void 0:s.addPoint("link-preview-card-render")},r=[v,A,s],e[13]=v,e[14]=A,e[15]=s,e[16]=z,e[17]=r):(z=e[16],r=e[17]);n(z,r);e[18]!==s?(u=function(){s==null?void 0:s.endFail("load-image-error")},e[18]=s,e[19]=u):u=e[19];g=u;e[20]!==s?(z=function(){s==null?void 0:s.endSuccess({bool:{has_media_preview_url:!0}})},e[20]=s,e[21]=z):z=e[21];r=z;if(A){s==null?void 0:s.addPoint("render_preview_loading_indicator");u=l&&p.isReplying;e[22]!==u?(z=[p.outerContainer,u],e[22]=u,e[23]=z):z=e[23];e[24]!==a.title?(u=m.jsx(c("BaseView.react"),{xstyle:p.container,children:m.jsx(c("MWXLinkPreviewLoadingIndicator.react"),{title:a.title})}),e[24]=a.title,e[25]=u):u=e[25];e[26]!==z||e[27]!==u?(a=m.jsx(c("BaseView.react"),{xstyle:z,children:u}),e[26]=z,e[27]=u,e[28]=a):a=e[28];return a}z=l&&p.isReplying;e[29]!==z?(u=[p.outerContainer,z],e[29]=z,e[30]=u):u=e[30];e[31]!==v||e[32]!==g||e[33]!==r?(a=v!=null&&m.jsx(c("MWXImage.react"),{onError:g,onLoad:r,src:v,xstyle:p.image}),e[31]=v,e[32]=g,e[33]=r,e[34]=a):a=e[34];e[35]!==y?(l=m.jsx(c("MWXText.react"),{type:"headline4",children:y}),e[35]=y,e[36]=l):l=e[36];e[37]!==w||e[38]!==l||e[39]!==x?(z=m.jsx(c("BaseView.react"),{xstyle:p.textSection,children:m.jsx(c("MWXTextPairing.react"),{body:w,bodyLineLimit:1,headline:l,level:4,meta:x})}),e[37]=w,e[38]=l,e[39]=x,e[40]=z):z=e[40];e[41]!==a||e[42]!==z?(g=m.jsxs(c("BaseView.react"),{xstyle:p.content,children:[a,z]}),e[41]=a,e[42]=z,e[43]=g):g=e[43];e[44]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__bIolCKyk1Ph__JHASH__"),e[44]=r):r=e[44];e[45]===Symbol["for"]("react.memo_cache_sentinel")?(y=d("fbicon")._(i("478231"),12),e[45]=y):y=e[45];e[46]!==t||e[47]!==q.data||e[48]!==q.dataType||e[49]!==q.draftId?(w=function(){t.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a.e2ee_composer_draft_link_preview.put({data:(a=q.data)!=null?a:void 0,dataType:(a=q.dataType)!=null?a:void 0,draftId:q.draftId,status:(k||(k=d("I64"))).of_int32(c("E2EELinkPreviewXMADataStatus").DISABLED)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":185")},e[46]=t,e[47]=q.data,e[48]=q.dataType,e[49]=q.draftId,e[50]=w):w=e[50];e[51]!==r||e[52]!==y||e[53]!==w?(l=m.jsx(c("MWXIcon.react"),{"aria-label":r,color:"primary",icon:y,onPress:w}),e[51]=r,e[52]=y,e[53]=w,e[54]=l):l=e[54];e[55]!==g||e[56]!==l?(x=m.jsxs(c("BaseView.react"),{xstyle:p.container,children:[g,l]}),e[55]=g,e[56]=l,e[57]=x):x=e[57];e[58]!==u||e[59]!==x?(a=m.jsx(c("BaseView.react"),{xstyle:u,children:x}),e[58]=u,e[59]=x,e[60]=a):a=e[60];return a}g["default"]=a}),226);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a==null?void 0:a.status,e=a==null?void 0:a.data;if(a==null||b==null||e==null)return null;a=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("E2EELinkPreviewXMADataStatus").DISABLED));b=JSON.parse(e);return Object.keys(b).length===0||b.url==null||a?null:b}g.parseLinkPreviewXMAData=a}),98);
__d("MAWLinkPreview.react",["MAWLinkPreviewCard.react","MAWParseLinkPreviewXMAData","MWPComposerDraftMessages","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(12),e=a.isReplying,g=a.threadKey;a=a.threadType;var i=(h||(h=c("useReStore")))(),l,m;b[0]!==i.tables.e2ee_composer_draft_link_preview||b[1]!==g?(l=function(){return d("ReQL").fromTableAscending(i.tables.e2ee_composer_draft_link_preview).filter(function(a){return a.draftId===((a=d("MWPComposerDraftMessages").getDraftMessage(g))==null?void 0:a.id)})},m=[i.tables.e2ee_composer_draft_link_preview,g],b[0]=i.tables.e2ee_composer_draft_link_preview,b[1]=g,b[2]=l,b[3]=m):(l=b[2],m=b[3]);l=d("ReQLSuspense").useArray(l,m,f.id+":33");m=l.length>0?l[0]:void 0;b[4]!==m?(l=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(m),b[4]=m,b[5]=l):l=b[5];l=l;if((m==null?void 0:m.draftId)==null||l==null)return null;var n=m==null?void 0:m.draftId,o;b[6]!==n||b[7]!==e||b[8]!==m||b[9]!==a||b[10]!==l?(o=k.jsx(c("MAWLinkPreviewCard.react"),{draftID:n,isReplying:e,linkPreview:m,threadType:a,xmaData:l}),b[6]=n,b[7]=e,b[8]=m,b[9]=a,b[10]=l,b[11]=o):o=b[11];return o}g["default"]=a}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MAWMiActMaybeCreateActThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWCreateGroupThread","MAWCreateOneToOneThread","MAWMiActBulkCreateThreadInActWithMiData","MAWMiActCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","WAJids","WATagsLogger","asyncToGeneratorRuntime","qex","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);j=function(){return a};return a}function k(a,b){return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),threadKey:b,threadType:h.ofNumber(15)}).then(function(){})},"readwrite",void 0,void 0,f.id+":50")}function l(a,b,e,f,g){var j=e.actorId;e=e.participantIds;var k=e.filter(function(a){return a!==(i||(i=d("I64"))).to_string(j)});if(d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){var l=k.length===1?k:e;return d("sendToSentQPLLogger").measureSendToSentPerformance("maybe-create-1-1-thread",g,function(){return d("MAWCreateOneToOneThread").call(a,(i||(i=d("I64"))).of_string(l[0]),i.to_string(b.threadKey),f,g)})}else if(d("LSMessagingThreadTypeUtil").isGroup(b.threadType)&&k.length>1)return c("MAWCreateGroupThread")({db:a,offlineThreadingId:b.threadKey,participantIds:e});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for\n    threadKey: %s, participantsCount: %s, threadType: %s",(i||(i=d("I64"))).to_string(b.threadKey),e.length,(h||(h=d("LSIntEnum"))).toNumber(b.threadType))}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("qex")._("1384")===!0;if(e){e=(yield d("MAWMiActBulkCreateThreadInActWithMiData").miActBulkCreateThreadInActWithMiData([{description:b,fbid:a.serverThreadKey,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType),jid:a.jidInt64,lastActivityTimestampMs:a.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:a.thread.lastReadWatermarkTimestampMs}]));e=e[0];if(e.status==="rejected")throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Failed to create ACT thread for threadKey: %s, error: %s",(i||(i=d("I64"))).to_string(a.serverThreadKey),e.reason);e=e.value;return{created:e.isCreated,jid:e.chatJid}}e=(yield d("MAWMiActCreateThreadInActWithMiData").miActCreateThreadInActWithMiData({description:b,fbid:a.serverThreadKey,isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType),jid:a.jidInt64,lastActivityTimestampMs:a.thread.lastActivityTimestampMs,lastReadWatermarkTimestampMs:a.thread.lastReadWatermarkTimestampMs}));return{created:e.isCreated,jid:e.chatJid}});return n.apply(this,arguments)}function o(a,b){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.thread.threadType))return null;var c=b.actorId;b=b.participantIds;b=b.filter(function(a){return a!==(i||(i=d("I64"))).to_string(c)});if(b.length!==1)return null;b=b[0];return{jid:d("WAJids").unsafeCoerceToChatJid(b+"@msgr"),jidInt64:(i||(i=d("I64"))).of_string(b),serverThreadKey:a.thread.threadKey,thread:a.thread,type:"AUTHORITATIVE_THREAD_ONLY"}}var p=new Map(),q=new Set();function a(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a.tables,b,g));f!=null&&d("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{miActThreadState:h.type.toString()}});switch(h.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:yield k(a,b);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] We did not call MiActLoadExistingThread for threadKey: %s, threadState: %s",(i||(i=d("I64"))).to_string(b),h.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:var n=o(h,e);if(n!=null){q.has(n.jid)&&d("WATagsLogger").TAGS(["occamadillo","retry_create_thread"]).LOG(j(),n.jid);q.add(n.jid);return m(n,g)}else throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] MI inserted the thread but the mapping row was not\n        written or it was deleted for threadKey: %s",(i||(i=d("I64"))).to_string(b));case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:n=(i||(i=d("I64"))).to_string(b);var r=p.get(n);if(r!=null)return r;r=l(a,h.thread,e,g,f);p.set(n,r);return r;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:yield k(a,b);return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return m(h,g);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return{created:!1,jid:h.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled ACT thread creation state %s for threadKey:\n        %s",h.type,(i||(i=d("I64"))).to_string(b));default:h.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",h.type)}});return r.apply(this,arguments)}g["default"]=a}),98);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{id:c("Random").uint32()}}function b(a,b){if(!(Array.isArray(a)||Array.isArray(b)))return(h||(h=d("ReStoreKeyComparer"))).compareKey([a],[b]);else if(Array.isArray(a)&&Array.isArray(b))return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b);throw c("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function e(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}g.getUniqueRef=a;g.wrappedCompareKey=b;g.chunkArray=e}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f;f=(f=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}))))!=null?f:[void 0,void 0];f[0];f=f[1];if(f==null)return;var i=babelHelpers["extends"]({},f,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([f.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:f.id}))});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=b.hasFile,g=b.hasImage;b=b.hasVideo;var h=null;if(b||g||f){b=a[a.length-1];h=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)}else h=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId());c(h);g=a.reduce(function(a,b){var c=e.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId));c!=null&&a.push([c,d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)]);return a},[]);return{attachmentOfflineId:h,attachments:g}}g.prepareAttachmentsFromMediaManagerImpl=a}),98);
__d("MAWSecureThreadNonAddressableContactBannerCloseButton.react",["MWXPressable.react","fbs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5);a=a.onPress;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1923su1 x10l6tqk xfr5jun x1vjfegm",b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("fbs")._("__JHASH__cwU_O5_fD5E__JHASH__"),b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsxs("svg",{height:"18px",viewBox:"0 0 24 24",width:"18px",children:[j.jsx("title",{children:c("fbs")._("__JHASH__lJTlDYURTnq__JHASH__")}),j.jsx("line",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"6",y2:"18"}),j.jsx("line",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"18",y2:"6"})]}),b[2]=f):f=b[2];b[3]!==a?(d=j.jsx("div",{className:d,children:j.jsx(c("MWXPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",children:f})}),b[3]=a,b[4]=d):d=b[4];return d}g["default"]=a}),226);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d;if(a)return{details:h._("__JHASH__ixaC9ybh3Q8__JHASH__"),headline:h._("__JHASH___yUMmqEez-U__JHASH__")};a=((a=b.firstName)!=null?a:"")===""?null:b.firstName;d=((d=b.name)!=null?d:"")===""?null:b.name;b=(a=(b=a)!=null?b:d)!=null?a:"recipient";d=c("IntlVariations").GENDER_UNKNOWN;return{details:h._("__JHASH__J_HXGmiXLis__JHASH__",[h._name("message recipient name",b,d)]),headline:h._("__JHASH__9vfr7-Uns9r__JHASH__",[h._name("message recipient name",b,d)])}}g["default"]=a}),226);
__d("useMAWNonAddressableParticipant",["I64","LSAuthorityLevel","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c;function a(a){var b=l(9),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k;b[0]!==e.tables.participants||b[1]!==e.tables.contacts||b[2]!==a||b[3]!==g?(k=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(e.tables.contacts,["waConnectStatus","authorityLevel","id","name","firstName"])).filter(function(a){a[0];a=a[1];if((i||(i=d("I64"))).equal(a.waConnectStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))&&(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return!(i||(i=d("I64"))).equal(a.id,g);else return!1}).map(function(a){a[0];a=a[1];return a})},b[0]=e.tables.participants,b[1]=e.tables.contacts,b[2]=a,b[3]=g,b[4]=k):k=b[4];var m;b[5]!==e||b[6]!==a||b[7]!==g?(m=[e,a,g],b[5]=e,b[6]=a,b[7]=g,b[8]=m):m=b[8];b=d("ReQLSuspense").useFirst(k,m,f.id+":36");return b}g["default"]=a}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","TemporaryLoggingUtilsForS406998Only","WAJids","WALogger","asyncToGeneratorRuntime","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"]);n=function(){return a};return a}e=l||d("react");var o=e.useState,p=e.c;function a(a){var e=p(17),g=a.isComposerBlocked,k=a.isGroup,l=a.isSecure,m=a.threadKey,n=(h||(h=c("useReStore")))(),r=d("MWPActor.react").useActor();a=o(null);var s=a[0],t=a[1],u;e[0]!==l||e[1]!==n.tables.participants||e[2]!==n.tables.contacts||e[3]!==m||e[4]!==r?(a=function(){return l?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.tables.participants,["contactId"]).getKeyRange(m),d("ReQL").fromTableAscending(n.tables.contacts,["authorityLevel","firstName","name"])).map(function(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!(i||(i=d("I64"))).equal(b,r)?[d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)),a]:null}).filter(Boolean):d("ReQL").empty()},u=[r,n.tables.contacts,n.tables.participants,l,m],e[0]=l,e[1]=n.tables.participants,e[2]=n.tables.contacts,e[3]=m,e[4]=r,e[5]=a,e[6]=u):(a=e[5],u=e[6]);var v=d("ReQLSuspense").useArray(a,u,f.id+":64");e[7]!==l||e[8]!==v||e[9]!==n.tables.threads||e[10]!==n.tables.contacts||e[11]!==n.tables.participants||e[12]!==m||e[13]!==k||e[14]!==g?(a=function(){if(c("gkx")("483")){if(!l){t(null);return}var a=v.map(function(a){a=a[0];return a});a.forEach(function(a){var e=a.split("@")[0];d("TemporaryLoggingUtilsForS406998Only").isStanzaIdForS406998Only(e)&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(i||(i=d("I64"))).of_string(e),f=(yield n.tables.threads.get(m)),g=(yield n.tables.contacts.get(b));b=(yield n.tables.participants.index("contactIdThreadKey").get(b,m));f=f==null?void 0:f.authorityLevel;g=g==null?void 0:g.authorityLevel;b=b==null?void 0:b.authorityLevel;c("FBLogger")("messenger_e2ee_web","invalid_participant_id").mustfix("[S406998] invalid participant %s. threadKey: %s. isGroup: %s. count: %s. threadAuthLevel: %s. contactAuthLevel: %s. participantAuthLevel: %s",a,i.to_string(m),k,v.length,f?(i||(i=d("I64"))).to_string(f):"",g?(i||(i=d("I64"))).to_string(g):"",b?(i||(i=d("I64"))).to_string(b):"")})())});c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:a}).then(function(a){var b=v.find(function(b){b=b[0];return!a.has(b)||((b=a.get(b))==null?void 0:b.length)===0});q(m,k,g,b!=null);t(b!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:b[1]}:{hasNonAddressableParticipant:!1})}))}},u=[n.tables.contacts,n.tables.participants,n.tables.threads,g,k,l,m,v],e[7]=l,e[8]=v,e[9]=n.tables.threads,e[10]=n.tables.contacts,e[11]=n.tables.participants,e[12]=m,e[13]=k,e[14]=g,e[15]=a,e[16]=u):(a=e[15],u=e[16]);d("Int64Hooks").useEffectInt64(a,u);return s}function q(a,b,e,f){b=b?"group":"1:1";var g=d("CurrentMessengerUser").isTestUser()?"test user":"prod user",h=function(a){a.addAnnotationBoolean("hasNonAddressableParticipantOccam",e),a.addAnnotationBoolean("hasNonAddressableParticipantWAI",f)};c("MWGetChatTabOpenQPLEventTrace")(a,h);c("MWGetInboxNavigateQPLEventTrace")(a,h);e&&!f?((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(n(),b,g),c("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(i||(i=d("I64"))).to_string(a),b,g)):!e&&f&&((k||(k=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(m(),b,g))}g.useHasNonAddressableParticipantWAI=a}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","react","useHasNonAddressableParticipantWAI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(8),e=a.bannerFromOccam,f=a.isGroup,g=a.isSecure;a=a.threadKey;var h=e!=null,j;b[0]!==h||b[1]!==f||b[2]!==g||b[3]!==a?(j={isComposerBlocked:h,isGroup:f,isSecure:g,threadKey:a},b[0]=h,b[1]=f,b[2]=g,b[3]=a,b[4]=j):j=b[4];a=d("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI(j);if(!g||a==null)return e;if(!a.hasNonAddressableParticipant&&h&&c("gkx")("8670"))return null;if(a.hasNonAddressableParticipant&&!h&&c("gkx")("8671")){b[5]!==f||b[6]!==a.nonAddressableParticipantName?(j=c("getMAWNonAddressableContactBannerStrings")(f,a.nonAddressableParticipantName),b[5]=f,b[6]=a.nonAddressableParticipantName,b[7]=j):j=b[7];return j}return e}g["default"]=a}),98);
__d("MAWSecureThreadNonAddressableContactBanner.react",["LSMessagingThreadTypeUtil","MAWSecureThreadNonAddressableContactBannerCloseButton.react","MWXRow.react","MWXRowItem.react","MWXText.react","getMAWNonAddressableContactBannerStrings","react","useMAWNonAddressableParticipant","useMAWOverrideNonAddressableParticipantWithWAI"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useState,k=b.c;function a(a){var b=k(20),e=a.setHideComposerEditor;a=a.thread;var f=c("useMAWNonAddressableParticipant")(a.threadKey),g,h;b[0]!==a.threadType||b[1]!==f?(h=d("LSMessagingThreadTypeUtil").isGroup(a.threadType),g=f!=null?c("getMAWNonAddressableContactBannerStrings")(h,f):null,b[0]=a.threadType,b[1]=f,b[2]=g,b[3]=h):(g=b[2],h=b[3]);f=g;b[4]!==f||b[5]!==h||b[6]!==a.threadKey?(g={bannerFromOccam:f,isGroup:h,isSecure:!0,threadKey:a.threadKey},b[4]=f,b[5]=h,b[6]=a.threadKey,b[7]=g):g=b[7];f=c("useMAWOverrideNonAddressableParticipantWithWAI")(g);a=j(!1);g=a[0];var l=a[1];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return l(!0)},b[8]=a):a=b[8];a=a;var m=h;h=m?!g:!0;var n=f!=null&&h;e(function(){if(n)return!m;else return!1});if(n){b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1exxf4d x13fuv20 x178xt8z x1n2onr6 x1ja2u2z",b[9]=g):g=b[9];b[10]!==m?(h=m?i.jsx(c("MAWSecureThreadNonAddressableContactBannerCloseButton.react"),{onPress:a}):null,b[10]=m,b[11]=h):h=b[11];e=f==null?void 0:f.headline;b[12]!==e?(a=i.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,testid:void 0,children:i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized4",children:e})})}),b[12]=e,b[13]=a):a=b[13];e=f==null?void 0:f.details;b[14]!==e?(f=i.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingTop:4,paddingVertical:16,spacingVertical:4,testid:void 0,children:i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:e})})}),b[14]=e,b[15]=f):f=b[15];b[16]!==h||b[17]!==a||b[18]!==f?(e=i.jsxs("div",{className:g,children:[h,a,f]}),b[16]=h,b[17]=a,b[18]=f,b[19]=e):e=b[19];return e}else return null}g["default"]=a}),98);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","WAChatState","WAJids","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(j||d("react")).c;function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!(k||(k=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(15)))return(i||(i=b("Promise"))).resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(f.contactId)));return e==null?!1:(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return o.apply(this,arguments)}function a(a,e,g){var j=m(24),o=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor(),q;j[0]!==e?(q=(k||(k=d("I64"))).to_string(e),j[0]=e,j[1]=q):q=j[1];q=q;var r=c("MessengerWebUXLogger").useInteractionLogger(),s;j[2]!==o.tables.participants||j[3]!==e?(s=function(){return d("ReQL").fromTableAscending(o.tables.participants,["contactId"]).getKeyRange(e).map(function(a){return d("WAJids").toMsgrUserJid((k||(k=d("I64"))).to_string(a.contactId))})},j[2]=o.tables.participants,j[3]=e,j[4]=s):s=j[4];var t;j[5]!==o||j[6]!==e?(t=[o,e],j[5]=o,j[6]=e,j[7]=t):t=j[7];s=d("ReQLSuspense").useArray(s,t,f.id+":83");j[8]!==a||j[9]!==g||j[10]!==o||j[11]!==e||j[12]!==p||j[13]!==r?(t=function(f){(k||(k=d("I64"))).ge(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&c("promiseDone")(n(o,e,g,p).then(function(a){return!a?(i||(i=b("Promise"))).resolve():d("MAWMiActOnActThreadReady").onActThreadReady(o.tables,e,"MAWSecureTypingState",function(a,c){r==null?void 0:r({eventName:"send_typing_indicators",threadKey:e,threadType:g});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:c,state:f?d("WAChatState").TYPING:d("WAChatState").IDLE});return(i||(i=b("Promise"))).resolve()})}))},j[8]=a,j[9]=g,j[10]=o,j[11]=e,j[12]=p,j[13]=r,j[14]=t):t=j[14];var u;j[15]!==o||j[16]!==s||j[17]!==a||j[18]!==e||j[19]!==g||j[20]!==p||j[21]!==q||j[22]!==r?(u=[o,s,a,e,g,p,q,r],j[15]=o,j[16]=s,j[17]=a,j[18]=e,j[19]=g,j[20]=p,j[21]=q,j[22]=r,j[23]=u):u=j[23];return d("Int64Hooks").useCallbackInt64(t,u)}g.useOnTypingStateChanged=a}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:12529","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12529")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n=k.c,o={cancelButton:{end:"xoo4vsp",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginEnd:"xq8finb",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{start:"xtzzx4i",left:null,right:null,marginStart:"x16hk5td",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function p(a){var b=n(13),d=a.hasError;a=a.progress;d=d===void 0?!1:d;c("vulture")("a0ldKlsroHY");if(a===1||a==null)return null;d=d?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var e=2..toString();e="M 0,"+e+" L 100,"+e;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x168nmei x13lgxp2 x30kzoy x9jhf4c x1ey2m1c x17qophe x10l6tqk xh8yej3",b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={height:4..toString()},b[1]=g):g=b[1];var h;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("path",{d:e,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:4..toString()}),b[2]=h):h=b[2];var i=a===0?0:4,k;b[3]!==i?(k=i.toString(),b[3]=i,b[4]=k):k=b[4];i=100-a;b[5]!==i?(a=i.toString(),b[5]=i,b[6]=a):a=b[6];b[7]!==a?(i={strokeDasharray:"100",strokeDashoffset:a,transition:"stroke-dashoffset .5s, stroke .5s"},b[7]=a,b[8]=i):i=b[8];b[9]!==d||b[10]!==k||b[11]!==i?(a=j.jsxs("svg",{"aria-hidden":!0,className:f,preserveAspectRatio:"none",style:g,viewBox:"0 0 100 "+4..toString(),children:[h,j.jsx("path",{d:e,stroke:d,strokeLinecap:"round",strokeWidth:k,style:i})]}),b[9]=d,b[10]=k,b[11]=i,b[12]=a):a=b[12];return a}function q(a){var b=n(12),e=a.children,f=a.hasError,g=a.onCancel,i=a.progress;a=a.testid;f=f===void 0?!1:f;c("vulture")("79SQDHJUq5i");var k;b[0]!==f||b[1]!==i?(k=j.jsx(p,{hasError:f,progress:i}),b[0]=f,b[1]=i,b[2]=k):k=b[2];b[3]!==e||b[4]!==k?(f=j.jsxs(d("react-strict-dom").html.div,{style:o.contentWrapper,children:[e,k]}),b[3]=e,b[4]=k,b[5]=f):f=b[5];b[6]!==g?(i=g!=null&&j.jsx(d("react-strict-dom").html.div,{style:o.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._("__JHASH__a2BigkmhfXY__JHASH__"),onPress:g,size:24,type:"overlay"})}),b[6]=g,b[7]=i):i=b[7];b[8]!==a||b[9]!==f||b[10]!==i?(e=j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:o.card,children:[f,i]}),b[8]=a,b[9]=f,b[10]=i,b[11]=e):e=b[11];return e}function a(a){var b=n(9),d=a.hasError,e=a.onCancel,f=a.onError,g=a.onLoad,h=a.progress;a=a.src;d=d===void 0?!1:d;c("vulture")("6z3ORrBRyyV");var i;b[0]!==f||b[1]!==g||b[2]!==a?(i=j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:f,onLoad:g,src:a,xstyle:o.imagePreview}),b[0]=f,b[1]=g,b[2]=a,b[3]=i):i=b[3];b[4]!==d||b[5]!==e||b[6]!==h||b[7]!==i?(f=j.jsx(q,{hasError:d,onCancel:e,progress:h,testid:void 0,children:i}),b[4]=d,b[5]=e,b[6]=h,b[7]=i,b[8]=f):f=b[8];return f}function b(a){var b=n(13),e=a.hasError,f=a.onCancel,g=a.onError,h=a.onLoad,i=a.progress;a=a.src;e=e===void 0?!1:e;c("vulture")("m5J2MGOS9v");var k=m(null),l;b[0]!==g||b[1]!==h?(l=j.jsx(c("MWXVideoStatusListener.react"),{onError:g,onLoad:h,videoRef:k}),b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g="xl1xv1r",b[3]=g):g=b[3];b[4]!==a?(h=j.jsx("video",{className:g,height:"48",ref:k,src:a,width:"48"}),b[4]=a,b[5]=h):h=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(d("react-strict-dom").html.div,{style:o.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})}),b[6]=g):g=b[6];b[7]!==e||b[8]!==f||b[9]!==i||b[10]!==l||b[11]!==h?(k=j.jsxs(q,{hasError:e,onCancel:f,progress:i,testid:void 0,children:[l,h,g]}),b[7]=e,b[8]=f,b[9]=i,b[10]=l,b[11]=h,b[12]=k):k=b[12];return k}function e(a){var b=n(14),e=a.hasError,f=a.onCancel,g=a.onLoad,h=a.progress;a=a.title;e=e===void 0?!1:e;c("vulture")("4EDb0Aijd4P");var i,k;b[0]!==g?(i=function(){g==null?void 0:g()},k=[g],b[0]=g,b[1]=i,b[2]=k):(i=b[1],k=b[2]);l(i,k);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),size:20}),b[3]=i):i=b[3];b[4]!==a?(k=j.jsxs(d("react-strict-dom").html.div,{style:o.filePreview,children:[i,j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]}),b[4]=a,b[5]=k):k=b[5];b[6]!==a||b[7]!==k?(i=j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:k}),b[6]=a,b[7]=k,b[8]=i):i=b[8];b[9]!==e||b[10]!==f||b[11]!==h||b[12]!==i?(a=j.jsx(q,{hasError:e,onCancel:f,progress:h,testid:void 0,children:i}),b[9]=e,b[10]=f,b[11]=h,b[12]=i,b[13]=a):a=b[13];return a}function f(a){var b=n(7),d=a.isDisabled;a=a.onPress;c("vulture")("7VTsy9PhMsI");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__07aSX1Sv-Xl__JHASH__"),b[0]=e):e=b[0];e=e;var f=d?"disabled":"primary",g;b[1]!==f?(g=j.jsx(c("MWXIconStrict.react"),{color:f,icon:c("MWXIconPhotoPlus"),size:24}),b[1]=f,b[2]=g):g=b[2];b[3]!==d||b[4]!==a||b[5]!==g?(f=j.jsx(q,{children:j.jsx(c("MWXPressable.react"),{"aria-label":e,disabled:d,onPress:a,testid:void 0,xstyle:o.imagePreview,children:g})}),b[3]=d,b[4]=a,b[5]=g,b[6]=f):f=b[6];return f}g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=f}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={padding12:{paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=i(10),c=a.children,e=a["data-testid"],f=a.padding,g=a.scrollable;a=a.xStyle;f=f===void 0?0:f;var h=f===12&&k.padding12,l=f===4&&k.padding4;f=f===6&&k.padding6;g=g===!0&&k.scrollable;var m;b[0]!==h||b[1]!==l||b[2]!==f||b[3]!==g||b[4]!==a?(m=[k.row,h,l,f,g,a],b[0]=h,b[1]=l,b[2]=f,b[3]=g,b[4]=a,b[5]=m):m=b[5];b[6]!==e||b[7]!==m||b[8]!==c?(h=j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:m,children:c}),b[6]=e,b[7]=m,b[8]=c,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginStart:"x1gryazu",$$css:!0}},l={color:"secondary",size:24};function a(a){var b=i(21),e=a.bodyText,f=a.bodyTextType,g=a["data-testid"],h=a.hasTopBorder,m=a.headlineText,n=a.headlineTextType,o=a.leftAddon,p=a.level,q=a.loadingIndicator,r=a.rightAddon;a=a.subtext;h=h===void 0?!1:h;p=p===void 0?3:p;if(q!=null){var s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=[k.body],b[0]=s):s=b[0];b[1]!==g||b[2]!==q?(s=j.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:s,children:q}),b[1]=g,b[2]=q,b[3]=s):s=b[3];return s}q=h&&k.border;b[4]!==q?(s=[k.body,q],b[4]=q,b[5]=s):s=b[5];h=o!=null&&o;b[6]!==e||b[7]!==a||b[8]!==m||b[9]!==f||b[10]!==n||b[11]!==p?(q=(e!=null||a!=null||m!=null)&&j.jsx(c("MWXTextPairing.react"),{body:e!=null&&f!=null?j.jsx(c("MWXText.react"),{type:f,children:e}):e!=null?j.jsx(c("MWXText.react"),{type:"body4",children:e}):void 0,headline:m!=null&&n!=null?j.jsx(c("MWXText.react"),{type:n,children:m}):m!=null?j.jsx(c("MWXText.react"),{type:"headline4",children:m}):void 0,level:p,meta:a}),b[6]=e,b[7]=a,b[8]=m,b[9]=f,b[10]=n,b[11]=p,b[12]=q):q=b[12];b[13]!==r?(o=r!=null&&j.jsx(c("MWXComposerButtonContext.react").Provider,{value:l,children:j.jsx(d("react-strict-dom").html.div,{style:k.rightAddon,children:r})}),b[13]=r,b[14]=o):o=b[14];b[15]!==g||b[16]!==s||b[17]!==h||b[18]!==q||b[19]!==o?(e=j.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:s,children:[h,q,o]}),b[15]=g,b[16]=s,b[17]=h,b[18]=q,b[19]=o,b[20]=e):e=b[20];return e}g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0}};e=i.forwardRef(a);function a(a,b){var e=k(31),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];var g,h,m,n,o;if(e[2]!==f){a=f;n=a.color;o=a.size;g=a.type;m=a.wrapperStyle;h=a.wrapperXStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","size","type","wrapperStyle","wrapperXStyle"]);e[2]=f;e[3]=g;e[4]=h;e[5]=m;e[6]=n;e[7]=o;e[8]=a}else g=e[3],h=e[4],m=e[5],n=e[6],o=e[7],a=e[8];g=g===void 0?"deemphasized":g;var p=j(c("MWXComposerButtonContext.react")),q=p.color,r=p.iconRatio,s=p.paddingHorizontal;p=p.size;r=r===void 0?"medium":r;s=s===void 0?"none":s;p=p===void 0?36:p;s=s==="small"&&l.horizontalPaddingSmall;var t;e[9]!==h||e[10]!==m?(t=[h,m],e[9]=h,e[10]=m,e[11]=t):t=e[11];e[12]!==s||e[13]!==t?(h=[s,l.layoutWrapper,t],e[12]=s,e[13]=t,e[14]=h):h=e[14];if(e[15]!==n||e[16]!==q){t=(s=(m=n)!=null?m:q)!=null?s:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))");e[15]=n;e[16]=q;e[17]=t}else t=e[17];s=(m=o)!=null?m:p;e[18]!==a||e[19]!==t||e[20]!==r||e[21]!==b||e[22]!==s||e[23]!==g?(n=i.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},a,{color:t,iconRatio:r,ref:b,size:s,type:g})),e[18]=a,e[19]=t,e[20]=r,e[21]=b,e[22]=s,e[23]=g,e[24]=n):n=e[24];e[25]!==f.label||e[26]!==n?(q=i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:f.label,children:n}),e[25]=f.label,e[26]=n,e[27]=q):q=e[27];e[28]!==h||e[29]!==q?(o=i.jsx(d("react-strict-dom").html.div,{style:h,children:q}),e[28]=h,e[29]=q,e[30]=o):o=e[30];return o}f=e;g["default"]=f}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={colors:{backgroundColor:"x16sw7j7",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},l={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=i(6),e=a.children;a=a.header;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[k.colors,k.flexLayout],b[0]=f):f=b[0];var g;b[1]!==e?(g=j.jsx(c("MWXComposerRow.react"),{padding:4,children:e}),b[1]=e,b[2]=g):g=b[2];b[3]!==a||b[4]!==g?(e=j.jsx(c("MWXComposerButtonContext.react").Provider,{value:l,children:j.jsxs(d("react-strict-dom").html.div,{style:f,children:[a,g]})}),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.c,l={horizontalPaddingSmall:{paddingStart:"x1h0ha7o",paddingEnd:"xg83lxy",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=k(27),e,f,g,h,m,n,o;b[0]!==a?(e=a.color,o=a.label,g=a.size,f=a.spinnerSize,m=a.wrapperStyle,h=a.wrapperXStyle,n=babelHelpers.objectWithoutPropertiesLoose(a,["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=m,b[6]=n,b[7]=o):(e=b[1],f=b[2],g=b[3],h=b[4],m=b[5],n=b[6],o=b[7]);a=e===void 0?"blue":e;e=f===void 0?20:f;f=j(c("MWXComposerButtonContext.react"));var p=f.paddingHorizontal;f=f.size;p=p===void 0?"none":p;f=f===void 0?36:f;g=((g=g)!=null?g:f)+"px";f=p==="small"&&l.horizontalPaddingSmall;b[8]!==h||b[9]!==m?(p=[h,m],b[8]=h,b[9]=m,b[10]=p):p=b[10];b[11]!==g?(h=[{height:g,width:g}],b[11]=g,b[12]=h):h=b[12];b[13]!==f||b[14]!==p||b[15]!==h?(m=[f,l.layoutWrapper,p,h],b[13]=f,b[14]=p,b[15]=h,b[16]=m):m=b[16];b[17]!==a||b[18]!==e||b[19]!==n?(g=i.jsx(c("MWXSpinner.react"),babelHelpers["extends"]({color:a,size:e},n)),b[17]=a,b[18]=e,b[19]=n,b[20]=g):g=b[20];b[21]!==o||b[22]!==g?(f=i.jsx(c("MWXTooltip.react"),{position:"above",tooltip:o,children:g}),b[21]=o,b[22]=g,b[23]=f):f=b[23];b[24]!==m||b[25]!==f?(p=i.jsx(d("react-strict-dom").html.div,{style:m,children:f}),b[24]=m,b[25]=f,b[26]=p):p=b[26];return p}g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={padding:{marginBottom:"x12nagc",marginEnd:"x1w0mnb",marginStart:"x1mnrxsn",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0}};function a(a){var b=i(11),e=a.children,f=a.contentEditableProps,g=a.placeholderText;a=a.testid;var h;b[0]!==g?(h=g==null?{}:{"aria-placeholder":g,placeholder:j.jsx(c("CometLexicalPlaceholder.react"),{children:g})},b[0]=g,b[1]=h):h=b[1];g=h;b[2]!==a||b[3]!==g||b[4]!==f?(h=j.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},g,f)),b[2]=a,b[3]=g,b[4]=f,b[5]=h):h=b[5];a=h;b[6]!==a?(g=j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:a}),b[6]=a,b[7]=g):g=b[7];b[8]!==g||b[9]!==e?(f=j.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:k.padding,children:[g,e]}),b[8]=g,b[9]=e,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x1e558r4",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=j(14),e=a.children,f=a.editor,g=a.header;a=a.testid;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=d("LexicalComposerContext").createLexicalComposerContext(),b[0]=h):h=b[0];h=h;b[1]!==f?(h=[f,h],b[1]=f,b[2]=h):h=b[2];f=h;h=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=[k.composer,k.flexLayout],b[3]=f):f=b[3];var l;b[4]!==a||b[5]!==e?(l=i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:k.padding,children:e}),b[4]=a,b[5]=e,b[6]=l):l=b[6];b[7]!==g||b[8]!==l?(a=i.jsxs(d("react-strict-dom").html.div,{style:f,children:[g,l]}),b[7]=g,b[8]=l,b[9]=a):a=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{}),b[10]=e):e=b[10];b[11]!==h||b[12]!==a?(f=i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:h,children:[a,e]}),b[11]=h,b[12]=a,b[13]=f):f=b[13];return f}e={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Spinner=c("MWXComposerSpinner.react");g.Attachments=e}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isMenu:!1});g["default"]=b}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","react-forget-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useContext;var j=b.c;e=i.forwardRef(a);function a(a,b){var e=j(35),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];var g,h,l,m,n,o;if(e[2]!==f){a=f;h=a.color;g=a.icon;l=a.label;m=a.onPress;n=a.preventClosingMenuOnSelect;o=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","icon","label","onPress","preventClosingMenuOnSelect","testid"]);e[2]=f;e[3]=g;e[4]=h;e[5]=l;e[6]=m;e[7]=n;e[8]=o;e[9]=a}else g=e[3],h=e[4],l=e[5],m=e[6],n=e[7],o=e[8],a=e[9];f=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MWXComposerButtonGroupContext.react"),k);var p=f.isMenu,q=f.styleForButton;f=f.xstyleForButton;if(p){e[10]!==g?(p=g.asMenuItemIcon_ESCAPE_HATCH(),e[10]=g,e[11]=p):p=e[11];if(e[12]!==h){var r;r=(r=h)!=null?r:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))");e[12]=h;e[13]=r}else r=e[13];var s;e[14]!==l||e[15]!==p||e[16]!==r||e[17]!==m||e[18]!==n||e[19]!==b||e[20]!==o||e[21]!==a?(s=i.jsx(c("MWXMenuItem.react"),babelHelpers["extends"]({"aria-label":l,icon:p,iconColor:r,onClick:m,preventClosingMenuOnSelect:n,primaryText:l,ref:b,testid:void 0},a)),e[14]=l,e[15]=p,e[16]=r,e[17]=m,e[18]=n,e[19]=b,e[20]=o,e[21]=a,e[22]=s):s=e[22];return s}e[23]!==h?(p=h!=null?{color:h}:{},e[23]=h,e[24]=p):p=e[24];e[25]!==g||e[26]!==l||e[27]!==m||e[28]!==b||e[29]!==o||e[30]!==q||e[31]!==f||e[32]!==p||e[33]!==a?(r=i.jsx(c("MWXComposerIconButton.react"),babelHelpers["extends"]({icon:g,label:l,onPress:m,ref:b,testid:void 0,wrapperStyle:q,wrapperXStyle:f},p,a)),e[25]=g,e[26]=l,e[27]=m,e[28]=b,e[29]=o,e[30]=q,e[31]=f,e[32]=p,e[33]=a,e[34]=r):r=e[34];return r}function k(a){return[a.isMenu,a.styleForButton,a.xstyleForButton]}f=e;g["default"]=f}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","tracePolicyFromResource","useCometPopoverInteractionTracing","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.c;function a(a,b){function e(e){var f=k(42),g,h,l,m,n,o,p;f[0]!==e?(l=e.onHoverIn,m=e.onHoverOut,g=e.popover,h=e.popoverPresentationProps,o=e.popoverProps,p=e.preloadTrigger,n=babelHelpers.objectWithoutPropertiesLoose(e,["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"]),f[0]=e,f[1]=g,f[2]=h,f[3]=l,f[4]=m,f[5]=n,f[6]=o,f[7]=p):(g=f[1],h=f[2],l=f[3],m=f[4],n=f[5],o=f[6],p=f[7]);e=(e=j(c("BaseMenuContext")))!=null?e:{};var q=e.onClose;e=(e=j(c("BaseMultiPageViewContext")))!=null?e:{};var r=e.pushPage;if(f[8]!==g){f[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1}),f[10]=e):e=f[10];e=d("withCometPlaceholder").withCometPlaceholder(c("lazyLoadComponent")(g),e,b);f[8]=g;f[9]=e}else e=f[9];e=e;var s=e;f[11]!==g?(e=c("tracePolicyFromResource")("comet.popover",g),f[11]=g,f[12]=e):e=f[12];e=c("useCometPopoverInteractionTracing")(e,"lazy");if(f[13]!==h){var t;t=(t=h)!=null?t:{};f[13]=h;f[14]=t}else t=f[14];var u,v;if(f[15]!==t){h=t;u=h.align;v=h.position;h=babelHelpers.objectWithoutPropertiesLoose(h,["align","position"]);f[15]=t;f[16]=u;f[17]=v;f[18]=h}else u=f[16],v=f[17],h=f[18];t=u===void 0?"middle":u;u=v===void 0?"above":v;f[19]!==s?(v=function(a){return i.jsx(c("MWXPopover.react"),{withArrow:!0,children:i.jsx(s,babelHelpers["extends"]({},a))})},f[19]=s,f[20]=v):v=f[20];v=v;v=v;var w;f[21]!==s||f[22]!==q?(w=function(a){return function(b){var c;b=b.onReturn;return i.jsx(s,babelHelpers["extends"]({},a,{onClose:(c=q)!=null?c:b}))}},f[21]=s,f[22]=q,f[23]=w):w=f[23];w=w;var x=w;f[24]!==l||f[25]!==m||f[26]!==n||f[27]!==r||f[28]!==q||f[29]!==x||f[30]!==o?(w=function(b,c,d,e,f){return i.jsx(a,babelHelpers["extends"]({onHoverIn:function(a){e(a),l==null?void 0:l(a)},onHoverOut:function(a){f(),m==null?void 0:m(a)}},n,{onPress:function(){var b;for(var d=arguments.length,a=new Array(d),e=0;e<d;e++)a[e]=arguments[e];var f=a;r!=null&&q!=null?r(x(o)):c();n.onPress==null?void 0:(b=n).onPress.apply(b,f)},preventClosingMenuOnSelect:!0,ref:b}))},f[24]=l,f[25]=m,f[26]=n,f[27]=r,f[28]=q,f[29]=x,f[30]=o,f[31]=w):w=f[31];var y;f[32]!==t||f[33]!==u||f[34]!==h||f[35]!==e||f[36]!==v||f[37]!==g||f[38]!==o||f[39]!==p||f[40]!==w?(y=i.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({align:t,position:u},h,{interactionTracker:e,popover:v,popoverPreloadResource:g,popoverProps:o,preloadTrigger:p,children:w})),f[32]=t,f[33]=u,f[34]=h,f[35]=e,f[36]=v,f[37]=g,f[38]=o,f[39]=p,f[40]=w,f[41]=y):y=f[41];return y}return e}g["default"]=a}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("withMWXPopover")(c("MWXComposerButtonGroupButton.react"));b=a;g["default"]=b}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:12413","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12413")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","Promise","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function a(){var a=k(4),e=d("LexicalComposerContext").useLexicalComposerContext(),f=e[0];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__450DFbxuM_0__JHASH__"),a[0]=e):e=a[0];var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),a[1]=g):g=a[1];a[2]!==f?(e=l.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconFaceHappy"),label:e,onPress:n,popover:g,popoverProps:{onSelect:function(a){return c("promiseDone")(m.load(),function(c){c(a,f,16);return(i||(i=b("Promise"))).resolve()})},withArrow:!1},preloadTrigger:"button",testid:void 0}),a[2]=f,a[3]=e):e=a[3];return e}function n(){m.preload()}g["default"]=a}),226);
__d("useMAWGetSendEditActionForSecure",["FBLogger","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMiActOnActThreadReady","QPLUserFlow","ReQL","ReQLSuspense","promiseDone","qpl","react","sendToSentQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(a){var b=j(9),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MAWLoggerUtils").getInstanceKey(),b[0]=e):e=b[0];var g=e,i=(h||(h=c("useReStore")))(),k;b[1]!==a||b[2]!==i?(e=function(){return a!=null?d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(a):d("ReQL").empty()},k=[i,a],b[1]=a,b[2]=i,b[3]=e,b[4]=k):(e=b[3],k=b[4]);var l=d("ReQLSuspense").useFirst(e,k,f.id+":40");b[5]!==a||b[6]!==i||b[7]!==l?(e=function(b,e){if(a==null||b==null)return;var f=d("MAWDbMsg").toMsgId(b);if(f==null)return;c("QPLUserFlow").start(c("qpl")._(1056849558,"2236"),{instanceKey:g});c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i.tables,a,"MWV2ComposerEditContainer.react",function(a,b){return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(f).then(function(a){if(a!=null){var b=d("sendToSentQPLLogger").markSendToSentStartWithAnnotation(l,{},c("LSMessagingThreadAttributionType").UNKNOWN),f=d("MAWExternalId").generateExternalId(),g=a.chat;a=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:e,mentionedJids:[]},originalProtocolMsgId:a},chatJid:g,externalId:f,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:b});return d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:g,externalId:f},a,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:b},i)}}).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849558,"2236"),{instanceKey:g})})["catch"](function(a){c("FBLogger")("messenger_web_messaging").catching(a).mustfix("Failed to edit message: %s.",a),c("QPLUserFlow").endFailure(c("qpl")._(1056849558,"2236"),"failure",{instanceKey:g})})}))},b[5]=a,b[6]=i,b[7]=l,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.c;function a(){var a=j(2),b=(h||(h=c("useReStore")))(),d;a[0]!==b?(d=function(a,d){return c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(b),{messageId:a,text:d})},"readwrite",void 0,void 0,f.id+":27"))},a[0]=b,a[1]=d):d=a[1];return d}g["default"]=a}),98);
__d("useMWComposerEmojiTransform",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c,k=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function a(a){var b=j(4),d=c("useDeferredModuleOnReady")(k),e,f;b[0]!==d||b[1]!==a?(e=function(){return d==null?void 0:d(a,16)},f=[a,d],b[0]=d,b[1]=a,b[2]=e,b[3]=f):(e=b[2],f=b[3]);i(e,f)}g["default"]=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useInsertionEffect,j=b.useLayoutEffect,k=b.useRef,l=b.c;function a(a,b){var e=l(13),f=a.clearReplyState,g=a.editor,h=a.onSend,m=k(b),n;e[0]!==b?(a=function(){m.current=b},n=[b],e[0]=b,e[1]=a,e[2]=n):(a=e[1],n=e[2]);i(a,n);e[3]!==h||e[4]!==f||e[5]!==g?(a=function(){var a=h(m.current);f==null?void 0:f();(a||!c("justknobx")._("2597"))&&g.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},e[3]=h,e[4]=f,e[5]=g,e[6]=a):a=e[6];var o=a;e[7]!==g||e[8]!==o?(n=function(){return g.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();o();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},a=[g,o],e[7]=g,e[8]=o,e[9]=n,e[10]=a):(n=e[9],a=e[10]);j(n,a);e[11]!==o?(n={onSend:o},e[11]=o,e[12]=n):n=e[12];return n}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","cr:6138","react","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;e=b("cr:3101")||b("cr:6138");var j=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,e==null?void 0:e.MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=i(2),b=c("useStable")(k);c("useMWPLexicalClearEditor")(b);c("useLexicalInitializeEditor__DEPRECATED")(b);var d;a[0]!==b?(d={editor:b},a[0]=b,a[1]=d):d=a[1];return d}function k(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:j.filter(Boolean),onError:l,theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})}function l(){}g.useMWXLexicalEditor=a}),98);
__d("MWV2ComposerEditContainer.react",["fbt","LSMessagingThreadTypeUtil","Lexical","LexicalText","MAWEditMessageContext.react","MAWVault","MWLSThreadDisplayContext","MWPActor.react","MWXComposer.react","MWXComposerEmojiButton.react","MWXIconCheckmarkCircle","MWXIconCross","ReQL","ReQLSuspense","isStringNullOrEmpty","react","react-forget-runtime","useLogMAWEditMessage","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWComposerEmojiTransform","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useContext;var l=b.useEffect;b.useMemo;var m=b.useState,n=b.c;function a(a){var b=n(60),e=a.confirmationText,g=a.contentEditableProps,j=a.editMessageData,q=a.headerText,r=a.onEditCancelCallback;a=a.onEditTriggerCallback;e=e===void 0?null:e;q=q===void 0?null:q;var s=r===void 0?null:r,t=a===void 0?null:a,u=(i||(i=c("useReStore")))();r=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MAWEditMessageContext.react").Context,o);var v=r.setEditMessageData,w=d("MWPActor.react").useActor();b[0]!==u.tables.messages||b[1]!==j?(a=function(){return d("ReQL").fromTableAscending(u.tables.messages).getKeyRange(j==null?void 0:j.threadKey,j==null?void 0:j.timestampMs,j==null?void 0:j.messageId)},b[0]=u.tables.messages,b[1]=j,b[2]=a):a=b[2];r=j==null?void 0:j.messageId;var x=j==null?void 0:j.threadKey,y=j==null?void 0:j.timestampMs,z;b[3]!==u||b[4]!==r||b[5]!==x||b[6]!==y?(z=[u,r,x,y],b[3]=u,b[4]=r,b[5]=x,b[6]=y,b[7]=z):z=b[7];var A=d("ReQLSuspense").useFirst(a,z,f.id+":55"),B=c("useMAWGetSendEditActionforOpen")(),C=c("useMAWGetSendEditActionForSecure")(A==null?void 0:A.threadKey);A==null?void 0:A.text;x=(r=A==null?void 0:A.text)!=null?r:"";b[8]!==x?(y=d("MAWVault").unvault(x).trim(),b[8]=x,b[9]=y):y=b[9];a=y;var D=a,E=c("useLogMAWEditMessage")();z=d("useMWXLexicalEditor").useMWXLexicalEditor();var F=z.editor;b[10]!==F||b[11]!==D||b[12]!==j||b[13]!==C||b[14]!==A||b[15]!==B||b[16]!==E||b[17]!==w||b[18]!==v||b[19]!==t?(r=function(){var a=F.getEditorState().read(d("LexicalText").$rootTextContent).trim();if(c("isStringNullOrEmpty")(a)||a===D)return!1;d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType)?C(A==null?void 0:A.messageId,a):B(j.messageId,a);E(j.threadType,j.threadKey,j.messageId,w,"EDIT_MESSAGE");v(null);t&&t();return!0},b[10]=F,b[11]=D,b[12]=j,b[13]=C,b[14]=A,b[15]=B,b[16]=E,b[17]=w,b[18]=v,b[19]=t,b[20]=r):r=b[20];var G=r;p(F,v,s);b[21]!==F||b[22]!==G?(x={clearReplyState:null,editor:F,onSend:G},b[21]=F,b[22]=G,b[23]=x):x=b[23];c("useMWXComposerClearAndSendOnEnter")(x);y=m(!1);a=y[0];var H=y[1];b[24]!==F||b[25]!==D?(z=function(){return F.registerTextContentListener(function(a){a=a.trim();H(!c("isStringNullOrEmpty")(a)&&a!==D)})},r=[F,D],b[24]=F,b[25]=D,b[26]=z,b[27]=r):(z=b[26],r=b[27]);l(z,r);c("usePrepopulateLexicalEditor")(F,D,!0);c("useMWComposerEmojiTransform")(F);x=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();y=x==="Inbox"?32:24;if(b[28]!==q){r=(z=q)!=null?z:h._("__JHASH__36XeYdlCuO8__JHASH__");b[28]=q;b[29]=r}else r=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._("__JHASH__NFQuJJERXoJ__JHASH__"),b[30]=x):x=b[30];b[31]!==v||b[32]!==s?(z=function(){v(null),s&&s()},b[31]=v,b[32]=s,b[33]=z):z=b[33];b[34]!==z||b[35]!==y?(q=k.jsx(d("MWXComposer.react").Button,{color:"primary",icon:c("MWXIconCross"),label:x,onPress:z,size:y}),b[34]=z,b[35]=y,b[36]=q):q=b[36];b[37]!==r||b[38]!==q?(x=k.jsx(d("MWXComposer.react").Header,{hasTopBorder:!0,headlineText:r,rightAddon:q},0),b[37]=r,b[38]=q,b[39]=x):x=b[39];b[40]!==g?(z=k.jsx(d("MWXComposer.react").TextEditor,{contentEditableProps:g,testid:void 0}),b[40]=g,b[41]=z):z=b[41];b[42]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx(c("MWXComposerEmojiButton.react"),{}),b[42]=y):y=b[42];b[43]!==z?(r=k.jsxs(d("MWXComposer.react").InputArea,{children:[z,y]}),b[43]=z,b[44]=r):r=b[44];q=!a;if(b[45]!==e){y=(g=e)!=null?g:h._("__JHASH__645ugDJYeSD__JHASH__");b[45]=e;b[46]=y}else y=b[46];b[47]!==G?(z=function(){G()},b[47]=G,b[48]=z):z=b[48];b[49]!==q||b[50]!==y||b[51]!==z?(a=k.jsx(d("MWXComposer.react").Button,{disabled:q,icon:c("MWXIconCheckmarkCircle"),label:y,onPress:z,testid:void 0}),b[49]=q,b[50]=y,b[51]=z,b[52]=a):a=b[52];b[53]!==r||b[54]!==a?(g=k.jsxs(d("MWXComposer.react").Row,{children:[r,a]}),b[53]=r,b[54]=a,b[55]=g):g=b[55];b[56]!==F||b[57]!==x||b[58]!==g?(e=k.jsx(d("MWXComposer.react").Composer,{editor:F,header:x,children:g}),b[56]=F,b[57]=x,b[58]=g,b[59]=e):e=b[59];return e}function o(a){return[a.setEditMessageData]}function p(a,b,c){var e=n(5),f=c===void 0?null:c,g;e[0]!==a||e[1]!==b||e[2]!==f?(c=function(){return a.registerCommand(d("Lexical").KEY_ESCAPE_COMMAND,function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();b(null);f&&f();return!0},d("Lexical").COMMAND_PRIORITY_CRITICAL)},g=[a,b,f],e[0]=a,e[1]=b,e[2]=f,e[3]=c,e[4]=g):(c=e[3],g=e[4]);l(c,g)}g["default"]=a}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.c;function a(a){var e=k(13),f=a.isBumpMessage,g=a.isHotLike,i=a.mentionIds,l=a.ranges,m=a.text,n=a.threadKey;a=a.transformEmoticons;f=f===void 0?!1:f;g=g===void 0?!1:g;a=a===void 0?!0:a;if(e[0]!==i){var o;o=new Set((o=i==null?void 0:i.split==null?void 0:i.split(","))!=null?o:[]);e[0]=i;e[1]=o}else o=e[1];i=o;o=i;e[2]!==m?(i=b("cr:2472")==null?m:b("cr:2472").unvault(m),e[2]=m,e[3]=i):i=e[3];m=i;i=(o=(i=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],o))==null?void 0:i.textWithSubstitutions)!=null?o:m;n=(o=d("useStringWithSubstitutions").useStringWithSubstitutions(m,n))!=null?o:m;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString(),e[4]=o):o=e[4];m=o;o=g?m:f?n:i;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g="xi81zsa",e[5]=g):g=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(m={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[6]=m):m=e[6];e[7]!==a?(f=a?d("MWChatTextTransform").textTransformsNoVault:[],e[7]=a,e[8]=f):f=e[8];e[9]!==l||e[10]!==o||e[11]!==f?(n=j.jsx("div",{className:g,dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:l,renderers:m,text:o,transforms:f,truncationStyle:"ellipsis-only",withParagraphs:!1})}),e[9]=l,e[10]=o,e[11]=f,e[12]=n):n=e[12];return n}g["default"]=a}),226);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","cr:4471","fbicon","getFBTSafeGenderFromGenderConst","isMWBumpMessage","mwCMIsAnyCMThread","qex","react","react-forget-runtime","useIsSecureMessage","useMAWSeparateReadsSelector","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useContext,p=e.useEffect,q=e.c;function r(a,e,f,g){if(g===!0)return h._("__JHASH__t6anprzsvcb__JHASH__");g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&((l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");var i=c("isMWBumpMessage")(a);if(a.text!=null&&a.text!==""){return n.jsx(c("MWChatReplyText.react"),{isBumpMessage:i,isHotLike:g,mentionIds:e?a.mentionIds:null,text:(i=a.text)!=null?i:h._("__JHASH__C1Hm6KH3mNE__JHASH__"),threadKey:a.threadKey})}if(f!=null){if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._("__JHASH__i96Qg8bFARm__JHASH__");return(l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h._("__JHASH__omHtTlKW02d__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function s(a,b,d,e,f){if(f===!0)return h._("__JHASH__6IDa6GP9mPa__JHASH__");if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",n.jsx(c("MWXText.react"),{type:"headlineEmphasized5",children:e?b.name:(a=(f=d)!=null?f:b.firstName)!=null?a:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._("__JHASH__Tq-wGwf_lB-__JHASH__")}function t(a){var b=q(26),e=a.isSecureThread,g=a.message,h=a.threadType;a=a.useContactFullname;var i=(j||(j=c("useReStore")))(),k=d("MWPActor.react").useActor(),m=(l||(l=d("I64"))).equal(g.senderId,k);b[0]!==i.tables.contacts||b[1]!==g.senderId?(k=function(){return d("ReQL").fromTableAscending(i.tables.contacts).getKeyRange(g.senderId)},b[0]=i.tables.contacts,b[1]=g.senderId,b[2]=k):k=b[2];var o;b[3]!==i||b[4]!==g.senderId?(o=[i,g.senderId],b[3]=i,b[4]=g.senderId,b[5]=o):o=b[5];var t=d("ReQLSuspense").useFirst(k,o,f.id+":252");b[6]!==i.tables.attachments||b[7]!==g.threadKey||b[8]!==g.messageId?(k=function(){return d("ReQL").fromTableAscending(i.tables.attachments).getKeyRange(g.threadKey,g.messageId)},b[6]=i.tables.attachments,b[7]=g.threadKey,b[8]=g.messageId,b[9]=k):k=b[9];b[10]!==i||b[11]!==g.messageId||b[12]!==g.threadKey?(o=[i,g.messageId,g.threadKey],b[10]=i,b[11]=g.messageId,b[12]=g.threadKey,b[13]=o):o=b[13];k=d("ReQLSuspense").useFirst(k,o,f.id+":257");o=d("ReQLSuspense").useFirst(function(){return t!=null&&!m?d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(g.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;if(c("mwCMIsAnyCMThread")(a))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a,t.id).map(function(a){return a.profileName}),f.id+":276")}),f.id+":272");else{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(i.tables.participants).getKeyRange(g.threadKey,t.id),f.id+":290");return(b=a==null?void 0:a.nickname)!=null?b:null}}):d("ReQL").empty()},[i,g.threadKey,t,m],f.id+":266");var v;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(v=[],b[14]=v):v=b[14];p(u,v);b[15]!==h?(v={fallbackThreadType:h},b[15]=h,b[16]=v):v=b[16];h=c("useIsSecureMessage")(i,g,v);v=e&&!h;b[17]!==g||b[18]!==e||b[19]!==k||b[20]!==v?(h=r(g,e,k,v),b[17]=g,b[18]=e,b[19]=k,b[20]=v,b[21]=h):h=b[21];e=h;k=s(m,t,o,a,v);b[22]===Symbol["for"]("react.memo_cache_sentinel")?(h="xmo9yow",b[22]=h):h=b[22];b[23]!==e||b[24]!==k?(o=n.jsx("div",{className:h,children:n.jsx(c("MWXTextPairing.react"),{body:e,headline:k,level:4})}),b[23]=e,b[24]=k,b[25]=o):o=b[25];return o}function u(){c("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}}function w(a){var b=q(15),e=a.isSecureThread,f=a.message,g=a.threadType;a=a.useContactFullname;e=e===void 0?!1:e;var j=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,y),k=j.clearReply,l=o(c("CometTriggerAccessibilityAlertContext"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j="x6s0dn4 xrdv0aw x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno",b[0]=j):j=b[0];var m;b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==a?(m=n.jsx(c("CometErrorBoundary.react"),{fallback:x,children:n.jsx(t,{isSecureThread:e,message:f,threadType:g,useContactFullname:a})}),b[1]=e,b[2]=f,b[3]=g,b[4]=a,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__jHl6Cj_8ioz__JHASH__"),b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("478231"),12),b[7]=g):g=b[7];b[8]!==k||b[9]!==f.threadKey||b[10]!==l?(a=n.jsx(c("MWXIcon.react"),{"aria-label":e,color:"primary",icon:g,onPress:function(){k(f.threadKey,!0),l(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}}),b[8]=k,b[9]=f.threadKey,b[10]=l,b[11]=a):a=b[11];b[12]!==m||b[13]!==a?(e=n.jsxs("div",{className:j,"data-testid":void 0,children:[m,a]}),b[12]=m,b[13]=a,b[14]=e):e=b[14];return e}function x(){return n.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})}x.displayName=x.name+" [from "+f.id+"]";function y(a){return[a.clearReply]}function a(a){var e=q(21),g=a.messageId,h=a.messageThreadKey,i=a.messageTimestamp,k=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var l=(j||(j=c("useReStore")))(),m;e[0]!==k.threadType?(m=d("LSMessagingThreadTypeUtil").isArmadilloSecure(k.threadType),e[0]=k.threadType,e[1]=m):m=e[1];m=m;var o;e[2]!==l.tables.messages||e[3]!==h||e[4]!==i||e[5]!==g?(o=function(){return d("ReQL").fromTableAscending(l.tables.messages).getKeyRange(h,i,g)},e[2]=l.tables.messages,e[3]=h,e[4]=i,e[5]=g,e[6]=o):o=e[6];var p;e[7]!==l||e[8]!==h||e[9]!==i||e[10]!==g?(p=[l,h,i,g],e[7]=l,e[8]=h,e[9]=i,e[10]=g,e[11]=p):p=e[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":405");e[12]!==k.threadType?(p={fallbackThreadType:k.threadType},e[12]=k.threadType,e[13]=p):p=e[13];p=c("useIsSecureMessage")(l,o,p);var r=b("cr:4471")(g,k.threadKey,p);if(e[14]!==p){var s;s=p&&((s=c("qex")._("124"))!=null?s:!1);e[14]=p;e[15]=s}else s=e[15];p=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Message",r,o,s);if(p!=null){e[16]!==m||e[17]!==p||e[18]!==k.threadType||e[19]!==a?(r=n.jsx(w,{isSecureThread:m,message:p,threadType:k.threadType,useContactFullname:a}),e[16]=m,e[17]=p,e[18]=k.threadType,e[19]=a,e[20]=r):r=e[20];return r}else return null}g.MWV2ComposerReplyViewContainer=w;g.MWV2ComposerReplyView=a}),226);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""]);h=function(){return a};return a}function a(){try{var a;a=(a=navigator.mediaDevices)==null?void 0:a.getSupportedConstraints();return a}catch(a){d("WALogger").LOG(h(),a);return null}}g.getMediaDevicesSupportedConstraints=a}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"},y=1;function z(a,e,f){var g;a===void 0&&(a=60);e===void 0&&(e=c("emptyFunction"));f===void 0&&(f=c("emptyFunction"));var i=((g=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:g.sampleRate)===!0;g=n(w,x);var j=g[0],k=g[1],p=c("useIsMountedRef")(),q=o(),r=o([]),s=o([]),t=o(),u=o(),v=o(),z=o(),A=o(c("emptyFunction")),B=l(function(a){var b=a[0],c=a[1];if(!p.current)return;a=URL.createObjectURL(b);v.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){u.current=d;var a=d.duration;k({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};z.current=a;A.current(a)});d.addEventListener("timeupdate",function(){var a;a=(a=u.current)==null?void 0:a.currentTime;a!=null&&k({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=u.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&k({duration:a,type:"UpdateDuration"})})},[p]),C=l(function(){if(q.current==null||t.current==null)return;t.current.postMessage({buffersL:r.current,buffersR:y===2?s.current:null,sampleRate:q.current})},[]);m(function(){if(j.stage!=="Recording")return;r.current=[];s.current=[];var a=c("AudioContextSingleton").get({sampleRate:i?44100:void 0}),b=a.destination;q.current=a.sampleRate;var d=j.mediaStream,f=a.createScriptProcessor(4096,y,y);a=a.createMediaStreamSource(d);t.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(B).setAllowCrossPageTransition(!0).execute();var g=function(a){j.stage==="Recording"&&a instanceof AudioProcessingEvent&&(r.current.push(a.inputBuffer.getChannelData(0).slice()),y===2&&s.current.push(a.inputBuffer.getChannelData(1).slice()))};f.addEventListener("audioprocess",g);a.connect(f);f.connect(b);e();return function(){d.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),f.removeEventListener("audioprocess",g)}},[B,e,j.stage,j.mediaStream,i]);var D=c("usePrevious")(j);m(function(){(D==null?void 0:D.stage)==="Recording"&&j.stage==="Recorded"&&C()},[D==null?void 0:D.stage,C,j.stage]);m(function(){if(j.stage!=="Recording")return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a){k({recordingTimeout:a,type:"RecordingTimeout"});return}k({duration:f,type:"UpdateDuration"});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[a,j.stage]);g=l(function(b){k({mediaStream:b,recordingTimeout:a,type:"Start"})},[a]);var E=l(function(){var a;k({type:"Reset"});(a=u.current)==null?void 0:a.pause();u.current=void 0;z.current=void 0;q.current=void 0;a=v.current;a!=null&&(URL.revokeObjectURL(a),v.current=void 0)},[]),F=l(function(){var a=function(){k({type:"Toggle"})},b=u.current;if(b==null){a();return}switch(j.stage){case"Unopen":case"Recording":a();break;case"Recorded":b.play().then(a)["catch"](f);break;case"Playing":b.pause();a();break}},[f,j.stage]),G=l(function(){return new(h||(h=b("Promise")))(function(a){var b=z.current;if(b!=null)return a(b);A.current=a;if(j.stage==="Recording")return F()})},[j,F]);return{audioEl:u,getVoiceClip:G,reset:E,start:g,state:j,toggle:F}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=z}),98);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPUseVoiceRecorder","MWXTooltip.react","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useRef,l=b.c,m=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var b=l(54);a=a.voiceRecorder;var e=a.audioEl,f=a.state,g=a.toggle;a=k();var i=d("MWPAudioPlayerUtils").useResetHighlightProgress(a),n;b[0]!==f?(n=d("MWPUseVoiceRecorder").hasScrubber(f),b[0]=f,b[1]=n):n=b[1];n=n;var o;b[2]!==g||b[3]!==f.stage||b[4]!==f.currentTime||b[5]!==f.duration?(o=function(){g();switch(f.stage){case"Unopen":return;case"Recording":m.onReady(function(a){return a.logClickStopRecording(0)});return;case"Recorded":var a=f.currentTime,b=f.duration;a===0?m.onReady(function(a){return a.logPlaybackStart(b)}):m.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=f.currentTime,d=f.duration;m.onReady(function(a){return a.logPlaybackPause(d,c)});return}},b[2]=g,b[3]=f.stage,b[4]=f.currentTime,b[5]=f.duration,b[6]=o):o=b[6];o=o;var p;b[7]!==f?(p=d("MWPUseVoiceRecorder").getDuration(f),b[7]=f,b[8]=p):p=b[8];var q;b[9]!==f?(q=d("MWPUseVoiceRecorder").getCurrentTime(f),b[9]=f,b[10]=q):q=b[10];var r;b[11]!==f?(r=d("MWPUseVoiceRecorder").isProgressing(f),b[11]=f,b[12]=r):r=b[12];var s;b[13]!==f?(s=d("MWPUseVoiceRecorder").isCompleted(f),b[13]=f,b[14]=s):s=b[14];p=d("MWPAudioPlayerUtils").useProgressLiveUpdate(p,e,q,r,!1,s);q=d("MWPAudioHighlightStylesHooks").useHighlightStyles(!0);b[15]!==f?(r=d("MWPUseVoiceRecorder").getPlaybackLabel(f),b[15]=f,b[16]=r):r=b[16];s=r;bb0:{switch(f.stage){case"Unopen":case"Recording":r=null;break bb0;case"Recorded":case"Playing":var t;b[17]!==f.currentTime||b[18]!==f.duration?(t=j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:f.currentTime,duration:f.duration}),b[17]=f.currentTime,b[18]=f.duration,b[19]=t):t=b[19];r=t;break bb0}r=void 0}t=r;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(r={backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},b[20]=r):r=b[20];var u;b[21]!==p||b[22]!==q?(u=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:p,xstyle:q}),b[21]=p,b[22]=q,b[23]=u):u=b[23];b[24]!==q?(p=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:a,xstyle:q}),b[24]=q,b[25]=p):p=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(q=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),b[26]=q):q=b[26];i=n?i:void 0;var v;b[27]!==f?(v=d("MWPUseVoiceRecorder").getPlaybackIcon(f,"var(--chat-composer-button-color, var(--accent))"),b[27]=f,b[28]=v):v=b[28];var w;b[29]!==v||b[30]!==s||b[31]!==o?(w=j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:v,label:s,onPress:o}),b[29]=v,b[30]=s,b[31]=o,b[32]=w):w=b[32];b[33]!==s||b[34]!==w?(v=j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:s,children:w}),b[33]=s,b[34]=w,b[35]=v):v=b[35];b[36]!==i||b[37]!==v?(o=j.jsx("div",{className:q,onMouseMove:i,children:v}),b[36]=i,b[37]=v,b[38]=o):o=b[38];b[39]!==f?(s=d("MWPUseVoiceRecorder").getTimerTime(f),b[39]=f,b[40]=s):s=b[40];b[41]!==s?(w=j.jsx(c("MWPAudioPlayerTimer.react"),{time:s}),b[41]=s,b[42]=w):w=b[42];b[43]!==e||b[44]!==u||b[45]!==t||b[46]!==p||b[47]!==o||b[48]!==w?(q=j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:e,children:[u,t,p,o,w]}),b[43]=e,b[44]=u,b[45]=t,b[46]=p,b[47]=o,b[48]=w,b[49]=q):q=b[49];b[50]!==e||b[51]!==n||b[52]!==q?(i=j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:e,hasScrubber:n,mediaRenderQpl:null,scrubberRef:a,style:r,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:q}),b[50]=e,b[51]=n,b[52]=q,b[53]=i):i=b[53];return i}g["default"]=a}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;b=150;e=2500;f=b+e;d={medium:.7,small:.35};var k={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function a(a){var b=i(12),d=a.animationsContainerRef,e=a.children;a=a.shouldShowGrowAnimation;var f=a&&k.growAnimationHotlike,g=a&&k.shakeAnimationHotlike;a=a&&k.almostPoppingShakeAnimationHotlike;var h;b[0]!==a?(h=[k.animationBox,a],b[0]=a,b[1]=h):h=b[1];b[2]!==h||b[3]!==e?(a=j.jsx(c("BaseView.react"),{xstyle:h,children:e}),b[2]=h,b[3]=e,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(h=j.jsx(c("BaseView.react"),{xstyle:g,children:a}),b[5]=g,b[6]=a,b[7]=h):h=b[7];b[8]!==d||b[9]!==f||b[10]!==h?(e=j.jsx(c("BaseView.react"),{ref:d,xstyle:f,children:h}),b[8]=d,b[9]=f,b[10]=h,b[11]=e):e=b[11];return e}g.TOTAL_GROW_ANIMATION_TIME_MS=f;g.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=d;g.MWV2ChatHotlikeButtonAnimation=a}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qex","qpl","react","requireDeferred","setTimeout","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;var k=b.useEffect,l=b.useRef,m=b.useState,n=b.c,o=c("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),p=500,q=50,r=(e={},e[c("LSHotEmojiSize").NONE]=(i||(i=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").SMALL]=i.of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").MEDIUM]=i.of_string(c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[c("LSHotEmojiSize").LARGE]=i.of_string(c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function s(a){if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small)return c("LSHotEmojiSize").SMALL;else if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium)return c("LSHotEmojiSize").MEDIUM;else return c("LSHotEmojiSize").LARGE}function t(){o.onReadyImmediately(function(a){return a.start()})}function u(){o.onReadyImmediately(function(a){return a.pop()})}function v(a){o.onReadyImmediately(function(b){return b.snap(a)})}function a(a,b,e,f){var g=n(29),h;g[0]!==a?(h=c("isStringNullOrEmpty")(a),g[0]=a,g[1]=h):h=g[1];var i=h;h=m(!1);var o=h[0],w=h[1],x=l(null),y=l(null),z=l(!1),A=c("MessengerWebUXLogger").useInteractionLogger();g[2]!==A||g[3]!==i||g[4]!==e?(h=function(a){A==null?void 0:A({eventName:i?"send_hot_like":"send_hot_emoji",extraData:{size:a.toString()},threadType:e})},g[2]=A,g[3]=i,g[4]=e,g[5]=h):h=g[5];var B=h;g[6]!==i||g[7]!==b||g[8]!==a||g[9]!==f||g[10]!==B?(h=function(c){!i?b(a,void 0,void 0,(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f):b(void 0,void 0,r[c],(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f),B(c)},g[6]=i,g[7]=b,g[8]=a,g[9]=f,g[10]=B,g[11]=h):h=g[11];var C=h;g[12]===Symbol["for"]("react.memo_cache_sentinel")?(h={leading:!0,wait:q},g[12]=h):h=g[12];var D=c("useDebouncedComet")(C,h);g[13]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){c("clearTimeout")(x.current),x.current=null},g[13]=h):h=g[13];var E=h,F;g[14]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return function(){E()}},F=[],g[14]=h,g[15]=F):(h=g[14],F=g[15]);k(h,F);g[16]!==o?(h=function(){return z.current===!0&&(!o||x.current==null)},g[16]=o,g[17]=h):h=g[17];var G=h;g[18]===Symbol["for"]("react.memo_cache_sentinel")?(F=function(){z.current===!0&&(c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),u()),z.current=!1,w(!1),E()},g[18]=F):F=g[18];h=F;g[19]===Symbol["for"]("react.memo_cache_sentinel")?(F=function(){if(c("gkx")("23249")||c("qex")._("256")!==!0)return;c("QPLUserFlow").start(c("qpl")._(25311430,"2261"));z.current=!0;w(!0);t();x.current=c("setTimeout")(function(){u(),w(!1),x.current=null,c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+p)},g[19]=F):F=g[19];F=F;var H;g[20]===Symbol["for"]("react.memo_cache_sentinel")?(H=function(){var a;a=(a=y.current)==null?void 0:a.getAnimations()[0];a=a==null?void 0:a.currentTime;return a!=null?a/d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},g[20]=H):H=g[20];var I=H;g[21]!==D||g[22]!==C||g[23]!==G||g[24]!==i?(H=function(){if(c("gkx")("23249")||c("qex")._("256")!==!0){c("gkx")("7245")?D(c("LSHotEmojiSize").SMALL):C(c("LSHotEmojiSize").SMALL);return}if(G()){z.current=!1;return}E();w(!1);z.current=!1;var a=I();a=s(a);v(a);c("gkx")("7245")?D(a):C(a);c("QPLUserFlow").endSuccess(c("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:i},"int":{size:a}}})},g[21]=D,g[22]=C,g[23]=G,g[24]=i,g[25]=H):H=g[25];H=H;g[26]!==H||g[27]!==o?(h={animationsContainerRef:y,handleHoverOut:h,handleOnPress:H,handlePressIn:F,shouldShowGrowAnimation:o},g[26]=H,g[27]=o,g[28]=h):h=g[28];return h}g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","BaseView.react","CometEmoji.react","EmojiRenderer","MWLikeSvgIcon.react","MWV2ChatHotlikeButtonAnimation.react","MWXPressable.react","MWXTooltip.react","gkx","isStringNullOrEmpty","react","useMWV2ChatHotlikeButton"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.c;e=20;var l=56;e/l;var m={adjustEmojiSize:{transform:"xtzsbya",$$css:!0},customEmojiButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingLeft:null,paddingRight:null,$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"xcu9agk",paddingEnd:"x2qib4z",paddingLeft:null,paddingRight:null,$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=h._("__JHASH__OzQk4bc7gK8__JHASH__");function a(a){var b=k(42),e=a.customEmoji,f=a.disabled,g=a.onSendMessage,i=a.shouldHideTooltip;a=a.threadType;f=f===void 0?!1:f;i=i===void 0?!1:i;g=c("useMWV2ChatHotlikeButton")(e,g,a,"MWV2ChatHotlikeButton");a=g.animationsContainerRef;var q=g.handleHoverOut,r=g.handleOnPress,s=g.handlePressIn;g=g.shouldShowGrowAnimation;var t;b[0]!==e?(t=function(a){if(c("isStringNullOrEmpty")(e))return;var b=d("EmojiRenderer").parse(e).map(function(a){return a.emoji});if(b.length!==1)return j.jsx("span",{children:e});b=b[0];return a===l?j.jsx(c("BaseView.react"),{xstyle:m.adjustEmojiSize,children:j.jsx(c("CometEmoji.react"),{emoji:b,size:a})}):j.jsx(c("CometEmoji.react"),{emoji:b,size:a})},b[0]=e,b[1]=t):t=b[1];t=t;if(!c("isStringNullOrEmpty")(e)){var u;b[2]!==e?(u=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",e)]),b[2]=e,b[3]=u):u=b[3];u=u;var v=f||g,w;b[4]!==t?(w=t(l),b[4]=t,b[5]=w):w=b[5];var x;b[6]!==a||b[7]!==g||b[8]!==w?(x=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:w}),b[6]=a,b[7]=g,b[8]=w,b[9]=x):x=b[9];b[10]!==u||b[11]!==f||b[12]!==g||b[13]!==q||b[14]!==r||b[15]!==s||b[16]!==v||b[17]!==x?(w=j.jsx(c("MWXPressable.react"),{"aria-label":u,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:v,overlayRadius:"50%",testid:void 0,xstyle:p,children:x}),b[10]=u,b[11]=f,b[12]=g,b[13]=q,b[14]=r,b[15]=s,b[16]=v,b[17]=x,b[18]=w):w=b[18];u=w;if(i)return u;b[19]!==t?(v=h._("__JHASH__CsSxx_HAT5f__JHASH__",[h._param("emoji",t(16))]),b[19]=t,b[20]=v):v=b[20];x=v;w=g?null:x;b[21]!==w||b[22]!==u?(t=j.jsx(c("MWXTooltip.react"),{align:"middle",label:n,position:"above",tooltip:w,children:u}),b[21]=w,b[22]=u,b[23]=t):t=b[23];return t}v=f||g;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(x="xsrhx6k",b[24]=x):x=b[24];w=f?void 0:"var(--chat-composer-button-color)";b[25]!==w?(u=j.jsx(c("MWLikeSvgIcon.react"),{className:x,color:w,size:20}),b[25]=w,b[26]=u):u=b[26];b[27]!==a||b[28]!==g||b[29]!==u?(t=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:u}),b[27]=a,b[28]=g,b[29]=u,b[30]=t):t=b[30];b[31]!==f||b[32]!==g||b[33]!==q||b[34]!==r||b[35]!==s||b[36]!==v||b[37]!==t?(x=j.jsx(c("MWXPressable.react"),{"aria-label":n,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:v,overlayRadius:"50%",testid:void 0,xstyle:o,children:t}),b[31]=f,b[32]=g,b[33]=q,b[34]=r,b[35]=s,b[36]=v,b[37]=t,b[38]=x):x=b[38];w=x;if(i)return w;a=g?null:n;b[39]!==a||b[40]!==w?(u=j.jsx(c("MWXTooltip.react"),{align:"middle",label:n,position:"above",tooltip:a,children:w}),b[39]=a,b[40]=w,b[41]=u):u=b[41];return u}function o(){return[c("gkx")("23219")?m.hotlikeButtonMDS:m.hotlikeButtonFDS]}function p(){return[c("gkx")("23219")?m.customEmojiButtonMDS:m.customEmojiButtonFDS]}g["default"]=a}),226);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m=h._("__JHASH__2kGg_y6m8FS__JHASH__"),n={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=k(11),e=a.color,f=a.contextRef,g=a.disabled;a=a.onShow;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=(i||(i=c("stylex")))(d("MWChatChatButtonColorConstants").styles.strokeGrey),b[0]=h):h=b[0];var j,n,p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("path",{d:"M1.5,1.5 H22.5"}),n=l.jsx("path",{d:"M1.5,9 H22.5"}),p=l.jsx("path",{d:"M1.5,16.5 H22.5"}),b[1]=j,b[2]=n,b[3]=p):(j=b[1],n=b[2],p=b[3]);b[4]!==e?(h=l.jsx("svg",{"aria-hidden":"true",className:h,height:"20",viewBox:"0 0 24 18",width:"20",children:l.jsxs("g",{stroke:e,strokeLinecap:"round",strokeWidth:"2.5",children:[j,n,p]})}),b[4]=e,b[5]=h):h=b[5];b[6]!==g||b[7]!==a||b[8]!==f||b[9]!==h?(j=l.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:m,children:l.jsx(c("MWXPressable.react"),{disabled:g,label:m,onPress:a,overlayDisabled:g,overlayRadius:"50%",ref:f,xstyle:o,children:h})}),b[6]=g,b[7]=a,b[8]=f,b[9]=h,b[10]=j):j=b[10];return j}function o(){return[c("gkx")("23219")?n.buttonMDS:n.buttonFDS]}g["default"]=a}),226);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(12),d=a.color,e=a.disabled,f=a.editor,g=a.hasPersistentMenu,h=a.onSendMessage;a=a.threadKey;var k=e===void 0?!1:e;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==a?(e={editor:f,hasPersistentMenu:g,onClose:c("emptyFunction"),onSendMessage:h,threadKey:a},b[0]=f,b[1]=g,b[2]=h,b[3]=a,b[4]=e):e=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),b[5]=f):f=b[5];b[6]!==d||b[7]!==k?(g=function(a,b){return j.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:d,contextRef:a,disabled:k,onShow:b})},b[6]=d,b[7]=k,b[8]=g):g=b[8];b[9]!==e||b[10]!==g?(h=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:e,popoverResource:f,children:g}),b[9]=e,b[10]=g,b[11]=h):h=b[11];return h}g["default"]=a}),98);
__d("useMWComposerPersistentMenuItemSelect",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(3),c=a.composerEntrypointForLogging,d=a.onSendMessage;b[0]!==d||b[1]!==c?(a=function(a){var b=a.id;a=a.title;return d(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0,void 0,void 0,void 0,void 0,void 0,c)},b[0]=d,b[1]=c,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useMWComposerPersistentMenuItemSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),d=a.color,e=a.disabled;a=a.onSendMessage;var f=e===void 0?!1:e;b[0]!==a?(e={composerEntrypointForLogging:"MWV2ComposerPersistentMenuButton",onSendMessage:a},b[0]=a,b[1]=e):e=b[1];a=c("useMWComposerPersistentMenuItemSelect")(e);b[2]!==a?(e={onClose:c("emptyFunction"),onSelect:a},b[2]=a,b[3]=e):e=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),b[4]=a):a=b[4];var g;b[5]!==d||b[6]!==f?(g=function(a,b){return j.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:d,contextRef:a,disabled:f,onShow:b})},b[5]=d,b[6]=f,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:e,popoverResource:a,children:g}),b[8]=e,b[9]=g,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k="var(--chat-composer-button-color)";function a(a){var b=i(14),d=a.customEmoji,e=a.disabled,f=a.editor,g=a.hasPersistentMenu,h=a.hasStuffToSend,l=a.isVoiceRecorderOpen,m=a.onSendMessage,n=a.sendMessage,o=a.shouldHideHotLike,p=a.shouldHideTooltip,q=a.showCommands,r=a.threadKey;a=a.threadType;p=p===void 0?!1:p;var s;b[0]!==l||b[1]!==h||b[2]!==e||b[3]!==n||b[4]!==p||b[5]!==q||b[6]!==f||b[7]!==g||b[8]!==m||b[9]!==r||b[10]!==o||b[11]!==d||b[12]!==a?(s=l?null:h?j.jsx(c("MWV2ComposerSendButton.react"),{disabled:e,hasStuffToSend:h,onPress:n,shouldHideTooltip:p}):q?j.jsx(c("MWV2ComposerMenuButton.react"),{color:k,disabled:e,editor:f,hasPersistentMenu:g,onSendMessage:m,threadKey:r}):g?j.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:k,disabled:e,onSendMessage:m}):o?j.jsx("span",{className:"x1e558r4 x150jy0e"}):j.jsx(c("MWV2ChatHotlikeButton.react"),{customEmoji:d,disabled:e,onSendMessage:m,shouldHideTooltip:p,threadType:a}),b[0]=l,b[1]=h,b[2]=e,b[3]=n,b[4]=p,b[5]=q,b[6]=f,b[7]=g,b[8]=m,b[9]=r,b[10]=o,b[11]=d,b[12]=a,b[13]=s):s=b[13];return s}g["default"]=a}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","cr:793","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={fds:{marginStart:"x16hk5td",paddingBottom:"xjkvuk6",paddingEnd:"x150jy0e",$$css:!0},innerButtons:{alignItems:"x6s0dn4",alignSelf:"xpvyfi4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},mds:{marginStart:"x169t7cy",$$css:!0}};function a(a){var d=j(15),e=a.editor,f=a.renderExtraButtons,g=a.shouldUseMDS;a=a.threadKey;f=f===void 0?null:f;g=g?l.mds:l.fds;var i;d[0]!==g?(i=(h||(h=c("stylex")))(l.innerButtons,g),d[0]=g,d[1]=i):i=d[1];d[2]!==f||d[3]!==e?(g=f!=null&&f(e),d[2]=f,d[3]=e,d[4]=g):g=d[4];d[5]!==e||d[6]!==a?(f=b("cr:793")!=null&&k.jsx(b("cr:793"),{editor:e,threadId:a}),d[5]=e,d[6]=a,d[7]=f):f=d[7];d[8]!==e?(a=k.jsx(c("MWV2ComposerEmojiButton.react"),{editor:e}),d[8]=e,d[9]=a):a=d[9];d[10]!==i||d[11]!==g||d[12]!==f||d[13]!==a?(e=k.jsxs("div",{className:i,children:[g,f,a]}),d[10]=i,d[11]=g,d[12]=f,d[13]=a,d[14]=e):e=d[14];return e}g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=j(9),e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a,"MWV2ComposerGifButton");var g=c("MessengerWebUXLogger").useInteractionLogger(),h;b[0]!==f||b[1]!==a?(h={isSecureThread:f,onSelect:a,testid:"mw_gif_picker"},b[0]=f,b[1]=a,b[2]=h):h=b[2];b[3]!==e||b[4]!==g?(f=function(a,b,f,h,i,j,l){return k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:n,children:k.jsx(c("MWXPressable.react"),{"aria-label":n,disabled:e,onHoverIn:h,onHoverOut:i,onPress:function(){b(),g==null?void 0:g({eventName:"composer_open_gif_picker"})},onPressIn:j,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]},children:k.jsx(d("MWChatComposerIcons").MWChatComposerIconsGif,{fill:e?void 0:"var(--chat-composer-button-color)",size:20})})})},b[3]=e,b[4]=g,b[5]=f):f=b[5];b[6]!==h||b[7]!==f?(a=k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:h,popoverResource:l,position:"above",children:f}),b[6]=h,b[7]=f,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("MWChatComposerOverflowIcons",["cr:3237"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerOverflowIconsPollsSVG=b("cr:3237").PollsSVG,g.MWChatComposerOverflowIconsDollarSignSVG=b("cr:3237").DollarSignSVG,g.MWChatComposerOverflowIconsMicrophoneSVG=b("cr:3237").MicrophoneSVG}),98);
__d("useMWGroupNewPollSubmitSuccessLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var c=j(3),e,f;c[0]!==a?(e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MWGroupPollLoggerDeferred").log("existing_poll_submit_success",{poll:{entry_point:b,poll_type:void 0,question_id:void 0,thread_id:(i||(i=d("I64"))).to_string(a)}})});return function(a){return c.apply(this,arguments)}}(),f=[a],c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);return d("Int64Hooks").useCallbackInt64(e,f)}g["default"]=a}),98);
__d("MWChatPollFlyout.react",["BaseTextInput.react","CometScrollableArea.react","I64","LSGroupPollEventType","MWChatPollStrings","MWGroupPollQPL","MWXButton.react","MWXPopover.react","MWXRow.react","MWXRowItem.react","MessengerWebPollConstants","ReQL","ReQLSuspense","clearTimeout","emptyFunction","justknobx","promiseDone","react","setTimeout","stylex","useLayoutEffect_SAFE_FOR_SSR","useMWGroupNewPollSubmitErrorLogger","useMWGroupNewPollSubmitSuccessLogger","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useEffect,n=b.useRef,o=b.useState,p=b.c,q={button:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginStart:"x1d52u69",marginEnd:"xktsk01",marginLeft:null,marginRight:null,marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=p(57),e=a.onClose,g=a.onPollCreate,k=a.threadKey,u=a.withArrow;a=a.withPopover;u=u===void 0?!0:u;a=a===void 0?!0:a;var v=o(""),w=v[0],x=v[1];v=o(t);var y=v[0],z=v[1];v=o(!1);var A=v[0],B=v[1];v=o(!1);var C=v[0],D=v[1];v=o(!1);var E=v[0],F=v[1];v=E?c("emptyFunction"):d("MWGroupPollQPL").logCreatePollCancel;var G;b[0]!==v?(G={onImpressionEnd:v},b[0]=v,b[1]=G):G=b[1];v=c("useSinglePartialViewImpression")(G);var H=c("useMWGroupNewPollSubmitSuccessLogger")(k),I=c("useMWGroupNewPollSubmitErrorLogger")(k),J=n(null),K=n(c("emptyFunction")),L=(h||(h=c("useReStore")))(),M;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(G=function(){return function(){K.current(),J.current!==null&&c("clearTimeout")(J.current)}},M=[],b[2]=G,b[3]=M):(G=b[2],M=b[3]);m(G,M);b[4]!==I||b[5]!==L.tables.polls||b[6]!==k||b[7]!==H||b[8]!==e?(G=function(){J.current=c("setTimeout")(function(){d("MWGroupPollQPL").logCreatePollFail(),c("promiseDone")(I(4)),K.current(),K.current=c("emptyFunction"),J.current=null,F(!1)},c("justknobx")._("1647")),K.current=L.tables.polls.subscribe(function(a){a=a[0];a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(L.tables.polls).getKeyRange(a),f.id+":169");a=a!=null&&(j||(j=d("I64"))).equal(a.threadKey,k)&&(j||(j=d("I64"))).to_int32(a.lastUpdateMessageEventType)===c("LSGroupPollEventType").QUESTION_CREATION;a&&(d("MWGroupPollQPL").logCreatePollSuccess(),c("promiseDone")(H(4)),K.current(),J.current!==null&&c("clearTimeout")(J.current),e())})},b[4]=I,b[5]=L.tables.polls,b[6]=k,b[7]=H,b[8]=e,b[9]=G):G=b[9];var N=G,O=n(null);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(M=function(){if(O.current!=null){var a=O.current.getDOMNode();a!=null&&(a.scrollTop=a.scrollHeight)}B(!1)},b[10]=M):M=b[10];var P=M;b[11]!==A?(G=function(){A&&P()},b[11]=A,b[12]=G):G=b[12];b[13]!==A||b[14]!==y?(M=[A,y,P],b[13]=A,b[14]=y,b[15]=M):M=b[15];m(G,M);b[16]!==y?(G=new Set(y.map(s).filter(r)),b[16]=y,b[17]=G):G=b[17];var Q=G;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(M=function(){if(O.current!=null){var a=O.current.getDOMNode();D(function(){return a!=null&&a.scrollHeight>a.clientHeight})}},G=[O],b[18]=M,b[19]=G):(M=b[18],G=b[19]);c("useLayoutEffect_SAFE_FOR_SSR")(M,G);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(M="x78zum5 xdt5ytf x1phlbz0 x168biu4",b[20]=M):M=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(G=function(a){var b=a.target.value;return x(function(){return b})},b[21]=G):G=b[21];b[22]!==w?(G=l.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").pollTitleLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:G,placeholder:c("MWChatPollStrings").pollTitleLabel,value:w,xstyle:q.title}),b[22]=w,b[23]=G):G=b[23];if(b[24]!==Q.size||b[25]!==y){var R;b[27]!==Q.size?(R=function(a,b){return l.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:l.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").addPollOptionLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){Q.size<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS&&z(function(a){return a.map(function(a){return a.trim()}).filter(function(a){return a!==""}).concat([""])})},onChange:function(a){var d=a.target.value;z(function(a){return a.map(function(e,f){var g=b===a.length-1&&d!==""&&a.length<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS;g&&B(!0);if(b===f)return d;else return e}).concat(b===a.length-1&&d!==""&&a.length<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:c("MWChatPollStrings").addPollOptionLabel,value:a,xstyle:q.optionText})},String(b))},b[27]=Q.size,b[28]=R):R=b[28];R=y.map(R);b[24]=Q.size;b[25]=y;b[26]=R}else R=b[26];var S;b[29]!==R?(S=l.jsx(c("CometScrollableArea.react"),{ref:O,vertical:!0,xstyle:q.pollOptions,children:R}),b[29]=R,b[30]=S):S=b[30];R=C?q.buttonOverflow:!1;b[31]!==R?(C=(i||(i=c("stylex")))(q.button,R),b[31]=R,b[32]=C):C=b[32];b[33]!==Q.size||b[34]!==w||b[35]!==E?(R=Q.size<c("MessengerWebPollConstants").POLL_MIN_OPTIONS||w.trim()===""||E,b[33]=Q.size,b[34]=w,b[35]=E,b[36]=R):R=b[36];var T;b[37]!==N||b[38]!==g||b[39]!==w||b[40]!==y?(T=function(){d("MWGroupPollQPL").logCreatePollConfirmClick(),F(!0),N(),g(w,y.map(function(a){return a.trim()}).filter(function(a){return a!==""}),function(){return F(!1)})},b[37]=N,b[38]=g,b[39]=w,b[40]=y,b[41]=T):T=b[41];var U;b[42]!==R||b[43]!==E||b[44]!==T?(U=l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:l.jsx(c("MWXRowItem.react"),{expanding:!0,children:l.jsx(c("MWXButton.react"),{disabled:R,label:c("MWChatPollStrings").createPollLabel,loading:E,onPress:T,reduceEmphasis:!0,type:"primary"})})}),b[42]=R,b[43]=E,b[44]=T,b[45]=U):U=b[45];b[46]!==C||b[47]!==U?(R=l.jsx("div",{className:C,children:U}),b[46]=C,b[47]=U,b[48]=R):R=b[48];b[49]!==v||b[50]!==G||b[51]!==S||b[52]!==R?(E=l.jsxs("div",{className:M,ref:v,children:[G,S,R]}),b[49]=v,b[50]=G,b[51]=S,b[52]=R,b[53]=E):E=b[53];T=E;if(a){b[54]!==u||b[55]!==T?(C=l.jsx(c("MWXPopover.react"),{withArrow:u,children:T}),b[54]=u,b[55]=T,b[56]=C):C=b[56];return C}else return T}function r(a){return a!==""}function s(a){return a.toUpperCase()}function t(){return[""]}g["default"]=a}),98);
__d("MWV2ComposerPollButton.react",["fbt","JSResourceForInteraction","LsFalcoEventEntryPoint","MWChatComposerOverflowIcons","MWChatPollFlyout.react","MWGroupPollQPL","MWXIcon.react","MWXLazyPopoverTrigger.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXTooltip.react","MessageSendClickFalcoEvent","MessengerWebUXLoggerImpl","SVGIcon","emptyFunction","gkx","promiseDone","react","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("JSResourceForInteraction")("MWChatPollFlyoutForPopover.react").__setRef("MWV2ComposerPollButton.react"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=h._("__JHASH__YANDQDfyQrm__JHASH__");function a(a){var b=j(29),e=a.color,f=a.entryPoint,g=a.onClose,h=a.pushPage,i=a.threadKey,o=a.threadType,p=d("MessengerWebUXLoggerImpl").useInteractionLogger(),q=c("useMWGroupStartNewPollLogger")(i),r=c("useMWGroupSubmitNewPollLogger")(i),s=c("useMWGroupNewPollSubmitErrorLogger")(i),t=c("useMWCreatePoll")();b[0]!==t||b[1]!==i||b[2]!==s||b[3]!==r?(a=function(a,b,e){t(i,a,b,c("emptyFunction"),function(a){e&&e(),d("MWGroupPollQPL").logCreatePollFail(),c("promiseDone")(s(4,a))}),c("promiseDone")(r(4,b.length)),c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").composer}}})},b[0]=t,b[1]=i,b[2]=s,b[3]=r,b[4]=a):a=b[4];var u=a;b[5]!==o||b[6]!==q||b[7]!==h||b[8]!==g||b[9]!==u||b[10]!==i?(a=function(){d("MWGroupPollQPL").logCreatePollStart(o),c("promiseDone")(q(4)),h==null?void 0:h(function(){return k.jsx(c("MWChatPollFlyout.react"),{onClose:g,onPollCreate:u,threadKey:i,withPopover:!1})})},b[5]=o,b[6]=q,b[7]=h,b[8]=g,b[9]=u,b[10]=i,b[11]=a):a=b[11];a=a;if(f==="composer"){b[12]!==u||b[13]!==i?(f={onPollCreate:u,threadKey:i},b[12]=u,b[13]=i,b[14]=f):f=b[14];var v;b[15]!==p||b[16]!==e?(v=function(a,b,f,g,h,i,j){return k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:n,children:k.jsx(c("MWXPressable.react"),{"aria-label":n,onHoverIn:g,onHoverOut:h,onPress:function(){b(),p==null?void 0:p({eventName:"composer_open_gif_picker"})},onPressIn:i,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]},children:k.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsPollsSVG,{fill:e,size:20})})})},b[15]=p,b[16]=e,b[17]=v):v=b[17];var w;b[18]!==f||b[19]!==v?(w=k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:f,popoverResource:l,position:"above",children:v}),b[18]=f,b[19]=v,b[20]=w):w=b[20];return w}b[21]!==e?(f=d("SVGIcon").legacySVGIcon(function(){return k.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsPollsSVG,{fill:e,size:20})}),b[21]=e,b[22]=f):f=b[22];b[23]!==f?(v=k.jsx(c("MWXIcon.react"),{icon:f}),b[23]=f,b[24]=v):v=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx(c("MWXTextPairing.react"),{headline:n,level:4}),b[25]=w):w=b[25];b[26]!==v||b[27]!==a?(f=k.jsx(c("MWXListCellPressable.react"),{addOnStart:v,addOnStartVerticalAlign:"center",content:w,loggingEvent:"composer_open_create_poll_flyout",onPress:a,role:"menuitem"}),b[26]=v,b[27]=a,b[28]=f):f=b[28];return f}g["default"]=a}),226);
__d("MWChatPromptFlyoutBackCard.react",["BaseImage.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=150,m=200,n={backCard:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",bottom:"x1ey2m1c",boxShadow:"xumrakr",height:"x1b51vyi",start:"x17qophe",opacity:"xg01cxk",position:"x10l6tqk",transform:"xv8dq09",transitionDuration:"xcuylb0",transitionProperty:"x6o7n8i",transitionTimingFunction:"x1bckuxf",width:"xrostsh",zIndex:"x1ja2u2z",$$css:!0},backCardVisible:{opacity:"x1hc1fzr",transform:"xwot3bk",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=j(8),d=a.isVideo;a=a.previewUrl;var e=a!==null?n.backCardVisible:null,f;b[0]!==e?(f=(h||(h=c("stylex")))(n.backCard,e),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==d?(e=a!==null?d?k.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xfh8nwu xoqspk4 x12v9rci x138vmkv xl1xv1r",height:m,muted:!0,src:a,width:l}):k.jsx(c("BaseImage.react"),{height:m,src:a,width:l,xstyle:n.media}):null,b[2]=a,b[3]=d,b[4]=e):e=b[4];b[5]!==f||b[6]!==e?(a=k.jsx("div",{className:f,children:e}),b[5]=f,b[6]=e,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("MWChatPromptFlyoutCTAButton.react",["fbt","BaseFileSelector.react","MWXButton.react","fileInputAcceptValues","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(5),e=a.isSendDisabled,f=a.onFilesSelected,g=a.onPressSend;a=a.showFileSelector;var i;b[0]!==a||b[1]!==f||b[2]!==e||b[3]!==g?(i=a?k.jsx(c("BaseFileSelector.react"),{accept:d("fileInputAcceptValues").PHOTO_AND_VIDEO,onFilesSelected:f,children:l}):k.jsx(c("MWXButton.react"),{disabled:e,label:h._("__JHASH__racSmevYoYZ__JHASH__"),onPress:g}),b[0]=a,b[1]=f,b[2]=e,b[3]=g,b[4]=i):i=b[4];return i}function l(a){return k.jsx(c("MWXButton.react"),{label:h._("__JHASH__YLEewsPX1Ff__JHASH__"),onPress:a})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatPromptFlyoutDisclaimer.react",["fbt","MWXText.react","RollCallPromptType","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(5);a=a.promptType;var d=c("gkx")("7782"),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xyamay9 x1l90r2v x2b8uid",b[0]=e):e=b[0];b[1]!==a?(d=d?a===c("RollCallPromptType").TEXT?h._("__JHASH__1b6dQcj_nOc__JHASH__"):h._("__JHASH__TBziAJEAe-m__JHASH__"):h._("__JHASH__oEdtqK8h88D__JHASH__"),b[1]=a,b[2]=d):d=b[2];b[3]!==d?(a=k.jsx("div",{className:e,children:k.jsx(c("MWXText.react"),{type:"meta4",children:d})}),b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatPromptFlyoutErrorMessage.react",["fbt","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="x1l90r2v x2b8uid",a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx("div",{className:b,children:k.jsx(c("MWXText.react"),{color:"negative",type:"meta4",children:h._("__JHASH__BNDx1mX2nlz__JHASH__")})}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("MWXIconMessage",["MWXSvgIcon","SVGIcon","cr:12494","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12494")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatPromptFlyoutPromptTypeSelector.react",["fbt","MWXCircleButton.react","MWXIconMessage","MWXIconPhoto","RollCallPromptType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(6),d=a.icon,e=a.isSelected,f=a.label;a=a.onPress;var g=e?"primary":"disabled";e=e?"overlay-floating":"deemphasized";var h;b[0]!==g||b[1]!==d||b[2]!==f||b[3]!==a||b[4]!==e?(h=k.jsx(c("MWXCircleButton.react"),{color:g,icon:d,label:f,onPress:a,size:36,type:e}),b[0]=g,b[1]=d,b[2]=f,b[3]=a,b[4]=e,b[5]=h):h=b[5];return h}function a(a){var b=j(16),d=a.promptType,e=a.setPromptType;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 x1qughib x1l90r2v x29ncy0"},b[0]=a):a=b[0];var f=d===c("RollCallPromptType").TEXT,g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__pixrfe3xOeN__JHASH__"),b[1]=g):g=b[1];var i;b[2]!==e?(i=function(){return e(c("RollCallPromptType").TEXT)},b[2]=e,b[3]=i):i=b[3];b[4]!==f||b[5]!==i?(g=k.jsx(l,{icon:c("MWXIconMessage"),isSelected:f,label:g,onPress:i}),b[4]=f,b[5]=i,b[6]=g):g=b[6];f=d===c("RollCallPromptType").MEDIA;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__YL2kX1525pI__JHASH__"),b[7]=i):i=b[7];b[8]!==e?(d=function(){return e(c("RollCallPromptType").MEDIA)},b[8]=e,b[9]=d):d=b[9];b[10]!==f||b[11]!==d?(i=k.jsx(l,{icon:c("MWXIconPhoto"),isSelected:f,label:i,onPress:d}),b[10]=f,b[11]=d,b[12]=i):i=b[12];b[13]!==g||b[14]!==i?(f=k.jsxs("div",babelHelpers["extends"]({},a,{children:[g,i]})),b[13]=g,b[14]=i,b[15]=f):f=b[15];return f}g["default"]=a}),226);
__d("MWChatPromptFlyout.react",["fbt","FBLogger","FocusRegion.react","I64","LsFalcoEventEntryPoint","MWChatPromptFlyoutBackCard.react","MWChatPromptFlyoutCTAButton.react","MWChatPromptFlyoutDisclaimer.react","MWChatPromptFlyoutErrorMessage.react","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutPromptTypeSelector.react","MWPActor.react","MWPromptCreationUtils","MWXText.react","MessageSendClickFalcoEvent","MessengerWebUXLogger","RollCallPromptType","asyncToGeneratorRuntime","cometPushToast","gkx","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useState,n=e.c,o=26214400;function p(){var a=n(2),b=c("MessengerWebUXLogger").useInteractionLogger(),e;a[0]!==b?(e=function(){b==null?void 0:b("composer_send_prompt"),c("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").composer}}})},a[0]=b,a[1]=e):e=a[1];return e}function a(a){var e,f=n(55),g=a.initialFile,k=a.initialText,r=a.onClose,s=a.threadKey,t=a.threadType,u=(i||(i=c("useReStore")))(),v=d("MWPActor.react").useActor();f[0]!==u||f[1]!==s||f[2]!==v||f[3]!==t?(a=function(a,e,f){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=f?URL.createObjectURL(f):void 0,c=(yield d("MWPromptCreationUtils").createAuthoritiativeRollCall(u,s,a,e));b=(yield d("MWPromptCreationUtils").createOptimisticRollCallMessage(u,v,s,t,c,a,e,b,f==null?void 0:f.type));f&&b!=null&&d("MWPromptCreationUtils").startRollCallMediaUpload(f,c,b,(j||(j=d("I64"))).to_string(s))})()["catch"](function(a){c("FBLogger")("messenger_web_messaging").catching(a).mustfix("Creating prompt"),d("cometPushToast").cometPushErrorToast({message:h._("__JHASH___58Ig9CWslh__JHASH__")})})},f[0]=u,f[1]=s,f[2]=v,f[3]=t,f[4]=a):a=f[4];var w=a;f[5]!==w||f[6]!==r?(a=function(a,b,c){w(a,b,c),r==null?void 0:r()},f[5]=w,f[6]=r,f[7]=a):a=f[7];var x=a;a=c("gkx")("7782");e=m((e=k)!=null?e:"");var y=e[0],z=e[1];e=m(k!=null?c("RollCallPromptType").TEXT:c("RollCallPromptType").MEDIA);var A=e[0];e=e[1];var B;f[8]!==g?(B=g!=null?URL.createObjectURL(g):null,f[8]=g,f[9]=B):B=f[9];B=m(B);var C=B[0],D=B[1];B=m((B=g)!=null?B:void 0);var E=B[0],F=B[1];B=m(!1);var G=B[0],H=B[1];f[10]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(a){a=a[0];if(!a)return;a.size>=o?H(!0):(D(URL.createObjectURL(a)),H(!1),F(a))},f[10]=B):B=f[10];B=B;var I=p(),J;f[11]!==I||f[12]!==E||f[13]!==C||f[14]!==x||f[15]!==y?(J=function(){I(),E&&C!==null?x(y,c("RollCallPromptType").MEDIA,E):c("recoverableViolation")("Missing File","messenger_web_messaging")},f[11]=I,f[12]=E,f[13]=C,f[14]=x,f[15]=y,f[16]=J):J=f[16];J=J;var K;f[17]!==I||f[18]!==x||f[19]!==y||f[20]!==A||f[21]!==E?(K=function(){I(),x(y,A,A===c("RollCallPromptType").MEDIA?E:void 0)},f[17]=I,f[18]=x,f[19]=y,f[20]=A,f[21]=E,f[22]=K):K=f[22];K=K;var L=q,M,N;f[23]===Symbol["for"]("react.memo_cache_sentinel")?(M="x6s0dn4 x9f619 x78zum5 xdt5ytf x13hwc6b xyamay9 x1pi30zi x1l90r2v x1swvt13 x1m258z3",N="xbaz6xv",f[23]=M,f[24]=N):(M=f[23],N=f[24]);var O;f[25]===Symbol["for"]("react.memo_cache_sentinel")?(N=l.jsx("div",{className:N,children:l.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._("__JHASH__ALK-qDDamkT__JHASH__")})}),O="x1n2onr6",f[25]=N,f[26]=O):(N=f[25],O=f[26]);if(f[27]!==A||f[28]!==(E==null?void 0:E.type)||f[29]!==C){var P;P=A===c("RollCallPromptType").MEDIA?l.jsx(c("MWChatPromptFlyoutBackCard.react"),{isVideo:(P=E==null?void 0:(P=E.type)==null?void 0:P.startsWith("video/"))!=null?P:!1,previewUrl:C}):null;f[27]=A;f[28]=E==null?void 0:E.type;f[29]=C;f[30]=P}else P=f[30];var Q;f[31]===Symbol["for"]("react.memo_cache_sentinel")?(Q=function(a){z(a.target.value)},f[31]=Q):Q=f[31];f[32]!==y?(Q=l.jsx(c("MWChatPromptFlyoutFrontCard.react"),{maxLength:50,onChange:Q,value:y}),f[32]=y,f[33]=Q):Q=f[33];f[34]!==P||f[35]!==Q?(O=l.jsxs("div",{className:O,children:[P,Q]}),f[34]=P,f[35]=Q,f[36]=O):O=f[36];f[37]!==A?(P=l.jsx(c("MWChatPromptFlyoutDisclaimer.react"),{promptType:A}),f[37]=A,f[38]=P):P=f[38];f[39]!==G?(Q=G?l.jsx(c("MWChatPromptFlyoutErrorMessage.react"),{}):null,f[39]=G,f[40]=Q):Q=f[40];f[41]!==g||f[42]!==k||f[43]!==A?(G=a&&g===void 0&&k===void 0?l.jsx(c("MWChatPromptFlyoutPromptTypeSelector.react"),{promptType:A,setPromptType:e}):null,f[41]=g,f[42]=k,f[43]=A,f[44]=G):G=f[44];e=y.trim()==="";g=a?K:J;k=A===c("RollCallPromptType").MEDIA&&C===null;f[45]!==e||f[46]!==g||f[47]!==k?(a=l.jsx(c("MWChatPromptFlyoutCTAButton.react"),{isSendDisabled:e,onFilesSelected:B,onPressSend:g,showFileSelector:k}),f[45]=e,f[46]=g,f[47]=k,f[48]=a):a=f[48];f[49]!==O||f[50]!==P||f[51]!==Q||f[52]!==G||f[53]!==a?(K=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:L,children:l.jsxs("div",{className:M,children:[N,O,P,Q,G,a]})}),f[49]=O,f[50]=P,f[51]=Q,f[52]=G,f[53]=a,f[54]=K):K=f[54];return K}function q(a){return a==="textarea"}g["default"]=a}),226);
__d("MWV2ComposerPromptButtonQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6768559856594435"}),null);
__d("MWV2ComposerPromptButtonQuery.graphql",["MWV2ComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWV2ComposerPromptButtonQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("MWV2ComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWV2ComposerPromptButtonQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWV2ComposerPromptButton.react",["fbt","CometRelay","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatPromptFlyout.react","MWDidQueryPromptsNux","MWV2ComposerPromptButtonQuery.graphql","MWXIconRollCall","MWXIconStrict.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","gkx","promiseDone","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(j||(j=d("react"))).c,m=j,n=c("requireDeferred")("MWChatPromptDialog.react").__setRef("MWV2ComposerPromptButton.react"),o=c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("MWV2ComposerPromptButton.react"),p={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function q(){var a=l(2),c=d("CometRelay").useRelayEnvironment(),e;a[0]!==c?(e=function(){return d("CometRelay").fetchQuery(c,i!==void 0?i:i=b("MWV2ComposerPromptButtonQuery.graphql"),{}).toPromise()},a[0]=c,a[1]=e):e=a[1];return e}var r=h._("__JHASH__HlC08Cr4XB6__JHASH__");function a(a){var b=l(23),e=a.color,f=a.entryPoint,g=a.onClose,h=a.pushPage,i=a.threadKey,j=a.threadType,p=q();a=c("useMWXLazyDialog")(o);var t=a[0];a=c("useMWXLazyDialog")(n);var u=a[0];b[0]!==j||b[1]!==i||b[2]!==g||b[3]!==u||b[4]!==h||b[5]!==p||b[6]!==t?(a=function(){var a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(j);a?(c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(k||(k=d("I64"))).to_string(i)}}),g(),u({threadKey:i})):(h(function(){return m.jsx(c("MWChatPromptFlyout.react"),{onClose:g,threadKey:i,threadType:j})}),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),c("promiseDone")(p(),function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes)==null?void 0:(a=a.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;a&&t({asCreator:!0,rendererStrategy:a})})))},b[0]=j,b[1]=i,b[2]=g,b[3]=u,b[4]=h,b[5]=p,b[6]=t,b[7]=a):a=b[7];a=a;if(f==="composer"){b[8]!==e?(f=e!==void 0?d("MWXThreadThemeColor").mwxThreadThemeColor(e):void 0,b[8]=e,b[9]=f):f=b[9];var v;b[10]!==f?(v=m.jsx(c("MWXIconStrict.react"),{color:f,icon:c("MWXIconRollCall"),size:20}),b[10]=f,b[11]=v):v=b[11];b[12]!==a||b[13]!==v?(f=m.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:r,children:m.jsx(c("MWXPressable.react"),{"aria-label":r,onPress:a,overlayRadius:"50%",xstyle:s,children:v})}),b[12]=a,b[13]=v,b[14]=f):f=b[14];return f}b[15]!==e?(v=e!==void 0?d("MWXThreadThemeColor").mwxThreadThemeColor(e):void 0,b[15]=e,b[16]=v):v=b[16];b[17]!==v?(f=m.jsx(c("MWXIconStrict.react"),{color:v,icon:c("MWXIconRollCall"),size:20}),b[17]=v,b[18]=f):f=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("MWXTextPairing.react"),{headline:r,level:4}),b[19]=e):e=b[19];b[20]!==f||b[21]!==a?(v=m.jsx(c("MWXListCellPressable.react"),{addOnStart:f,addOnStartVerticalAlign:"center",content:e,loggingEvent:"composer_open_create_prompt_flyout",onPress:a,role:"menuitem"}),b[20]=f,b[21]=a,b[22]=v):v=b[22];return v}function s(){return[c("gkx")("23219")?p.buttonMDS:p.buttonFDS]}g["default"]=a}),226);
__d("MWV2ComposerStickerButton.react",["cr:12006","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:12006")}),98);
__d("MWV2ComposerVoiceClipButton.react",["fbt","MWChatComposerOverflowIcons","MWXIcon.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXTooltip.react","SVGIcon","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},m=h._("__JHASH__Cn3aSQ9nsyA__JHASH__");function a(a){var b=j(16),e=a.color,f=a.disabled,g=a.entryPoint,h=a.onPress;a=f===void 0?!1:f;if(g==="composer"){b[0]!==e?(f=k.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsMicrophoneSVG,{fill:e,size:20}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==h||b[4]!==f?(g=k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:k.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:a,onPress:h,overlayRadius:"50%",xstyle:n,children:f})}),b[2]=a,b[3]=h,b[4]=f,b[5]=g):g=b[5];return g}b[6]!==e?(a=d("SVGIcon").legacySVGIcon(function(){return k.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsMicrophoneSVG,{fill:e,size:20})}),b[6]=e,b[7]=a):a=b[7];b[8]!==a?(f=k.jsx(c("MWXIcon.react"),{icon:a}),b[8]=a,b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXTextPairing.react"),{headline:m,level:4}),b[10]=g):g=b[10];b[11]!==h?(a=function(){h()},b[11]=h,b[12]=a):a=b[12];b[13]!==f||b[14]!==a?(g=k.jsx(c("MWXListCellPressable.react"),{addOnStart:f,addOnStartVerticalAlign:"center",content:g,loggingEvent:"composer_record_voice_clip",onPress:a,role:"menuitem"}),b[13]=f,b[14]=a,b[15]=g):g=b[15];return g}function n(){return[c("gkx")("23219")?l.buttonMDS:l.buttonFDS]}g["default"]=a}),226);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useState,j=e.c,k=c("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),l=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=j(15),e=i(l.AWAITING),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e);var h=e[0],m;if(b[1]===Symbol["for"]("react.memo_cache_sentinel")){m={channelCount:1};e=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;e&&(m.sampleRate=44100);b[1]=m}else m=b[1];b[2]!==h?(e=function(){return h({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},b[2]=h,b[3]=e):e=b[3];var n=e;b[4]!==a||b[5]!==n?(e=function(){var b;(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:m,video:!1}).then(function(b){g(l.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(g(l.DENIED),n()):g(l.FAILED),k.onReady(function(a){return a.logBrowserDenyAccess()})})},b[4]=a,b[5]=n,b[6]=e):e=b[6];var o=e;b[7]!==h||b[8]!==o?(e=function(){return h({contentType:"askForAccess",onAllow:function(){return o()}},c("emptyFunction"))},b[7]=h,b[8]=o,b[9]=e):e=b[9];var p=e;b[10]!==f||b[11]!==n||b[12]!==o||b[13]!==p?(e=function(){switch(f){case l.AWAITING:var a;a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;bb61:switch(a){case"denied":g(l.DENIED);n();break bb61;case"granted":o();break bb61;case"prompt":p();break bb61;default:p()}})["catch"](function(){p()}):(o(),k.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case l.DENIED:return n();case l.GRANTED:case l.FAILED:return o()}},b[10]=f,b[11]=n,b[12]=o,b[13]=p,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","LSMessagingThreadTypeUtil","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerPollButton.react","MWV2ComposerPromptButton.react","MWV2ComposerStickerButton.react","MWV2ComposerVoiceClipButton.react","MWXTooltipGroup.react","QE2Logger","emptyFunction","qex","react","stylex","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},firstButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},firstButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},secondButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},secondButtonShown:{transitionDelay:"x5h36tt",$$css:!0},thirdButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},thirdButtonShown:{transitionDelay:"x5w5eug",$$css:!0}},m="var(--chat-composer-button-color)";function a(a){var b=j(74),e=a.canSendAudioClipFinal,f=a.canSendFileFinal,g=a.canSendGifFinal,i=a.canSendRollcall,n=a.canSendSticker,o=a.composerLinkPreview,p=a.gifButtonPosition,q=a.isInputExpanded,r=a.isRTL,s=a.isSecureThread,t=a.localTimezoneInformation,u=a.onAttachmentsAdded,v=a.onSendMessage,w=a.shouldUseMDS,x=a.stickerButtonPosition,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType;a=a.voiceRecorder;var B=c("useMWEntrypoint")(),C=c("useMWFalcoFeatureEventLogger")(z,A),D;b[0]!==C||b[1]!==B?(D=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");C(B,c)},b[0]=C,b[1]=B,b[2]=D):D=b[2];D=D;a=c("useMWV2ComposerOnPressVoiceClip")(a);var E;b[3]!==A?(E=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A),b[3]=A,b[4]=E):E=b[4];E=E;var F;b[5]!==r?(F=r?{right:"0px"}:{left:"0px"},b[5]=r,b[6]=F):F=b[6];F=F;var G;b[7]!==r||b[8]!==x?(G=r?{right:x.toString()+"px"}:{left:x.toString()+"px"},b[7]=r,b[8]=x,b[9]=G):G=b[9];x=G;b[10]!==r||b[11]!==p?(G=r?{right:p.toString()+"px"}:{left:p.toString()+"px"},b[10]=r,b[11]=p,b[12]=G):G=b[12];r=G;b[13]!==E||b[14]!==i?(p=E&&i&&c("qex")._("721")===!0,b[13]=E,b[14]=i,b[15]=p):p=b[15];G=p;E&&i&&d("QE2Logger").logExposureForUser("fb_msgr_bc_prompts_creator_side_universe",void 0,"can_create_prompts");p=w?l.buttonMDS:l.buttonFDS;i=q?l.buttonHidden:l.buttonShown;var H=q?l.firstButtonHidden:l.firstButtonShown,I;b[16]!==p||b[17]!==i||b[18]!==H?(I=(h||(h=c("stylex")))(l.button,p,i,H),b[16]=p,b[17]=i,b[18]=H,b[19]=I):I=b[19];p=!f;b[20]!==p||b[21]!==u||b[22]!==y?(i=k.jsx(c("MWV2ComposerFileButton.react"),{disabled:p,onAttachmentsAdded:u,supportedFileTypes:y}),b[20]=p,b[21]=u,b[22]=y,b[23]=i):i=b[23];b[24]!==I||b[25]!==F||b[26]!==i?(H=k.jsx("div",{className:I,style:F,children:i}),b[24]=I,b[25]=F,b[26]=i,b[27]=H):H=b[27];f=w?l.buttonMDS:l.buttonFDS;p=q?l.buttonHidden:l.buttonShown;u=q?l.secondButtonHidden:l.secondButtonShown;b[28]!==f||b[29]!==p||b[30]!==u?(y=(h||(h=c("stylex")))(l.button,f,p,u),b[28]=f,b[29]=p,b[30]=u,b[31]=y):y=b[31];b[32]!==E||b[33]!==z||b[34]!==A||b[35]!==n||b[36]!==s||b[37]!==D||b[38]!==v?(I=E?k.jsx(c("MWV2ComposerPollButton.react"),{color:m,entryPoint:"composer",onClose:c("emptyFunction"),threadKey:z,threadType:A}):k.jsx(c("MWV2ComposerStickerButton.react"),{color:m,disabled:!n,isSecureThread:s,onSelectStickerPack:D,onSendMessage:v}),b[32]=E,b[33]=z,b[34]=A,b[35]=n,b[36]=s,b[37]=D,b[38]=v,b[39]=I):I=b[39];b[40]!==y||b[41]!==x||b[42]!==I?(F=k.jsx("div",{className:y,style:x,children:I}),b[40]=y,b[41]=x,b[42]=I,b[43]=F):F=b[43];i=w?l.buttonMDS:l.buttonFDS;f=q?l.buttonHidden:l.buttonShown;p=q?l.thirdButtonHidden:l.thirdButtonShown;b[44]!==i||b[45]!==f||b[46]!==p?(u=(h||(h=c("stylex")))(l.button,i,f,p),b[44]=i,b[45]=f,b[46]=p,b[47]=u):u=b[47];b[48]!==E||b[49]!==G||b[50]!==z||b[51]!==A||b[52]!==e||b[53]!==a||b[54]!==g||b[55]!==s||b[56]!==v?(n=E?G?k.jsx(c("MWV2ComposerPromptButton.react"),{color:m,entryPoint:"composer",onClose:c("emptyFunction"),pushPage:c("emptyFunction"),threadKey:z,threadType:A}):k.jsx(c("MWV2ComposerVoiceClipButton.react"),{color:m,disabled:!e,entryPoint:"composer",onPress:a}):k.jsx(c("MWV2ComposerGifButton.react"),{disabled:!g,isSecureThread:s,onSendMessage:v}),b[48]=E,b[49]=G,b[50]=z,b[51]=A,b[52]=e,b[53]=a,b[54]=g,b[55]=s,b[56]=v,b[57]=n):n=b[57];b[58]!==u||b[59]!==r||b[60]!==n?(D=k.jsx("div",{className:u,style:r,children:n}),b[58]=u,b[59]=r,b[60]=n,b[61]=D):D=b[61];b[62]!==H||b[63]!==F||b[64]!==D?(y=k.jsxs(c("MWXTooltipGroup.react"),{children:[H,F,D]}),b[62]=H,b[63]=F,b[64]=D,b[65]=y):y=b[65];b[66]!==t?(x=t!=null?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.LocalTimezoneInformation",children:t}):null,b[66]=t,b[67]=x):x=b[67];b[68]!==o?(I=o!=null?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.ComposerLinkPreview",children:o}):null,b[68]=o,b[69]=I):I=b[69];b[70]!==y||b[71]!==x||b[72]!==I?(w=k.jsxs(k.Fragment,{children:[y,x,I]}),b[70]=y,b[71]=x,b[72]=I,b[73]=w):w=b[73];return w}g["default"]=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","react","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState,l=b.c,m=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),n={plusButtonFDS:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginStart:"xsgj6o6",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=l(35),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,i=a.editor,o=a.hasAudioClipsCapability,p=a.hasGIFCapability,q=a.hasPaymentCapability,r=a.hasPollCreationCapability,s=a.hasRollcallCapability,t=a.hasStickerCapability,u=a.isInputExpanded,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.renderExtraOverflowMenuItems,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType,B=a.voiceRecorder;c("emptyFunction");a=k(!1);var C=a[0],D=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return D(a)},b[0]=a):a=b[0];a=a;var E;b[1]!==A?(E=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A),b[1]=A,b[2]=E):E=b[2];A=E;E=q&&!c("gkx")("24133")&&g;q=r&&(!A||c("gkx")("23422")||c("gkx")("3378"))&&(!A||u);g=s&&(!A||u);r=o&&e&&(!A||u);s=p&&(u||A);o=f&&u;e=A||t&&u;p=c("gkx")("23423");f=c("gkx")("23159");if(x!=null){b[3]!==x||b[4]!==v?(A=x("var(--chat-composer-button-color)",c("emptyFunction"),v),b[3]=x,b[4]=v,b[5]=A):A=b[5];t=A}else{b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u=[],b[6]=u):u=b[6];t=u}x=t;A=c("useMWV2ComposerOnPressVoiceClip")(B);var F=B.state.stage!=="Unopen";b[7]!==F||b[8]!==C?(u=F?h._("__JHASH__gaxHiFwvIGk__JHASH__"):C?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__"),b[7]=F,b[8]=C,b[9]=u):u=b[9];var G=u,H=c("MessengerWebUXLogger").useInteractionLogger();t=E||q||r||s||o||e||p||f||g||x.length>0;var I=!t;b[10]!==i||b[11]!==x||b[12]!==v||b[13]!==A||b[14]!==w||b[15]!==q||b[16]!==g||b[17]!==o||b[18]!==s||b[19]!==E||b[20]!==r||b[21]!==e||b[22]!==y||b[23]!==z?(C={color:"var(--chat-composer-button-color)",editor:i,extraItems:x,onAttachmentsAdded:v,onClose:c("emptyFunction"),onPressVoiceClip:A,onSendMessage:w,showCreatePoll:q,showCreatePrompt:g,showFile:o,showGenAICreate:p,showGenAICreateVideo:f,showGif:s,showPayment:E,showSendVoiceClip:r,showSticker:e,supportedFileTypes:y,threadKey:z},b[10]=i,b[11]=x,b[12]=v,b[13]=A,b[14]=w,b[15]=q,b[16]=g,b[17]=o,b[18]=s,b[19]=E,b[20]=r,b[21]=e,b[22]=y,b[23]=z,b[24]=C):C=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),b[25]=u):u=b[25];b[26]!==G||b[27]!==I||b[28]!==F||b[29]!==B||b[30]!==H?(t=function(a,b,e,f,g,h){return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:j.jsx(c("MWXPressable.react"),{"aria-label":G,disabled:I,onHoverIn:f,onHoverOut:g,onPress:function(){if(F){B.reset();m.onReady(function(a){return a.logDeleteRecording()});H==null?void 0:H({eventName:"composer_close_audio_recorder"});return}else H==null?void 0:H({eventName:"composer_open_overflow_menu"}),b()},onPressIn:h,overlayDisabled:I,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("23219")?n.plusButtonMDS:n.plusButtonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:I?void 0:"var(--chat-composer-button-color)",isRotated:F,size:20})})})},b[26]=G,b[27]=I,b[28]=F,b[29]=B,b[30]=H,b[31]=t):t=b[31];b[32]!==C||b[33]!==t?(p=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:a,popoverProps:C,popoverResource:u,position:"above",preloadTrigger:"button",children:t}),b[32]=C,b[33]=t,b[34]=p):p=b[34];return p}g["default"]=a}),226);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,h))!=null?a:!1;return a}function h(a){return d("LSThreadBitOffset").has(36,a)}g["default"]=a}),98);
__d("MWReQLComposerPlusButton.react",["LSThreadBitOffset","MWV2ComposerPlusButton.react","react","useMWHasPollsCreationEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(32),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,h=a.editor,k=a.isInputExpanded,l=a.onAttachmentsAdded,m=a.onSendMessage,n=a.renderExtraOverflowMenuItems,o=a.supportedFileTypes,p=a.thread;a=a.voiceRecorder;var q=c("useMWHasPollsCreationEnabled")(p.threadKey),r;b[0]!==p?(r=d("LSThreadBitOffset").has(14,p),b[0]=p,b[1]=r):r=b[1];var s;b[2]!==p?(s=d("LSThreadBitOffset").has(4,p),b[2]=p,b[3]=s):s=b[3];var t;b[4]!==p?(t=d("LSThreadBitOffset").has(0,p),b[4]=p,b[5]=t):t=b[5];var u;b[6]!==p?(u=d("LSThreadBitOffset").has(152,p),b[6]=p,b[7]=u):u=b[7];var v;b[8]!==p?(v=d("LSThreadBitOffset").has(3,p),b[8]=p,b[9]=v):v=b[9];var w;b[10]!==r||b[11]!==s||b[12]!==t||b[13]!==q||b[14]!==u||b[15]!==v?(w={hasAudioClipsCapability:r,hasGIFCapability:s,hasPaymentCapability:t,hasPollCreationCapability:q,hasRollcallCapability:u,hasStickerCapability:v},b[10]=r,b[11]=s,b[12]=t,b[13]=q,b[14]=u,b[15]=v,b[16]=w):w=b[16];r=w;b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==h||b[21]!==q||b[22]!==k||b[23]!==l||b[24]!==m||b[25]!==n||b[26]!==o||b[27]!==p.threadKey||b[28]!==p.threadType||b[29]!==a||b[30]!==r?(s=j.jsx(c("MWV2ComposerPlusButton.react"),babelHelpers["extends"]({canSendAudioClip:e,canSendFile:f,canSendPayment:g,editor:h,hasPollCreationCapability:q,isInputExpanded:k,onAttachmentsAdded:l,onSendMessage:m,renderExtraOverflowMenuItems:n,supportedFileTypes:o,threadKey:p.threadKey,threadType:p.threadType,voiceRecorder:a},r)),b[17]=e,b[18]=f,b[19]=g,b[20]=h,b[21]=q,b[22]=k,b[23]=l,b[24]=m,b[25]=n,b[26]=o,b[27]=p.threadKey,b[28]=p.threadType,b[29]=a,b[30]=r,b[31]=s):s=b[31];return s}g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["fbt","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","Promise","ReQL","ReQLSuspense","cr:8607","emptyFunction","gkx","react","requireDeferred","stylex","useDeferredModuleOnReady","useIsAdsAIChat","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWIsOffline","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,aa){"use strict";var ba,ca,da,h,i,j=i||(i=d("react"));e=i;var ea=e.useEffect,fa=e.useId,ga=e.useRef,ha=e.c,k=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),ia={container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function ja(a){var b=ha(4),d=c("useDeferredModuleOnReady")(k),e,f;b[0]!==d||b[1]!==a?(e=function(){if(d!=null)return d(a,16)},f=[a,d],b[0]=d,b[1]=a,b[2]=e,b[3]=f):(e=b[2],f=b[3]);ea(e,f)}function a(a){var e=ha(149),g=a.ariaLabel,i=a.canSendAudioClip,k=a.canSendFile,l=a.canSendGif,m=a.canSendPayment,n=a.canSendSticker,o=a.composerLinkPreview,p=a.editor,q=a.editorElementRef,r=a.hasStuffToSend,s=a.hideAriaDescribedBy,t=a.isAiBotMentionsEnabled,u=a.isMentionsPluginEnabled,v=a.keepInputExpanded,w=a.localTimezoneInformation,x=a.mediaStaging,ka=a.onAttachmentRemoved,y=a.onAttachmentsAdded,z=a.onSendMessage,la=a.placeholderText,ma=a.policyProduct,A=a.renderExtraButtons,B=a.renderExtraOverflowMenuItems,na=a.sendMessage,C=a.supportedFileTypes,oa=a.surface,D=a.thread,E=a.voiceRecorder;a=i===void 0?!0:i;i=k===void 0?!0:k;k=l===void 0?!0:l;l=m===void 0?!1:m;m=n===void 0?!0:n;n=s===void 0?!1:s;s=u===void 0?!0:u;u=v===void 0?!1:v;v=A===void 0?null:A;A=c("useMWIsOffline")();var F;e[0]!==k||e[1]!==D?(F=k&&d("LSThreadBitOffset").has(4,D),e[0]=k,e[1]=D,e[2]=F):F=e[2];k=F;e[3]!==D.threadType?(F=d("MWCMThreadTypes.react").isBroadcastThread(D.threadType),e[3]=D.threadType,e[4]=F):F=e[4];F=F;var G;e[5]!==D.threadType?(G=d("LSMessagingThreadTypeUtil").isAiBot(D.threadType),e[5]=D.threadType,e[6]=G):G=e[6];G=G;var H=c("useIsAdsAIChat")(D.threadKey),I;e[7]!==i||e[8]!==F||e[9]!==G||e[10]!==H||e[11]!==D?(I=i&&(F||G||H?d("LSThreadBitOffset").has(56,D):!0),e[7]=i,e[8]=F,e[9]=G,e[10]=H,e[11]=D,e[12]=I):I=e[12];i=I;e[13]!==D.threadType?(F=d("LSMessagingThreadTypeUtil").isArmadilloSecure(D.threadType),e[13]=D.threadType,e[14]=F):F=e[14];G=F;e[15]!==m||e[16]!==D?(I=m&&d("LSThreadBitOffset").has(3,D),e[15]=m,e[16]=D,e[17]=I):I=e[17];F=I;m=c("useMWEntrypoint")();I=b("cr:8607")()===!0;var J=E.state.stage!=="Unopen",K;e[18]!==E||e[19]!==z?(K=function(){E.getVoiceClip().then(function(a){E.reset();z(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"MWV2ComposerView.onSendVoiceClip");return(h||(h=b("Promise"))).resolve()})["catch"](function(a){c("FBLogger")("messenger_web_media").catching(a).warn("Failed to send voice clip in messenger composer ");return(h||(h=b("Promise"))).reject(a)})},e[18]=E,e[19]=z,e[20]=K):K=e[20];K=K;var pa=ga(null),L=c("usePrevious")(J),M,N;e[21]!==J||e[22]!==L?(M=function(){if(J===!0&&L===!1){var a;(a=pa.current)==null?void 0:a.focus()}},N=[J,pa,L],e[21]=J,e[22]=L,e[23]=M,e[24]=N):(M=e[23],N=e[24]);ea(M,N);e[25]!==D.threadKey?(M={threadKey:D.threadKey},e[25]=D.threadKey,e[26]=M):M=e[26];N=c("useParticipantsExcludingViewer")(M);e[27]!==D?(M=d("LSThreadBitOffset").has(43,D),e[27]=D,e[28]=M):M=e[28];M=M;var O;e[29]===Symbol["for"]("react.memo_cache_sentinel")?(O=d("Locale").isRTL(),e[29]=O):O=e[29];O=O;var P=c("gkx")("23219"),Q;e[30]===Symbol["for"]("react.memo_cache_sentinel")?(Q=P?[36,8]:[32,4],e[30]=Q):Q=e[30];Q=Q;var R=Q[0];Q=Q[1];var S=0+R|0,T;e[31]!==D.threadType?(T=d("LSMessagingThreadTypeUtil").isCMSubthread(D.threadType),e[31]=D.threadType,e[32]=T):T=e[32];T=T;u=r||u||T&&m==="inbox";m=S+R|0;e[33]!==u?(R=O?{marginRight:u?P?8..toString()+"px":"0":((m+R|0)+Q|0).toString()+"px"}:{marginLeft:u?P?8..toString()+"px":"0":((m+R|0)+Q|0).toString()+"px"},e[33]=u,e[34]=R):R=e[34];Q=R;R=c("useMWComposerAriaDescribedBy")(D);var U=fa();ja(p);var V;e[35]!==D||e[36]!==H?(V=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D.threadType)||H&&!d("LSThreadBitOffset").has(109,D),e[35]=D,e[36]=H,e[37]=V):V=e[37];H=V;var W=(ba||(ba=c("useReStore")))();e[38]!==W.tables.custom_thread_commands||e[39]!==D.threadKey?(V=function(){return d("ReQL").fromTableAscending(W.tables.custom_thread_commands).getKeyRange(D.threadKey).filter(function(a){return!a.isOpenPersistentMenu})},e[38]=W.tables.custom_thread_commands,e[39]=D.threadKey,e[40]=V):V=e[40];var X;e[41]!==W||e[42]!==D.threadKey?(X=[W,D.threadKey],e[41]=W,e[42]=D.threadKey,e[43]=X):X=e[43];V=d("ReQLSuspense").useFirst(V,X,f.id+":266")!=null;X=c("gkx")("23425")&&V;e[44]!==D?(V=d("LSThreadBitOffset").has(152,D),e[44]=D,e[45]=V):V=e[45];V=V;var Y,Z;e[46]===Symbol["for"]("react.memo_cache_sentinel")?(Y=aa._("__JHASH__J510aPC_joc__JHASH__"),Z="xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8",e[46]=Y,e[47]=Z):(Y=e[46],Z=e[47]);var $;e[48]!==I||e[49]!==a||e[50]!==i||e[51]!==l||e[52]!==p||e[53]!==u||e[54]!==y||e[55]!==z||e[56]!==B||e[57]!==C||e[58]!==D||e[59]!==E?($=!I&&j.jsx(c("MWReQLComposerPlusButton.react"),{canSendAudioClip:a,canSendFile:i,canSendPayment:l,editor:p,isInputExpanded:u,onAttachmentsAdded:y,onSendMessage:z,renderExtraOverflowMenuItems:B,supportedFileTypes:C,thread:D,voiceRecorder:E}),e[48]=I,e[49]=a,e[50]=i,e[51]=l,e[52]=p,e[53]=u,e[54]=y,e[55]=z,e[56]=B,e[57]=C,e[58]=D,e[59]=E,e[60]=$):$=e[60];e[61]!==J||e[62]!==E||e[63]!==r||e[64]!==K?(I=J?j.jsxs(j.Fragment,{children:[j.jsx(c("MWAudioRecorder.react"),{voiceRecorder:E}),j.jsx(c("MWV2ComposerSendButton.react"),{hasStuffToSend:r,onPress:K,ref:pa})]}):null,e[61]=J,e[62]=E,e[63]=r,e[64]=K,e[65]=I):I=e[65];l=J?ia.hidden:!1;e[66]!==l?(B=(da||(da=c("stylex")))(l,ia.container),e[66]=l,e[67]=B):B=e[67];e[68]!==a||e[69]!==i||e[70]!==k||e[71]!==V||e[72]!==F||e[73]!==o||e[74]!==u||e[75]!==G||e[76]!==w||e[77]!==y||e[78]!==z||e[79]!==C||e[80]!==D.threadKey||e[81]!==D.threadType||e[82]!==E?(K=j.jsx(c("MWComposerStartButtonsGroup.react"),{canSendAudioClipFinal:a,canSendFileFinal:i,canSendGifFinal:k,canSendRollcall:V,canSendSticker:F,composerLinkPreview:o,gifButtonPosition:m,isInputExpanded:u,isRTL:O,isSecureThread:G,localTimezoneInformation:w,onAttachmentsAdded:y,onSendMessage:z,shouldUseMDS:P,stickerButtonPosition:S,supportedFileTypes:C,threadKey:D.threadKey,threadType:D.threadType,voiceRecorder:E}),e[68]=a,e[69]=i,e[70]=k,e[71]=V,e[72]=F,e[73]=o,e[74]=u,e[75]=G,e[76]=w,e[77]=y,e[78]=z,e[79]=C,e[80]=D.threadKey,e[81]=D.threadType,e[82]=E,e[83]=K):K=e[83];e[84]===Symbol["for"]("react.memo_cache_sentinel")?(l="x78zum5 x1iyjqo2 x6q2ic0",e[84]=l):l=e[84];e[85]!==n||e[86]!==U||e[87]!==R?(m=!n&&j.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:U,children:R}),e[85]=n,e[86]=U,e[87]=R,e[88]=m):m=e[88];O=n?void 0:U;e[89]!==p||e[90]!==v||e[91]!==D.threadKey?(S=j.jsx(c("MWComposerInnerButtonsGroup.react"),{editor:p,renderExtraButtons:v,shouldUseMDS:P,threadKey:D.threadKey}),e[89]=p,e[90]=v,e[91]=D.threadKey,e[92]=S):S=e[92];a=i?y:c("emptyFunction");e[93]!==T||e[94]!==D.parentThreadKey||e[95]!==D.threadKey?(k=(ca||(ca=d("I64"))).to_string(T?D.parentThreadKey:D.threadKey),e[93]=T,e[94]=D.parentThreadKey,e[95]=D.threadKey,e[96]=k):k=e[96];e[97]!==x||e[98]!==ka||e[99]!==y||e[100]!==C?(V=j.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:x,onAttachmentRemoved:ka,onAttachmentsAdded:y,supportedFileTypes:C}),e[97]=x,e[98]=ka,e[99]=y,e[100]=C,e[101]=V):V=e[101];e[102]!==s||e[103]!==t||e[104]!==M||e[105]!==D.threadType?(F=s&&(t===!0?!0:M&&d("LSMessagingThreadTypeUtil").isGroup(D.threadType)),e[102]=s,e[103]=t,e[104]=M,e[105]=D.threadType,e[106]=F):F=e[106];e[107]!==O||e[108]!==g||e[109]!==q||e[110]!==p||e[111]!==S||e[112]!==a||e[113]!==t||e[114]!==G||e[115]!==N||e[116]!==la||e[117]!==ma||e[118]!==k||e[119]!==V||e[120]!==F||e[121]!==oa?(o=j.jsx(c("MWReQLComposerInner.react"),{ariaDescribedBy:O,ariaLabel:g,contentEditableRef:q,editor:p,endContent:S,handlePastedFiles:a,isAiBotMentionsEnabled:t,isSecureThread:G,participants:N,placeholderText:la,policyProduct:ma,threadID:k,topContent:V,useMentionsPlugin:F,surface:oa,testId:"chat_input:rich-input"}),e[107]=O,e[108]=g,e[109]=q,e[110]=p,e[111]=S,e[112]=a,e[113]=t,e[114]=G,e[115]=N,e[116]=la,e[117]=ma,e[118]=k,e[119]=V,e[120]=F,e[121]=oa,e[122]=o):o=e[122];e[123]!==Q||e[124]!==m||e[125]!==o?(u=j.jsxs("div",{className:l,style:Q,children:[m,o]}),e[123]=Q,e[124]=m,e[125]=o,e[126]=u):u=e[126];e[127]!==B||e[128]!==K||e[129]!==u?(w=j.jsxs("div",{className:B,children:[K,u]}),e[127]=B,e[128]=K,e[129]=u,e[130]=w):w=e[130];e[131]!==D.customEmoji||e[132]!==D.hasPersistentMenu||e[133]!==D.threadKey||e[134]!==D.threadType||e[135]!==A||e[136]!==p||e[137]!==r||e[138]!==J||e[139]!==z||e[140]!==na||e[141]!==H||e[142]!==X?(R=j.jsx(c("MWComposerEndButtonsGroup.react"),{customEmoji:D.customEmoji,disabled:A,editor:p,hasPersistentMenu:D.hasPersistentMenu,hasStuffToSend:r,isVoiceRecorderOpen:J,onSendMessage:z,sendMessage:na,shouldHideHotLike:H,shouldHideTooltip:A,showCommands:X,threadKey:D.threadKey,threadType:D.threadType}),e[131]=D.customEmoji,e[132]=D.hasPersistentMenu,e[133]=D.threadKey,e[134]=D.threadType,e[135]=A,e[136]=p,e[137]=r,e[138]=J,e[139]=z,e[140]=na,e[141]=H,e[142]=X,e[143]=R):R=e[143];e[144]!==$||e[145]!==I||e[146]!==w||e[147]!==R?(n=j.jsxs("div",{"aria-label":Y,className:Z,"data-testid":void 0,role:"group",children:[$,I,w,R]}),e[144]=$,e[145]=I,e[146]=w,e[147]=R,e[148]=n):n=e[148];return n}g.MWV2ComposerView=a}),226);
__d("MAWSendSecureAttachment",["FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","WABlobToArrayBuffer","WALoggerDeferred","asyncToGeneratorRuntime","gkx","promiseDone","qpl","requireDeferred","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment");function a(a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m,n,o,p,q,r,s,t){yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Starting attachment message send"],"LOG");if(b==null){d("sendToSentQPLLogger").markSendToSentFail(o,"no_chat_jid");return}var u=null;if(m!=null){d("sendToSentQPLLogger").markSendToSentPoint(o,"get_reply_message_start");m=d("MAWDbMsg").toMsgId(m.messageId);m!=null&&(u=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(m)));d("sendToSentQPLLogger").markSendToSentPoint(o,"get_reply_message_end")}d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_start");var v;switch(j.type){case"image":case"animated_image":case"sticker":var w;m=j.imageSpec;var x=j.thumbnailUrlAndSpec;v={args:{ephemeralSetting:(w=p)!=null?w:void 0,height:m.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:x==null?void 0:x.jpegThumbnail,jpegThumbnailHeight:x==null?void 0:x.height,jpegThumbnailWidth:x==null?void 0:x.width,mediaGroupMetadata:t,offlineAttachmentId:k,optimisticMsg:r,quote:(w=u)!=null?w:void 0,source:l,width:m.width},attachmentType:"image",chatJid:b,externalId:s};break;case"video":x=j.thumbnailUrlAndSpec;v={args:{duration:x.duration,ephemeralSetting:(t=p)!=null?t:void 0,height:x.height,initiatingSource:q,isFirstMsg:n,isForwarded:!1,jpegThumbnail:x.jpegThumbnail,jpegThumbnailHeight:x.height,jpegThumbnailWidth:x.width,offlineAttachmentId:k,optimisticMsg:r,quote:(w=u)!=null?w:void 0,source:l,width:x.width},attachmentType:"video",chatJid:b,externalId:s};break;case"audio":m=j.durations;t=j.isPtt;v={args:{duration:Math.round(m),ephemeralSetting:(w=p)!=null?w:void 0,initiatingSource:q,isFirstMsg:n,isForwarded:!1,isPtt:t,offlineAttachmentId:k,optimisticMsg:r,quote:(x=u)!=null?x:void 0,source:l},attachmentType:"audio",chatJid:b,externalId:s};break;case"document":m=j.filename;v={args:{ephemeralSetting:(w=p)!=null?w:void 0,filename:m,initiatingSource:q,isFirstMsg:n,isForwarded:!1,offlineAttachmentId:k,optimisticMsg:r,quote:(t=u)!=null?t:void 0,source:l},attachmentType:"application",chatJid:b,externalId:s};break;default:d("sendToSentQPLLogger").markSendToSentPoint(o,"unknown_file_type_sendMediaMsg_not_fired"),c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",j.type)}var y;v!=null&&(c("gkx")("7859")?(y=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers["extends"]({},v,{mimeType:j.file.type,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(j.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o})),d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_end"),c("promiseDone")(d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:b,externalId:s},y,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o},a))):(y=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsg",babelHelpers["extends"]({},v,{file:j.file,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o})),d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_end"),c("promiseDone")(d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:b,externalId:s},y,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o},a))));var z;switch(j.type){case"image":z=8;break;case"video":z=10;break;case"audio":z=11;break;case"document":z=34;break}yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","MAWSendSecureAttachment"],["Send attachment message is done"],"LOG");i.onReady(function(b){var c=(h||(h=d("I64"))).to_string(e);return b.log(a,{actor:g,attachmentFbids:[],attachmentType:z,backend:1,hasReply:!1,messagingThreadId:c,offlineThreadingId:k,sendType:0,source:l,threadKey:e,threadType:f})});yield y;return b});return j.apply(this,arguments)}g.sendSecureAttachment=a}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWSendSecureAttachment","Promise","asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.actorId,g=e.attachments,i=e.chatJid,j=e.ephemeralSetting,k=e.initiatingSource,l=e.isFirstMsg,m=e.mediaGroupMetadataMap,n=e.offlineAttachmentIdToMessageData,o=e.reply,p=e.s2sInstanceKey,q=e.source,r=e.thread;if(g.length===0){d("sendToSentQPLLogger").markSendToSentFail(p,"empty_attachments");return}d("sendToSentQPLLogger").markSendToSentPoint(p,"send_attachment_start",null,{"int":{attachment_count:g.length}});e=g.map(function(b){var c=b[0];b=b[1];var e=n==null?void 0:n.get(b);return d("MAWSendSecureAttachment").sendSecureAttachment(a,i,r.threadKey,r.threadType,f,c,b,q,o,l,p,j,k,e==null?void 0:{msgId:e==null?void 0:e.messageExternalId,ts:e==null?void 0:e.offlineMsgTimestamp},(c=e==null?void 0:e.messageExternalId)!=null?c:d("MAWExternalId").generateExternalId(),m==null?void 0:m.get(b))});yield (h||(h=b("Promise"))).all(e).then(function(){d("sendToSentQPLLogger").markSendToSentPoint(p,"send_attachment_end")})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentFail(p,"send_attachment_fail",a),a instanceof Error?c("FBLogger")("messenger_web_media").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message)})});return i.apply(this,arguments)}g.sendFileMsgIfNecessaryV2=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MWPActor.react","Promise","asyncToGeneratorRuntime","cr:9039","gkx","nullthrows","qex","react","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var l=e.createIdbOptimisticMessageWithAttachment,m=c("gkx")("8297");function a(){var a=k(6),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j=c("useLSMessagingInitiatingSourceNumber")(),n=c("useMWLSDefaultThreadSource")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var o;o=((o=c("qex")._("189"))!=null?o:!1)&&!m;a[0]=o}else o=a[0];var p=o;a[1]!==e||a[2]!==j||a[3]!==g||a[4]!==n?(o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,i,k,m,o,q,r,s,t,u){if(s==null)return(h||(h=b("Promise"))).resolve();var v=p?yield d("MAWGetEphemeralSettings").getEphemeralSetting(k.jid,i):void 0;return e.runInTransaction(function(b){return p?c("nullthrows")(l)(b,{attachmentType:s,ephemeralSettings:v,initiatingSource:j,instanceKey:q,mawThreadResult:k,mediaGroupMetadataMap:u,messageExternalId:t,offlineAttachmentId:m,onOfflineMsgId:r,optimisticMediaAttachment:o,reply:a,senderId:g,threadKey:i,threadSource:n(i)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,b,g,a,i,m,o,q,r,s,t,u)},"readwrite","ui",void 0,f.id+":83")});return function(b,c,d,e,f,g,h,i,j,k){return a.apply(this,arguments)}}(),a[1]=e,a[2]=j,a[3]=g,a[4]=n,a[5]=o):o=a[5];return o}g["default"]=a}),98);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["I64","LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","MWPActor.react","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl","react","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c;function a(){var a=k(2),e=d("MWPActor.react").useActor(),f;a[0]!==e?(f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:b});var f=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:b});var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(f.tables.participants,["contactId"]).getKeyRange(a).map(function(a){return(j||(j=d("I64"))).to_string(a.contactId)})));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:b});d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_start");return d("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_backend_setup_complete");return c("MAWMiActMaybeCreateActThread")(f,a,{actorId:e,participantIds:g},b,"maybe-create-thread-for-send")}).then(function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_end");return a})});return function(b,c){return a.apply(this,arguments)}}(),a[0]=e,a[1]=f):f=a[1];return f}g["default"]=a}),98);
__d("useMAWSendSecureGifAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","cr:7799","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:7799")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.externalAttachmentUrl,p=n.lssTraceApi,q=n.onGenerateOfflineMsgId,r=n.reply,s=n.s2sInstanceKey;n=n.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Starting GIF attachment message send"],"LOG");var t=new Map(),u;try{var v=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),w=d("MAWExternalId").generateExternalId(),x=e(n.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,s)])),z=y[0];y=y[1];u=y;y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(u.jid,n.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:s});p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");o=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(o,s));o=new File([o],"gifFromPicker",{type:o.type});p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");var A=(yield d("MAWImagePreProcess").optimisticImagePreprocess(o,!1));A=(yield k(r,n.threadKey,u,v,A,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),w));A!=null?(t.set(v,{messageExternalId:w,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),p==null?void 0:p.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_fail","AppTiming"));p==null?void 0:p.addMarkerPoint("preprocess_start","AppTiming");q=(yield d("MAWImagePreProcess").imagePreprocess(o,!1));p==null?void 0:p.addMarkerPoint("preprocess_end","AppTiming");w=[[q,v]];A={actorId:a,attachments:w,chatJid:u.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:u.created,offlineAttachmentIdToMessageData:t,reply:r,s2sInstanceKey:s,source:x,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";p=Array.from(t.values()).map(function(a){a=a.messageExternalId;return a});u&&(yield m(p,o,u.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureGifAttachmentMessage"],["Send GIF attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWGetImageSpec","MAWImagePreProcess","MAWMessageSendReporter","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","asyncToGeneratorRuntime","gkx","justknobx","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"']);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.chatJid,f=a.mentionedJids,g=a.message,i=a.offlineAttachmentId,j=a.optimisticMessageData,k=a.previewBlob,l=a.quote,m=a.s2sInstanceKey,n=a.source,o=a.threadKey;a=a.xmaData;d("sendToSentQPLLogger").markSendToSentPoint(m,"send_secure_link_preview_xma_message_start");o=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(e,o));var p=void 0;if(k!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(k.type)){k=new File([k],"preview",{type:k.type});if(c("gkx")("4423")){var q=(yield d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(k,c("justknobx")._("2033"))),r=new File([q.jpegThumbnail],"preview",{type:"image/jpeg"});p={file:r,height:q.height,width:q.width}}else{r=(yield d("MAWGetImageSpec").getImageSpec(k));p={file:k,height:r.height,width:r.width}}d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{sent_xma_preview_file_size_bucket:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(p.file.size)}})}d("sendToSentQPLLogger").addSendToSentAnnotations(m,{bool:{has_xma_preview:p!=null}});q={content:g,ephemeralSetting:o==null?void 0:o,mentionedJids:f?Array.from(f):void 0,offlineAttachmentId:i==null?void 0:i,optimisticMsg:j==null?void 0:{msgId:j==null?void 0:j.messageExternalId,ts:j==null?void 0:j.offlineMsgTimestamp},quote:l,source:n,xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE};r=(k=d("ConstUriUtils").getUri(a.url))==null?void 0:k.getDomain();g=d("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(q.xmaMessageType);d("sendToSentQPLLogger").addSendToSentAnnotations(m,{string:{xmaTargetType:g}});d("ConstUriUtils").isValidUri(a.url)||d("WALogger").ERROR(h());d("MAWParseXMAProtocol").isURLValid(a.url,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");f={defaultCTA:{actionUrl:a.url,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a.url},overlayIconGlyph:void 0,subtitleText:a.author_name,titleText:(o=a.title)!=null?o:r};d("sendToSentQPLLogger").markSendToSentPoint(m,"sending_message_to_wajob_start");l=(i=j==null?void 0:j.messageExternalId)!=null?i:d("MAWExternalId").generateExternalId();k=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:q,chatJid:e,previewFile:(n=p)!=null?n:void 0,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m,xmaArgs:f,xmaMsgExternalId:l});d("sendToSentQPLLogger").markSendToSentPoint(m,"sending_message_to_wajob_end");yield d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:e,externalId:l},k,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},b)});return i.apply(this,arguments)}g.sendExternalLinkXMAV2=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWAdminMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:12008","gkx","nullthrows","qex","qpl","react","useAsyncReStore","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c,m=b("cr:12008")||void 0,n=c("gkx")("8297");function a(){var a=l(6),e=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),i=c("useMWLSDefaultThreadSource")(),j=c("useLSMessagingInitiatingSourceNumber")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var k;k=((k=c("qex")._("60"))!=null?k:!1)&&!n;a[0]=k}else k=a[0];var p=k;a[1]!==e||a[2]!==g||a[3]!==j||a[4]!==i?(k=function(a,d,k,l,n,q,r,s,t,u,v,w,x){return(h||(h=b("Promise"))).resolve(e).then(function(b){return b.runInTransaction(function(e){return p?c("nullthrows")(m)(e,g,a,d,l,n,q,k,r,s,t,u,v,j,i(d),w,x):o(b,e,g,a,d,l,n,q,r,s,t,u,v,w)},"readwrite","ui",void 0,f.id+":94")})},a[1]=e,a[2]=g,a[3]=j,a[4]=i,a[5]=k):k=a[5];return k}function o(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,k,l,m,n,o,p,q,r){m(n);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var s=(i||(i=d("I64"))).of_float(m);f=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,(a=d("MAWVault").unvault(q))!=null?a:"",g,void 0,l,r,n,s,1024));yield b.messages.add(f);a=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),messageExternalId:n,offlineAttachmentId:h,optimisticMediaAttachment:k,senderId:e,subtitleText:p,threadKey:g,timestampMsI64:s,titleText:o});yield b.attachments.add(a);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});yield d("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:s,lastReadTs:s,snippet:d("MAWAdminMsg").buildLocalizedString([d("MAWVault").unvault(q)],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),snippetSenderContactId:e,threadKey:g,txn:b});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:n,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(h),offlineMsgTimestamp:m}});return p.apply(this,arguments)}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","Promise","QPLUserFlow","asyncToGeneratorRuntime","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.c;function a(){var a=k(3),e=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),j;a[0]!==e||a[1]!==g?(j=function(a,j,k,l,m,n,o,p){return(h||(h=b("Promise"))).resolve(e).then(function(e){return e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:m});var f=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),h=(i||(i=d("I64"))).of_float(f);o(p);var q=(yield d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(e,b,g,a,j,k,l,m,n,p,h,1));yield b.messages.add(q);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m});yield d("MAWOptimisticMessageUtils").optimisticBumpThread(b,{hotEmojiSize:l,mentionedJids:n,messageText:j,senderId:g,threadKey:k,ts:h});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m});return{messageExternalId:p,offlineMsgTimestamp:f}});return function(a){return f.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":58")})},a[0]=e,a[1]=g,a[2]=j):j=a[2];return j}g["default"]=a}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWExternalId","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWStateContext.react","MAWVault","Promise","WALoggerDeferred","asyncToGeneratorRuntime","cr:4535","cr:7799","emptyFunction","gkx","promiseDone","qex","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=c("gkx")("8297");function a(){var a=c("useMWLSDefaultThreadSource")(),e=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),f=c("useMAWSendMessageV2")(),g=c("useMAWCreateOptimisticSecureMessageV2")(),i=b("cr:7799")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=b("cr:4535")();return j(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j,n){var o=n.hotEmojiSize,p=n.lssTraceApi,q=n.mentionedJids,r=n.messageText,s=n.onGenerateOfflineMsgId,t=n.reply,u=n.s2sInstanceKey,v=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(u,"send_secure_message_start");n=((n=c("qex")._("189"))!=null?n:!1)&&!k;var w=d("MAWExternalId").generateExternalId(),x=null,y;try{p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");n=n?yield b("asyncToGeneratorRuntime").asyncToGenerator(function*(){y=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",u,function(){return e(v.threadKey,u)}));x=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(y.jid,v.threadKey));var a=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",u,function(){var a;return m(t,d("MAWVault").vault(r),v.threadKey,y,o,u,q,(a=s)!=null?a:c("emptyFunction"),w,x)}));return[y,a]})():yield (h||(h=b("Promise"))).all([d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",u,function(){return e(v.threadKey,u)}),d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",u,function(){var a;return g(t,d("MAWVault").vault(r),v.threadKey,o,u,q,(a=s)!=null?a:c("emptyFunction"),w)})]);var z=n[0];n=n[1];p==null?void 0:p.addMarkerPoint("create_optimistic_message_end","AppTiming");p=n.offlineMsgTimestamp;l(n.messageExternalId,Date.now());d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_ephemeral_settings_start");x=x===null?yield d("MAWGetEphemeralSettings").getEphemeralSetting(z.jid,v.threadKey):x;d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_ephemeral_settings_end");n=a(v.threadKey);var A=null;if(t!=null){d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_reply_message_start");var B=d("MAWDbMsg").toMsgId(t.messageId);B!=null&&(A=(yield d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(B)));d("sendToSentQPLLogger").markSendToSentPoint(u,"fetch_reply_message_end")}return yield f(j,v.threadKey,v.threadType,z.jid,r,n,void 0,w,p,o,z.created,void 0,void 0,A,x,q,u,w)}catch(a){B=a instanceof Error?a.message:"Fail to send secure text message";w!=null&&y!=null&&c("promiseDone")(i([w],B,y.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureTextMessage"],["Send text message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a,b){return j.apply(this,arguments)}}(),[g,m,l,a,i,e,f])}g["default"]=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","FBLogger","I64","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWIsLinkPreviewWaitForXmaEnabled","MAWIsLinkPreviewXMAEnabled","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWStateContext.react","MAWVault","MWPBumpEntityKey","Promise","ReQL","WAArmadilloXMA.pb","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","clearTimeout","cr:7799","emptyFunction","justknobx","promiseDone","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWSendSecureTextMessage","useMWLSDefaultThreadSource","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef;function a(){var a=c("useMWLSDefaultThreadSource")(),e=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),f=c("useMAWSendSecureTextMessage")(),g=d("MAWIsLinkPreviewXMAEnabled").isLinkPreviewXMAEnabled(),i=c("useMAWCreateOptimisticSecureMessageWithXMAAttachment")(),j=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),o=b("cr:7799")(),q=m(c("emptyFunction")),s=m(null),w=m(null);l(function(){return function(){if(!d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled())return;q.current();w.current=null;s.current!=null&&(c("clearTimeout")(s.current),s.current=null)}},[]);var x=function(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a.s2sInstanceKey,"wait_for_link_preview_xma_data_timeout");s.current=null;w.current=d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(a,b);return w.current},y=k(function(a,e,f,g){return new(h||(h=b("Promise")))(function(b){q.current=a.subscribe(function(a,h){if(h.operation==="delete")return;a=w.current;if(a!=null){q.current();w.current=null;return a.then(function(){return b()})}a=h.value;var i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);h=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);if(!h||i==null)return;c("clearTimeout")(s.current);var j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_xma_data_completed");c("promiseDone")(d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",e,function(){return t(j,i)}),function(a){u(e,a);return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},f,{previewBlob:a,xmaData:i}),g).then(function(){return b()})});q.current()})})},[]);return k(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){var k=h.currentDraftId,l=h.lssTraceApi,m=h.mentionedJids,q=h.messageText,w=h.onGenerateOfflineMsgId,z=h.reply,A=h.s2sInstanceKey,B=h.thread,C=h.threadKey;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Starting Link Preview XMA attachment message send"],"LOG");h=d("MAWFindFirstUrl").findFirstUrl(q);h=h.length>0?h[0]:null;void n(b,k);var D=d("MAWExternalId").generateExternalId(),E;try{d("sendToSentQPLLogger").markSendToSentPoint(A,"get_link_preview_data_start");var F=g?yield p(b,k,A,l):yield r(q,A,l),G=F==null?void 0:F.xmaData,H=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(F==null?void 0:F.dataType,c("E2EELinkPreviewXMADataType").OEMBED),I=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").DISABLED);d("sendToSentQPLLogger").addSendToSentAnnotations(A,{bool:{has_xma_data:G!=null,is_link_preview_enabled:g,is_link_preview_oembed_data:H,is_wait_for_xma_data_enabled:d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled()}});l==null?void 0:l.addAnnotationBoolean("has_xma_data",G!=null);l==null?void 0:l.addAnnotationBoolean("is_link_preview_enabled",g);l==null?void 0:l.addAnnotationBoolean("is_link_preview_oembed_data",H);if(k==null||h==null||I&&d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled()||G==null&&!d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled())return f(b,{mentionedJids:m,messageText:q,onGenerateOfflineMsgId:w,reply:z,s2sInstanceKey:A,thread:B});I={title:(I=d("ConstUriUtils").getUri(h.entity.url))==null?void 0:I.getDomain(),url:h.entity.url};h=(h=G)!=null?h:I;d("sendToSentQPLLogger").markSendToSentPoint(A,"get_link_preview_data_end");I=(yield v(z));var J=d("MAWExternalId").generateExternalId();w==null?void 0:w(J);var K=a(C);E=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",A,function(){return e(C,A)}));l==null?void 0:l.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var L=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",A,function(){return t(H,G)}));u(A,L);l==null?void 0:l.addMarkerPoint("fetch_link_preview_blob_end","AppTiming");l==null?void 0:l.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_start");var M=null;if(L!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(L.type)){var N=new File([L],"preview",{type:L.type});M=(yield d("MAWImagePreProcess").optimisticImagePreprocess(N))}z=(yield i(z,B.threadKey,E,J,M,A,(N=w)!=null?N:c("emptyFunction"),D,h==null?void 0:h.title,h==null?void 0:h.author_name,d("MAWVault").vault(q),m,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE));B=z!=null?{messageExternalId:D,offlineMsgTimestamp:z.offlineMsgTimestamp}:void 0;B!=null?(j(B.messageExternalId,B.offlineMsgTimestamp),l==null?void 0:l.addMarkerPoint("create_optimistic_message_success","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_end")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),l==null?void 0:l.addMarkerPoint("create_optimistic_message_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_fail"));M=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").LOADED);var O={chatJid:E.jid,mentionedJids:m,message:q,offlineAttachmentId:J,optimisticMessageData:B,quote:(w=I)!=null?w:void 0,s2sInstanceKey:A,source:K,threadKey:C};d("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",G==null?"xma_data_is_null":"xma_data_is_not_null");if(G!=null&&!M&&g&&d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled()){d("sendToSentQPLLogger").markSendToSentPoint(A,"wait_for_link_preview_data");N=d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabledShortTimeout()?c("justknobx")._("3137"):c("justknobx")._("3138");s.current=c("setTimeout")(function(){return x(babelHelpers["extends"]({},O,{previewBlob:L,xmaData:G}),b)},N);z=d("ReQL").fromTableAscending(b.tables.e2ee_composer_draft_link_preview).getKeyRange(k);return y(z,A,O,b)}return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers["extends"]({},O,{previewBlob:L,xmaData:h}),b)}catch(a){l=a instanceof Error?a.message:"Fail to send secure attachment message";E!=null&&(yield o([D],l,E.jid,!1));c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Failed to send external link XMA ");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureLinkXMAMessage"],["Send Link Preview XMA attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a,b){return h.apply(this,arguments)}}(),[i,j,a,g,o,e,f,y])}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(e==null)return;yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.e2ee_composer_draft_link_preview.get(e));yield a.e2ee_composer_draft_link_preview.upsert([e],babelHelpers["extends"]({},b,{draftId:e,sendStatus:(i||(i=d("I64"))).of_int32(c("E2EELinkPreviewXMASendStatus").SENDING)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":511")});return o.apply(this,arguments)}function p(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,g){if(b==null){d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_no_draft_id");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming");return null}d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table","AppTiming");a=(yield a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.get(b)},"readonly",void 0,void 0,f.id+":550"));if(d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADING)){d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_still_loading");g==null?void 0:g.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming");if(!d("MAWIsLinkPreviewWaitForXmaEnabled").isLinkPreviewWaitForXmaEnabled())return null}return{dataStatus:a==null?void 0:a.status,dataType:a==null?void 0:a.dataType,xmaData:d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a)}});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=d("MAWFindFirstUrl").findFirstUrl(a);if(a.length===0)return null;var f=a[0];a=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(a);f=f.entity.url;var g=null;if(a!=null){f=a.oEmbedUrl;try{d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_link_preview_xma_start"),e==null?void 0:e.addMarkerPoint("fetch_link_preview_xma_data_start","AppTiming"),g=(yield d("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:f,request:a.oEmbedRequest})),d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_link_preview_xma_success"),e==null?void 0:e.addMarkerPoint("fetch_link_preview_xma_data_success","AppTiming")}catch(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_link_preview_xma_fail"),d("sendToSentQPLLogger").addSendToSentAnnotations(b,{string:{fetch_link_preview_xma_data_error:a.message}}),e==null?void 0:e.addMarkerPoint("fetch_link_preview_xma_data_fail","AppTiming"),e==null?void 0:e.addAnnotation("fetch_link_preview_xma_data_error",a.message),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Failed to send External Link XMA.")}}return{dataStatus:(i||(i=d("I64"))).of_int32(c("E2EELinkPreviewXMADataStatus").LOADED),dataType:i.of_int32(g!=null?c("E2EELinkPreviewXMADataType").OEMBED:c("E2EELinkPreviewXMADataType").FALLBACK),xmaData:babelHelpers["extends"]({},g,{url:(b=(a=g)==null?void 0:a.url)!=null?b:f})}});return s.apply(this,arguments)}var t=function(a,b){return a?d("MAWExternalLinkUtil").getImageBlobResponse({xmaData:b}):d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:b==null?void 0:b.thumbnail_url,xmaContentType:void 0})},u=function(a,b){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{has_fetched_xma_preview:b!=null},string:{fetched_xma_preview_file_size_bucket:b!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.size):void 0}})},v=function(a){if(a!=null){a=d("MAWDbMsg").toMsgId(a.messageId);if(a!=null)return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a)}return null};g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWGetEphemeralSettings","MWPActor.react","Promise","asyncToGeneratorRuntime","cr:9039","gkx","qex","react","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;e=b("cr:9039")||{createIdbOptimisticMessageWithAttachment:void 0};var l=e.createIdbOptimisticMessageWithAttachment,m=c("gkx")("8297");function a(){var a=k(6),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j=c("useLSMessagingInitiatingSourceNumber")(),n=c("useMWLSDefaultThreadSource")();if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var o;o=((o=c("qex")._("189"))!=null?o:!1)&&!m;a[0]=o}else o=a[0];var p=o;a[1]!==e||a[2]!==j||a[3]!==g||a[4]!==n?(o=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,i,k,m,o,q){var r=p?yield d("MAWGetEphemeralSettings").getEphemeralSetting(i.jid,c):void 0;return e.runInTransaction(function(f){return(h||(h=b("Promise"))).all(q.map(function(q){var s=q.attachmentType,t=q.messageExternalId,u=q.offlineAttachmentId;q=q.optimisticMediaAttachment;if(s==null)return(h||(h=b("Promise"))).resolve();return p?l==null?void 0:l(f,{attachmentType:s,ephemeralSettings:r,initiatingSource:j,instanceKey:k,mawThreadResult:i,mediaGroupMetadataMap:o,messageExternalId:t,offlineAttachmentId:u,onOfflineMsgId:m,optimisticMediaAttachment:q,reply:a,senderId:g,threadKey:c,threadSource:n(c)}):d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,f,g,a,c,u,q,k,m,s,t,o)}))},"readwrite","ui",void 0,f.id+":78")});return function(b,c,d,e,f,g,h){return a.apply(this,arguments)}}(),a[1]=e,a[2]=j,a[3]=g,a[4]=n,a[5]=o):o=a[5];return o}g["default"]=a}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})}g["default"]=a}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["fbt","FBLogger","Int64Hooks","LSDatabaseSingleton","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MAWVideoAudioPlaybackErrorHandlerUtils","MWPActor.react","Promise","QPLUserFlow","WAHashUtils","WALoggerDeferred","WAMediaQplHelper","asyncToGeneratorRuntime","cr:7799","err","gkx","qpl","react","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMAWCreateOptimisticSecureMessagesWithAttachments","useMWLSDefaultThreadSource","useMWMediaManagerUploadFailedToast","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||d("react")).useContext;function a(){var a=l(d("MAWStateContext.react").MAWDispatchContext),e=d("MWPActor.react").useActor(),f=c("useMWLSDefaultThreadSource")(),g=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),k=c("useLSMessagingInitiatingSourceNumber")(),m=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),n=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),o=b("cr:7799")(),p=c("useMAWCreateOptimisticSecureMessagesWithAttachments")(),q=c("useMWMediaManagerUploadFailedToast")();return d("Int64Hooks").useCallbackInt64(function(){var l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(l){var r=l.lssTraceApi,s=l.mediaStagings,t=l.messageTypeParams,u=l.onGenerateOfflineMsgId,v=l.reply,w=l.s2sInstanceKey,x=l.thread;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Starting staged media attachment message send"],"LOG");var y=new Map(),z;try{var A=null;c("gkx")("5318")===!0?(l=d("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(s),A=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(l)):l=s;var B=new Map();z=(yield g(x.threadKey,w));r==null?void 0:r.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"create_optimistic_message_start");if(c("gkx")("5318")===!0){var C=l.map(function(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);b=b==null?void 0:b.optimisticMedia;if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage");return null}var e=d("MAWExternalId").generateExternalId();e={attachmentType:a.attachmentType,messageExternalId:e,offlineAttachmentId:a.offlineAttachmentId,optimisticMediaAttachment:b};return e}).filter(Boolean);C=(yield p(v,x.threadKey,z,w,u,A,C));C.forEach(function(a){if(a==null||a.offlineAttachmentId==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message");return null}y.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{messageExternalId:a.messageExternalId,offlineMsgTimestamp:a.offlineMsgTimestamp});n(a.messageExternalId,a.offlineMsgTimestamp)})}else yield (i||(i=b("Promise"))).all(l.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);b=b==null?void 0:b.optimisticMedia;if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage");return null}var e=d("MAWExternalId").generateExternalId();b=(yield m(v,x.threadKey,z,a.offlineAttachmentId,b,w,u,a.attachmentType,e,A));if(b==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message");return null}y.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{messageExternalId:e,offlineMsgTimestamp:b.offlineMsgTimestamp});n(b.messageExternalId,b.offlineMsgTimestamp)});return function(b){return a.apply(this,arguments)}}()));r==null?void 0:r.addMarkerPoint("create_optimistic_message_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"create_optimistic_message_end");r==null?void 0:r.addMarkerPoint("get_preprocess_media_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_start");yield (i||(i=b("Promise"))).all(l.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(b.offlineAttachmentId);if(e==null){c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}yield e.processedMediaPromise.then(function(a){B.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId),a)})["catch"](function(e){(e==="invalid-mp4"||e==="invalid-media")&&d("MAWVideoAudioPlaybackErrorHandlerUtils").isPlaybackErrorFallbackEnabled()&&(a({tag:"SetMediaValidatedResult",value:{key:d("WAHashUtils").stringToPlaintextHash(b.offlineAttachmentId),validatedResult:{audioAvgBitsPerSecond:null,audioNumberOfChannels:null,audioSamplingRate:null,audioStreamType:null,mimeType:"invalid-mp4",videoAvgBitsPerSecond:null,videoCalculatedFps:null,videoDuration:null,videoHeight:null,videoNominalFps:null,videoStreamType:null,videoWidth:null}}}),r==null?void 0:r.addMarkerPoint("invalid_media_send_fail","AppTiming"),r==null?void 0:r.addAnnotationBoolean("is_invalid_media",!0),r==null?void 0:r.cancelTrace("invalid_media_send_fail",!0),d("sendToSentQPLLogger").markSendToSentPoint(w,"invalid_media_send_fail"),d("sendToSentQPLLogger").addSendToSentAnnotations(w,{bool:{is_invalid_media:!0}}),d("sendToSentQPLLogger").markSendToSentCancel(w,{bool:{is_invalid_media:!0}}),q(h._("__JHASH__9pTPm1txftc__JHASH__")));e=e instanceof Error?e:c("err")(typeof e==="string"?e:"Fail to preprocess media: "+JSON.stringify(e));throw e})["finally"](function(){var a=e.optimisticMedia;a!=null&&c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.file.size),optimistic_media_file_type:a.file.type,optimistic_media_type:a.type}},{instanceKey:w})})});return function(a){return e.apply(this,arguments)}}()))["catch"](function(a){r==null?void 0:r.addMarkerPoint("get_preprocess_media_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_fail")});r==null?void 0:r.addMarkerPoint("get_preprocess_media_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(w,"get_preprocess_media_end");C=d("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(l,t,u,B);l=C.attachments;t=f(x.threadKey);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:w});C=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:w});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:w});d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_start");var D=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(z.jid,x.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(w,"fetch_ephemeral_settings_end");l={actorId:e,attachments:l,chatJid:z.jid,db:C,ephemeralSetting:D,initiatingSource:k,isFirstMsg:z.created,mediaGroupMetadataMap:A,offlineAttachmentIdToMessageData:y,reply:v,s2sInstanceKey:w,source:t,thread:x};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(C,l)}catch(a){D=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to send secure attachment message: "+JSON.stringify(a));t=Array.from(y.values()).map(function(a){a=a.messageExternalId;return a});z&&(yield o(t,D.message,z.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStagedMediaAttachmentMessage"],["Send staged media attachment message failed:"+JSON.stringify(D)],"ERROR");throw D}finally{s.map(function(a){return d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2["delete"](a.offlineAttachmentId)})}});return function(a){return l.apply(this,arguments)}}(),[e,m,p,a,n,f,k,o,g,q])}g["default"]=a}),226);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","asyncToGeneratorRuntime","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");e.useCallback;var i=e.c;function a(){var a=i(2),d=c("useAsyncReStore")(),e;a[0]!==d?(e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h){g=(yield d);return g.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){for(var d of a)yield c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:e,isRetryable:h,optimisticMid:d})});return function(a){return d.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":36")});return function(b,c,d,e){return a.apply(this,arguments)}}(),a[0]=d,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","WALoggerDeferred","asyncToGeneratorRuntime","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.externalAttachmentUrl,p=n.lssTraceApi,q=n.onGenerateOfflineMsgId,r=n.reply,s=n.s2sInstanceKey;n=n.thread;d("sendToSentQPLLogger").markSendToSentPoint(s,"send_secure_message_start");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Starting sticker attachment message send"],"LOG");var t=new Map(),u;try{var v=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),w=d("MAWExternalId").generateExternalId(),x=e(n.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(n.threadKey,s)])),z=y[0];y=y[1];u=y;d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_start");y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(u.jid,n.threadKey));d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_external_attachment_blob_start");p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");o=(yield d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(o,s));var A=new File([o],"stickerFromPicker",{type:o.type});d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_external_attachment_blob_end");p==null?void 0:p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");p==null?void 0:p.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"optimist_image_preprocess_start");A=(yield d("MAWImagePreProcess").optimisticImagePreprocess(A,!0));d("sendToSentQPLLogger").markSendToSentPoint(s,"optimist_image_preprocess_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_start");A=(yield k(r,n.threadKey,u,v,A,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),w));A!=null?(t.set(v,{messageExternalId:w,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_end"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_end","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_fail"),p==null?void 0:p.addMarkerPoint("create_optimistic_message_fail","AppTiming"));d("sendToSentQPLLogger").markSendToSentPoint(s,"image_preprocess_start");p==null?void 0:p.addMarkerPoint("image_preprocess_start","AppTiming");q=(yield d("MAWImagePreProcess").imagePreprocess(new File([o],"stickerFromPicker",{type:o.type}),!0));d("sendToSentQPLLogger").markSendToSentPoint(s,"image_preprocess_end");p==null?void 0:p.addMarkerPoint("image_preprocess_end","AppTiming");w=[[q,v]];A={actorId:a,attachments:w,chatJid:u.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:u.created,offlineAttachmentIdToMessageData:t,reply:r,s2sInstanceKey:s,source:x,thread:n};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";p=Array.from(t.values()).map(function(a){a=a.messageExternalId;return a});u&&(yield m(p,o,u.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureStickerAttachmentMessage"],["Send sticker attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWPActor.react","MessagingAttachmentType","Promise","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","qpl","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMWLSDefaultThreadSource","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),g=c("useLSMessagingInitiatingSourceNumber")(),k=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),m=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(function(){var n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var o=n.lssTraceApi,p=n.onGenerateOfflineMsgId,q=n.reply,r=n.s2sInstanceKey,s=n.thread;n=n.voiceClip;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Starting voice clip attachment message send"],"LOG");var t=new Map(),u;try{var v=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),w=d("MAWExternalId").generateExternalId(),x=e(s.threadKey),y=(yield (j||(j=b("Promise"))).all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(s.threadKey,r)])),z=y[0];y=y[1];u=y;y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(u.jid,s.threadKey));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:r});var A=(yield d("MAWAudioPreProcess").optimisticAudioPreprocess(n.file));o==null?void 0:o.addMarkerPoint("create_optimistic_message_start","AppTiming");A=(yield k(q,s.threadKey,u,v,A,r,p,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),w));A!=null?(t.set(v,{messageExternalId:w,offlineMsgTimestamp:A.offlineMsgTimestamp}),l(A.messageExternalId,A.offlineMsgTimestamp),o==null?void 0:o.addMarkerPoint("create_optimistic_message_success","AppTiming")):(c("FBLogger")("messenger_web_media").mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),o==null?void 0:o.addMarkerPoint("create_optimistic_message_fail","AppTiming"));p={durations:n.duration||0,file:n.file,isPtt:!0,type:"audio"};w=[[p,v]];A={actorId:a,attachments:w,chatJid:u.jid,db:z,ephemeralSetting:y,initiatingSource:g,isFirstMsg:u.created,offlineAttachmentIdToMessageData:t,reply:q,s2sInstanceKey:r,source:x,thread:s};return yield d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(z,A)}catch(a){o=a instanceof Error?a.message:"Fail to send secure attachment message";n=Array.from(t.values()).map(function(a){a=a.messageExternalId;return a});u&&(yield m(n,o,u.jid,!1));yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureVoiceClipAttachmentMessage"],["Send voice clip attachment message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return n.apply(this,arguments)}}(),[a,k,l,e,g,m,f])}g["default"]=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.c;function a(){var a=k(2),e=(i||(i=c("useReStore")))(),g;a[0]!==e?(g=function(a){return!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?(h||(h=b("Promise"))).resolve():e.runInTransaction(function(b){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(b,a.threadKey)},"readwrite",void 0,void 0,f.id+":37")},a[0]=e,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionTypeUtil","MAWOptimisticUpdateContactRelationship","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWPreloadableQueries","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","Promise","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","err","react","react-forget-runtime","sendToSentQPLLogger","useAsyncReStore","useLSMessagingSource","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSUnarchiveThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=i||d("react");e.useContext;var l=e.c;function a(a,e){var f=l(16),g=d("MWPActor.react").useActor(),i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,m),n=i.clearReply,o=c("useAsyncReStore")(),p=c("useLSMessagingSource")(),q=c("useMAWSendSecureTextMessage")(),r=c("useMAWSendSecureLinkXMAMessage")(),s=c("useMAWDeleteLinkPreviewXMATableData")(e),t=c("useMAWSendSecureGifAttachmentMessage")(),u=c("useMAWSendSecureStagedMediaAttachmentMessage")(),v=c("useMAWSendSecureStickerAttachmentMessage")(),w=c("useMAWSendSecureVoiceClipAttachmentMessage")(),x=c("useMWLSUnarchiveThread")(),y=c("useMAWUpdateThreadCapabilities")();f[0]!==o||f[1]!==p||f[2]!==r||f[3]!==s||f[4]!==q||f[5]!==v||f[6]!==t||f[7]!==w||f[8]!==u||f[9]!==a||f[10]!==n||f[11]!==g||f[12]!==y||f[13]!==x?(i=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f,i=e.composerEntrypointForLogging,l=e.currentDraftId,m=e.externalAttachmentUrl,z=e.hotEmojiSize,A=e.lssTraceApi,B=e.mentionedJids,C=e.messageText,D=e.reply,E=e.s2sInstanceKey,F=e.stickerId,G=e.thread;e=e.voiceClip;yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Starting message send"],"LOG");(f=d("sendToSentQPLLogger")).markSendToSentPoint(E,"send_secure_message_start");A.addMarkerPoint("send_secure_message_started","AppTiming");var H=(yield o);f.markSendToSentPoint(E,"db_ready");var I=d("LSMessagingThreadTypeUtil").isMessageRequest(G);f=(j||(j=d("I64"))).equal(G.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(-10));var J=(yield d("sendToSentQPLLogger").measureSendToSentPerformance("get_media_staging_query",E,function(){return d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(H,G.threadKey))})),K=d("MWSharedMsgLogUtils").getMessageTypeParams({externalAttachmentUrl:m,hotEmojiSize:z,mediaStagings:J,messageText:C,reply:D,stickerId:F,threadType:G.threadType,voiceClip:e}),L=d("LSThreadAttributionTypeUtil").getSource(G.threadKey,p);d("sendToSentQPLLogger").addSendToSentAnnotations(E,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(G,K,k.unwrapIntEnum(L),i));d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(A,K,G,i);i=function(a){d("MWLSLogSend").logSentHeroInteraction(A,a,{isMessageRequest:I,mwVersion:d("MWVersion").v2,source:(k||(k=d("LSIntEnum"))).unwrapIntEnum(L),threadType:G.threadType}),d("sendToSentQPLLogger").markSendToSentPoint(E,"offline_msg_id_generated")};var M=[],N=K.hasAttachment,O=K.hasLinks;C!=null&&C!==""&&(O?(M.push(r(H,{currentDraftId:l,lssTraceApi:A,mentionedJids:B,messageText:C,onGenerateOfflineMsgId:N?void 0:i,reply:D,s2sInstanceKey:E,thread:G,threadKey:G.threadKey}).then(function(){l!=null&&s({draftId:l})})),d("sendToSentQPLLogger").markSendToSentPoint(E,"link_xma_message_promise_pushed_to_send_promises")):(M.push(q(H,{hotEmojiSize:z,lssTraceApi:A,mentionedJids:B,messageText:C,onGenerateOfflineMsgId:N?void 0:i,reply:D,s2sInstanceKey:E,thread:G})),d("sendToSentQPLLogger").markSendToSentPoint(E,"text_message_promise_pushed_to_send_promises")));z=!0;N&&(F!=null&&m!=null?(M.push(v({externalAttachmentUrl:m,lssTraceApi:A,onGenerateOfflineMsgId:i,reply:D,s2sInstanceKey:E,thread:G})),d("sendToSentQPLLogger").markSendToSentPoint(E,"sticker_message_promise_pushed_to_send_promises"),z=!1):m!=null?(M.push(t({externalAttachmentUrl:m,lssTraceApi:A,onGenerateOfflineMsgId:i,reply:D,s2sInstanceKey:E,thread:G})),z=!1):e!=null?(M.push(w({lssTraceApi:A,onGenerateOfflineMsgId:i,reply:D,s2sInstanceKey:E,thread:G,voiceClip:e})),d("sendToSentQPLLogger").markSendToSentPoint(E,"voice_clip_message_promise_pushed_to_send_promises"),z=!1):J.length>0?(M.push(u({lssTraceApi:A,mediaStagings:J,messageTypeParams:K,onGenerateOfflineMsgId:i,reply:D,s2sInstanceKey:E,thread:G})),d("sendToSentQPLLogger").markSendToSentPoint(E,"staged_media_message_promise_pushed_to_send_promises")):(d("sendToSentQPLLogger").markSendToSentPoint(E,"no_send_promises_pushed_to_send_promises"),c("FBLogger")("messenger_web_media").mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params")));z&&a();n(G.threadKey,!1);d("sendToSentQPLLogger").markSendToSentPoint(E,"attachment_and_reply_data_cleared");M.length===0?(d("sendToSentQPLLogger").markSendToSentPoint(E,"create_send_promises_fail"),M.push(new(h||(h=b("Promise")))(function(a,b){b(c("err")("No send actions taken because hasAttachment="+N.toString()))}))):d("sendToSentQPLLogger").markSendToSentPoint(E,"create_send_promises_end",void 0,{"int":{send_promise_count:M.length}});d("sendToSentQPLLogger").markSendToSentPoint(E,"resolve_send_promises_start");(M.length>1||J.length>1)&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+M.length+".media:"+J.length);yield (h||(h=b("Promise"))).all(M)["catch"](function(a){d("sendToSentQPLLogger").markSendToSentFail(E,"message_send_fail",a);if(a instanceof Error){var b;c("FBLogger")("messenger_web_messaging").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+N.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",M.length,(b=a.message)!=null?b:String(a))}else c("FBLogger")("messenger_web_messaging").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+N.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl, %s",a.message);throw a});d("sendToSentQPLLogger").markSendToSentPoint(E,"resolve_send_promises_end");C!=null&&C!==""&&O&&d("sendToSentQPLLogger").markSendToSentSuccess(E);yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Send message is done"],"LOG");d("MAWOptimisticUpdateContactRelationship").call(G,H,g);yield y(G);I&&d("MessageRequestsLog").logActionConfirmed(G,1);f&&x(G.threadKey)});return function(a){return e.apply(this,arguments)}}(),e=[o,p,n,g,y,r,s,q,v,t,w,u,a,x],f[0]=o,f[1]=p,f[2]=r,f[3]=s,f[4]=q,f[5]=v,f[6]=t,f[7]=w,f[8]=u,f[9]=a,f[10]=n,f[11]=g,f[12]=y,f[13]=x,f[14]=i,f[15]=e):(i=f[14],e=f[15]);return d("Int64Hooks").useCallbackInt64(i,e)}function m(a){return[a.clearReply]}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2",["I64","MAWJids","MAWMediaGalleryM2Utils","MWPReplyContext.react","MWV2ComposerActionsContext.react","WALoggerDeferred","getMWIsDefaultHotlikeStickerId","justknobx","promiseDone","qpl","react","react-forget-runtime","sendToSentQPLLogger","unrecoverableViolation","useCometInteractionTracing","useIsSecureMessageData","useMAWSendSecureMessageV2Impl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useContext;var j=b.c;function a(a,b,e){var f=j(15),g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,l),h=g.reply;g=h==null?void 0:h.messageId;var m=h==null?void 0:h.threadKey,n=h==null?void 0:h.timestampMs,o;f[0]!==g||f[1]!==m||f[2]!==n?(o={messageId:g,messageThreadKey:m,messageTimestamp:n},f[0]=g,f[1]=m,f[2]=n,f[3]=o):o=f[3];f[4]!==a.threadType?(g={fallbackThreadType:a.threadType},f[4]=a.threadType,f[5]=g):g=f[5];var p=c("useIsSecureMessageData")(o,g);m=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext,k);var q=m.onMessageSendAttempt,r=c("useMAWSendSecureMessageV2Impl")(e,a.threadType);f[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=c("qpl")._(30605384,"573"),f[6]=n):n=f[6];var s=c("useCometInteractionTracing")(n,"fast","INTERACTION",void 0);f[7]!==q||f[8]!==s||f[9]!==r||f[10]!==p||f[11]!==h||f[12]!==a||f[13]!==b?(o=function(e,f,g,j,k,l,m,n,o,t,u,v,w,x,y,z){c("promiseDone")(d("WALoggerDeferred").logWithTags(["Composer"],["Calling useMAWSendSecureMessageV2"],"LOG"));var A=f==null?void 0:f.map(function(a){return d("MAWJids").toUserJid(a.id)}),B;B=e;g!=null&&c("getMWIsDefaultHotlikeStickerId")((i||(i=d("I64"))).to_string(g))&&(B="\ud83d\udc4d");var C=d("sendToSentQPLLogger").markSendToSentStart();q==null?void 0:q(!0);d("sendToSentQPLLogger").addSendToSentAnnotations(C,{bool:{is_media_gallery_restore_enabled:d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled({isSilent:!0})}});s(function(e){c("promiseDone")(r({composerEntrypointForLogging:z,currentDraftId:y,externalAttachmentUrl:l,hotEmojiSize:j,lssTraceApi:e,mentionedJids:A,messageText:B,reply:p?h:void 0,s2sInstanceKey:C,stickerId:g,thread:a,voiceClip:n}),function(){b(),c("justknobx")._("2486")&&(t&&t())},function(a){d("sendToSentQPLLogger").markSendToSentFail(C,"message_send_fail",a);e.failTrace(a,!0);throw c("unrecoverableViolation")("Encountered failure during Armadillo Message Send (UI)","messenger_web_messaging",{error:a})})})},f[7]=q,f[8]=s,f[9]=r,f[10]=p,f[11]=h,f[12]=a,f[13]=b,f[14]=o):o=f[14];return o}function k(a){return[a.onMessageSendAttempt]}function l(a){return[a.reply]}g["default"]=a}),98);
__d("useMWMediaManager",["LSGetAttachmentType","LSIntEnum","MWMediaManager","MessagingAttachmentType","gkx","justknobx","qex","react","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c,k=25;function a(a){var b=j(5),e=a.onUploadFailure;a=a.thread;var f=c("useMWMediaManagerUploadFailedToast")(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("gkx")("5318")===!0?c("justknobx")._("2538"):void 0,b[0]=g):g=b[0];g=g;b[1]!==e||b[2]!==f||b[3]!==a?(g={getMaxAttachmentSizeInMB:l,maxNumberOfAttachments:g,onUploadFailure:e,showUploadFailureToast:f,thread:a},b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return d("MWMediaManager").useMediaManager(g)}function l(a,b){a=d("LSGetAttachmentType").LSGetAttachmentTypeSyncButLessAccurate(a);if((i||(i=d("LSIntEnum"))).toNumber(a)===c("MessagingAttachmentType").FILE){return(a=m(b))!=null?a:k}return k}function m(a){if(a)return c("qex")._("245");else return c("qex")._("413")}g["default"]=a}),98);
__d("MAWSecureComposer.react",["fbt","MAWSecureComposerText","MAWSecureThreadNonAddressableContactBanner.react","MAWSecureTypingState","MAWSupportedFileTypes","MWBlockedComposerLogging","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","WebUXLoggingSurfaceContextProvider","cr:10444","cr:563","emptyFunction","gkx","react","react-forget-runtime","requireDeferred","useCometAlertDialog","useMAWEditMessageData","useMAWSendSecureMessageV2","useMWMediaManager","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;e.useContext;var k=e.useState,l=e.c,m=c("requireDeferred")("MWChatAudioLog").__setRef("MAWSecureComposer.react"),n=c("gkx")("23429");function o(){m.onReady(function(a){return a.logClickStartRecording()})}function p(){m.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var e=l(42),f=a.afterSendMessage,g=a.isPreviewThread;a=a.thread;f=f===void 0?c("emptyFunction"):f;var i=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,q);i=i.reply;var m=c("useMAWEditMessageData")(),r=c("useCometAlertDialog")(),s;e[0]!==r?(s=function(){return r({body:h._("__JHASH__cHTRYg3bfeC__JHASH__"),title:h._("__JHASH__shIDOoHHO5L__JHASH__")})},e[0]=r,e[1]=s):s=e[1];s=s;var t;e[2]!==s||e[3]!==a?(t={onUploadFailure:s,thread:a},e[2]=s,e[3]=a,e[4]=t):t=e[4];s=c("useMWMediaManager")(t);t=s.handleFileRemove;var u=s.handleFileSelect,v=s.mediaStaging;s=s.resetAttachments;f=c("useMAWSendSecureMessageV2")(a,f,s);s=d("MAWSecureTypingState").useOnTypingStateChanged(a.authorityLevel,a.threadKey,a.threadType);c("useMWV2FileDropzoneRegisterHandler")(u);var w=k(!1),x=w[0];w=w[1];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,x?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:d("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);var y;e[5]!==g||e[6]!==v||e[7]!==f||e[8]!==s||e[9]!==a.threadKey||e[10]!==a.threadType?(y={composerEntrypointForLogging:"MAWSecureComposer.lexical",getTextFromEditorState:d("MAWSecureComposerText").getTextFromEditorState,isPreviewThread:g,mediaStaging:v,onSendMessage:f,onTypingStateChanged:s,threadKey:a.threadKey,threadType:a.threadType},e[5]=g,e[6]=v,e[7]=f,e[8]=s,e[9]=a.threadKey,e[10]=a.threadType,e[11]=y):y=e[11];g=c("useMWPComposerEditor")(y);s=g.editor;y=g.editorElementRef;var z=g.hasStuffToSend;g=g.sendMessage;var A=b("cr:563").useVoiceRecorder(void 0,o,p),B;e[12]!==i||e[13]!==a?(B=i!=null?j.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:i.messageId,messageThreadKey:i.threadKey,messageTimestamp:i.timestampMs,thread:a}):null,e[12]=i,e[13]=a,e[14]=B):B=e[14];var C;e[15]!==i||e[16]!==a.threadKey||e[17]!==a.threadType?(C=b("cr:10444")&&j.jsx(b("cr:10444"),{isReplying:i!=null,threadKey:a.threadKey,threadType:a.threadType}),e[15]=i,e[16]=a.threadKey,e[17]=a.threadType,e[18]=C):C=e[18];e[19]!==a?(i=j.jsx(c("MAWSecureThreadNonAddressableContactBanner.react"),{setHideComposerEditor:w,thread:a}),e[19]=a,e[20]=i):i=e[20];e[21]!==m?(w=m!=null&&j.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:m}),e[21]=m,e[22]=w):w=e[22];var D;e[23]!==x||e[24]!==m||e[25]!==s||e[26]!==y||e[27]!==z||e[28]!==v||e[29]!==t||e[30]!==u||e[31]!==f||e[32]!==g||e[33]!==a||e[34]!==A?(D=x||m!=null?null:j.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:s,editorElementRef:y,hasStuffToSend:z,isMentionsPluginEnabled:n,mediaStaging:v,onAttachmentRemoved:t,onAttachmentsAdded:u,onSendMessage:f,policyProduct:"messaging_lightswitch",sendMessage:g,supportedFileTypes:d("MAWSupportedFileTypes").supportedFileTypes,surface:"mwp_maw_secure_composer",thread:a,voiceRecorder:A}),e[23]=x,e[24]=m,e[25]=s,e[26]=y,e[27]=z,e[28]=v,e[29]=t,e[30]=u,e[31]=f,e[32]=g,e[33]=a,e[34]=A,e[35]=D):D=e[35];e[36]!==B||e[37]!==C||e[38]!==i||e[39]!==w||e[40]!==D?(x=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"secure_composer",children:j.jsxs("div",{"data-testid":void 0,children:[B,C,i,w,D]})}),e[36]=B,e[37]=C,e[38]=i,e[39]=w,e[40]=D,e[41]=x):x=e[41];return x}function q(a){return[a.reply]}g["default"]=a}),226);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)){f!=null&&d("MessageRequestsLog").logActionConfirmed(e,8,(i||(i=d("I64"))).to_string(f));c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,e.threadKey,"MAWSecureComposerUtils",function(a,c){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:c,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));return(h||(h=b("Promise"))).resolve()}));return}}g.onDeleteThread=a}),98);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(c("MessengerViewOnceFilled.svg.react")),!0);g["default"]=a}),98);
__d("MAWSecureViewOnceMessageBubble.react",["MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageBubble.react","MWXText.react","MessengerWebUXLogger","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react")),l=c("gkx")("23219");function a(a){var b=j(18),d=a.connectBottom,e=a.connectTop,f=a.label;a=a.outgoing;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={eventName:"view_once_message_bubble_rendered"},b[0]=g):g=b[0];g=c("MessengerWebUXLogger").useImpressionLoggerRef(g);var h=a?"right":"left",i=a?"outgoing":"incoming",m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m="x6s0dn4 x78zum5",b[1]=m):m=b[1];var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n="x1lliihq x1w0mnb xbyyjgo",b[2]=n):n=b[2];var o=a?"white":"primary";b[3]!==o?(n=k.jsx("div",{className:n,children:k.jsx(c("MWXIconStrict.react"),{color:o,icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})}),b[3]=o,b[4]=n):n=b[4];o=a?l?"primaryOnMedia":"secondaryOnMedia":"secondary";b[5]!==o||b[6]!==f?(a=k.jsx(c("MWXText.react"),{color:o,type:"bodyLink3",children:f}),b[5]=o,b[6]=f,b[7]=a):a=b[7];b[8]!==g||b[9]!==n||b[10]!==a?(o=k.jsxs("div",{className:m,"data-testid":void 0,ref:g,children:[n,a]}),b[8]=g,b[9]=n,b[10]=a,b[11]=o):o=b[11];b[12]!==h||b[13]!==i||b[14]!==d||b[15]!==e||b[16]!==o?(f=k.jsx(c("MWXMessageBubble.react"),{align:h,color:i,connectBottom:d,connectTop:e,variant:"opaque",children:o}),b[12]=h,b[13]=i,b[14]=d,b[15]=e,b[16]=o,b[17]=f):f=b[17];return f}g["default"]=a}),98);
__d("MAWSecureViewOnceAttachmentContent.react",["fbt","I64","LSIntEnum","MAWLocalizationType","MAWSecureViewOnceMessageBubble.react","MWV2TombstonedMessage.react","MWViewOnceMessageIcon","MWXIconStrict.react","MessagingAttachmentType","MessengerWebUXLogger","RavenMessagingState","getMAWLocalizedFallbackMsgSnippet","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function a(a){var b=l(22),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment;a=a.outgoing;var i;b[0]!==g.attachmentType?(i=(j||(j=d("I64"))).equal(g.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)),b[0]=g.attachmentType,b[1]=i):i=b[1];i=i;g=g.ephemeralMediaState!=null&&(j||(j=d("I64"))).equal(g.ephemeralMediaState,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN));var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n={eventName:"view_once_message_tombstoned_rendered"},b[2]=n):n=b[2];n=c("MessengerWebUXLogger").useImpressionLoggerRef(n);if(a||g){b[3]!==i?(g=i?h._("__JHASH__ZUGF0BOPIS7__JHASH__"):h._("__JHASH___qBQkB3_Go4__JHASH__"),b[3]=i,b[4]=g):g=b[4];var o;b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==a?(o=m.jsx(c("MAWSecureViewOnceMessageBubble.react"),{connectBottom:e,connectTop:f,label:g,outgoing:a}),b[5]=e,b[6]=f,b[7]=g,b[8]=a,b[9]=o):o=b[9];return o}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g="x6s0dn4 x78zum5",b[10]=g):g=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o=m.jsx("div",{className:"x1lliihq x1w0mnb xzbario",children:m.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})}),b[11]=o):o=b[11];i=i?d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_PHOTO_MESSAGE:d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_VIDEO_MESSAGE;var p;b[12]!==i?(p=c("getMAWLocalizedFallbackMsgSnippet")(i),b[12]=i,b[13]=p):p=b[13];b[14]!==n||b[15]!==p?(i=m.jsxs("div",{className:g,"data-testid":void 0,ref:n,children:[o,p]}),b[14]=n,b[15]=p,b[16]=i):i=b[16];b[17]!==e||b[18]!==f||b[19]!==a||b[20]!==i?(g=m.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:e,connectTop:f,isOutgoing:a,children:i}),b[17]=e,b[18]=f,b[19]=a,b[20]=i,b[21]=g):g=b[21];return g}g["default"]=a}),226);
__d("MDSForwardStackSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M10.5 14a.5.5 0 0 0 .5-.5v-2.536c0-1.608 1.769-2.532 3.02-1.578l9.21 7.026c1.026.783 1.027 2.37.002 3.154l-9.21 7.046c-1.25.957-3.022.034-3.022-1.576V22.5a.5.5 0 0 0-.5-.5H5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h5.5Z"}),e=j.jsx("path",{d:"M20.38 24.265a.97.97 0 0 0-.38.771c0 1.61 1.771 2.533 3.022 1.576l9.21-7.046c1.025-.784 1.024-2.37-.002-3.154l-9.21-7.026c-1.251-.954-3.02-.03-3.02 1.578 0 .295.138.574.373.753l4.07 3.105c2.074 1.583 2.076 4.747.004 6.332l-4.066 3.111Z"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useId,k=b.c;function a(a){var b=k(38),d=j(),e=j(),f=j(),g=j(),h="url(#"+d+")",l="url(#"+e+")",m;b[0]!==l?(m=i.jsx("rect",{fill:l,height:"2",width:"8",x:"17",y:"26"}),b[0]=l,b[1]=m):m=b[1];b[2]!==h||b[3]!==m?(l=i.jsx("g",{filter:h,children:m}),b[2]=h,b[3]=m,b[4]=l):l=b[4];h="url(#"+f+")";b[5]!==h?(m=i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:h}),b[5]=h,b[6]=m):m=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),b[7]=h):h=b[7];var n="url(#"+g+")",o;b[8]!==n?(o=i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:n}),b[8]=n,b[9]=o):o=b[9];var p,q;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),p=i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),q=i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"}),b[10]=n,b[11]=p,b[12]=q):(n=b[10],p=b[11],q=b[12]);b[13]!==d?(n=i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:d,width:"8.8",x:"16.6",y:"25.6",children:[n,p,q]}),b[13]=d,b[14]=n):n=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#969495"}),q=i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"}),b[15]=p,b[16]=q):(p=b[15],q=b[16]);b[17]!==e?(d=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[p,q]}),b[17]=e,b[18]=d):d=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#666666"}),q=i.jsx("stop",{offset:"1",stopColor:"#CACCCD"}),b[19]=p,b[20]=q):(p=b[19],q=b[20]);b[21]!==f?(e=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:f,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[p,q]}),b[21]=f,b[22]=e):e=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),q=i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}),b[23]=p,b[24]=q):(p=b[23],q=b[24]);b[25]!==g?(f=i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:g,r:"1",children:[p,q]}),b[25]=g,b[26]=f):f=b[26];b[27]!==n||b[28]!==d||b[29]!==e||b[30]!==f?(p=i.jsxs("defs",{children:[n,d,e,f]}),b[27]=n,b[28]=d,b[29]=e,b[30]=f,b[31]=p):p=b[31];b[32]!==a||b[33]!==l||b[34]!==m||b[35]!==o||b[36]!==p?(q=i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[l,m,h,o,p]})),b[32]=a,b[33]=l,b[34]=m,b[35]=o,b[36]=p,b[37]=q):q=b[37];return q}g["default"]=a}),98);
__d("MSGDataclassTypes.flow",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({HistoryRestore:"HISTORY_RESTORE",Reporting:"REPORTING",Fts:"FTS"});d=a({Before:"BEFORE",After:"AFTER"});e=a({UpsertBackupItem:"UPSERT_BACKUP_ITEM",RemoveBackupItem:"REMOVE_BACKUP_ITEM"});b=a({Message:"MESSAGE",Thread:"THREAD"});var g=a({Photo:"PHOTO",Permanent:"PERMANENT",Ephemeral:"EPHEMERAL",Video:"VIDEO",Gif:"GIF",Audio:"AUDIO",File:"FILE",Raven:"RAVEN",UnreadRaven:"UNREAD_RAVEN",ShareIgMedia:"SHARE_IG_MEDIA",ShareLink:"SHARE_LINK",ShareIgClips:"SHARE_IG_CLIPS",Shh:"SHH",StoryReply:"STORY_REPLY",DisappearingMessage:"DISAPPEARING_MESSAGE",RavenSeen:"RAVEN_SEEN",RavenReplayed:"RAVEN_REPLAYED",RavenReadOnce:"RAVEN_READ_ONCE",RavenReplayable:"RAVEN_REPLAYABLE",RavenPermanent:"RAVEN_PERMANENT"}),h=a({Fbn:"FBN",Instamadillo:"INSTAMADILLO",Unknown:"UNKNOWN"}),i=a({Retroactive:"RETROACTIVE",Realtime:"REALTIME"}),j=a({Success:"SUCCESS",RetryableException:"RETRYABLE_EXCEPTION",PermanentFailure:"PERMANENT_FAILURE"}),k=a({LlmOutput:"llm_output",SendQuery:"send_query",StartTyping:"start_typing",StopTyping:"stop_typing",VideoAboutToFinish:"video_about_to_finish"}),l=a({RequestStart:"REQUEST_START",Searching:"SEARCHING",Imagining:"IMAGINING",UnderstandingImage:"UNDERSTANDING_IMAGE",Generating:"GENERATING"}),m=a({Love:"LOVE",Giftwrap:"GIFTWRAP",Celebration:"CELEBRATION",Fire:"FIRE",AvatarLove:"AVATAR_LOVE",AvatarAngry:"AVATAR_ANGRY",AvatarCry:"AVATAR_CRY",AvatarLaugh:"AVATAR_LAUGH",Halloween:"HALLOWEEN",NomNomDash:"NOM_NOM_DASH"}),n=a({Reminder:"REMINDER",Subscription:"SUBSCRIPTION"}),o=a({Memu:"MEMU",Imagine:"IMAGINE"}),p=a({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),q=a({MagicModBackdrop:"MAGIC_MOD_BACKDROP",MagicModRestyle:"MAGIC_MOD_RESTYLE",Imagine:"IMAGINE",Memu:"MEMU"}),r=a({BanUser:"BAN_USER",RemoveUser:"REMOVE_USER",SuspendUser:"SUSPEND_USER",RemoveMessage:"REMOVE_MESSAGE",ReportMessage:"REPORT_MESSAGE",HideMessage:"HIDE_MESSAGE"}),s=a({MothersDay:"MOTHERS_DAY",FathersDay:"FATHERS_DAY",Graduation:"GRADUATION",NationalSelfie:"NATIONAL_SELFIE",PhIndependenceDay:"PH_INDEPENDENCE_DAY",JulyFourth:"JULY_FOURTH",FriendshipDay:"FRIENDSHIP_DAY"}),t=a({Birthday:"BIRTHDAY"}),u=a({XmaWebUrl:"XMA_WEB_URL"}),v=a({GenAiGetInfo:"GEN_AI_GET_INFO",GenAiReminder:"GEN_AI_REMINDER",GenAiThreadSurfing:"GEN_AI_THREAD_SURFING"}),w=a({Mention:"MENTION",Reply:"REPLY"}),x=a({FbmInbox:"FBM_INBOX",Profile:"PROFILE",Feed:"FEED",FbSearch:"FB_SEARCH",Watch:"WATCH",Shorts:"SHORTS",Ufi:"UFI",Ctm:"CTM",Cts:"CTS",Psrib:"PSRIB",Srib:"SRIB",Rta:"RTA",Mp:"MP",CommentMentions:"COMMENT_MENTIONS",ZorroMessage:"ZORRO_MESSAGE",IgReels:"IG_REELS",IgStory:"IG_STORY",IgFeed:"IG_FEED",IgProfile:"IG_PROFILE",IgNotes:"IG_NOTES",IgLive:"IG_LIVE",IgExternalLink:"IG_EXTERNAL_LINK",IgComment:"IG_COMMENT",FbNotes:"FB_NOTES",FbGroups:"FB_GROUPS",GenAiSuggestedPrompts:"GEN_AI_SUGGESTED_PROMPTS",GenAiMultiModal:"GEN_AI_MULTI_MODAL",GenAiFlAshImagine:"GEN_AI_FlASH_IMAGINE",GenAiAssistant:"GEN_AI_ASSISTANT",GenAiLocation:"GEN_AI_LOCATION",Sharesheet:"SHARESHEET",ProductHighlights:"PRODUCT_HIGHLIGHTS",MagicMessenger:"MAGIC_MESSENGER"}),y=a({Unspecified:"UNSPECIFIED",QuickEmoji:"QUICK_EMOJI",Avatar:"AVATAR",SuggestedReply:"SUGGESTED_REPLY"}),z=a({Default:"DEFAULT",CriticalUserMessage:"CRITICAL_USER_MESSAGE",NonCriticalAdminXma:"NON_CRITICAL_ADMIN_XMA"}),A=a({ThreadviewSuggestedPrompt:"THREADVIEW_SUGGESTED_PROMPT",TypeaheadSuggestedPrompt:"TYPEAHEAD_SUGGESTED_PROMPT",SuggestedPrompt:"SUGGESTED_PROMPT",NullStatePrompt:"NULL_STATE_PROMPT",UserInputPrompt:"USER_INPUT_PROMPT",GenericPrompt:"GENERIC_PROMPT",ThreadviewUserInputPrompt:"THREADVIEW_USER_INPUT_PROMPT",Icebreakers:"ICEBREAKERS"}),B=a({Mention:"MENTION",SuperReact:"SUPER_REACT",StoryReply:"STORY_REPLY",MessageReply:"MESSAGE_REPLY",ContentReply:"CONTENT_REPLY",ContentMention:"CONTENT_MENTION",ContentShare:"CONTENT_SHARE",OnPlatform:"ON_PLATFORM",OffPlatform:"OFF_PLATFORM",MessageForward:"MESSAGE_FORWARD",Avatar:"AVATAR",SocialSticker:"SOCIAL_STICKER",NoteReply:"NOTE_REPLY",InvokesGenAiResponse:"INVOKES_GEN_AI_RESPONSE",SentFromGenAiBot:"SENT_FROM_GEN_AI_BOT",DisappearingMessage:"DISAPPEARING_MESSAGE",IncludesOnPlatformContent:"INCLUDES_ON_PLATFORM_CONTENT",IncludesOffPlatformContent:"INCLUDES_OFF_PLATFORM_CONTENT",IncludesLink:"INCLUDES_LINK",MultitabEnv:"MULTITAB_ENV",PowerUp:"POWER_UP",MsysSend:"MSYS_SEND",EditMessage:"EDIT_MESSAGE",VanishMode:"VANISH_MODE",Superlative:"SUPERLATIVE",Raven:"RAVEN",Hotlike:"HOTLIKE",IsDialtone:"IS_DIALTONE",MessageReshare:"MESSAGE_RESHARE",PostReply:"POST_REPLY",IsNotDialtone:"IS_NOT_DIALTONE",ThirdPartyReshare:"THIRD_PARTY_RESHARE",ZeroBalanceDetected:"ZERO_BALANCE_DETECTED",ConversationStarter:"CONVERSATION_STARTER",AnimatedAiSticker:"ANIMATED_AI_STICKER",AiGeneratedSticker:"AI_GENERATED_STICKER",MagicModImage:"MAGIC_MOD_IMAGE",ShareOfOriginalUserContent:"SHARE_OF_ORIGINAL_USER_CONTENT",LightweightInteractionAsStoryReply:"LIGHTWEIGHT_INTERACTION_AS_STORY_REPLY",WriteWithMetaAi:"WRITE_WITH_META_AI"}),C=a({MsgrE2EeGenai:"MSGR_E2EE_GENAI"}),D=a({Imagine:"IMAGINE",Imaginev2:"IMAGINEV2",Imagineme:"IMAGINEME"}),E=a({Animate:"ANIMATE",AnimateImagineme:"ANIMATE_IMAGINEME"}),F=a({Share:"SHARE",Reply:"REPLY",Mention:"MENTION",Bump:"BUMP"}),G=a({Statusupdate:"STATUSUPDATE",Grouppost:"GROUPPOST",Shareurl:"SHAREURL"}),H=a({Single:"SINGLE",Hscroll:"HSCROLL",Xcenter:"XCENTER",Portrait:"PORTRAIT",Layered:"LAYERED",Placeholder:"PLACEHOLDER",ExpiredPlaceholder:"EXPIRED_PLACEHOLDER",PilePrompt:"PILE_PROMPT",Stack:"STACK",SharedStack:"SHARED_STACK",StackCard:"STACK_CARD",StandardDxma:"STANDARD_DXMA",DxmaPlaceholder:"DXMA_PLACEHOLDER",Grid:"GRID"}),I=a({Text:"TEXT",Media:"MEDIA"}),J=a({Unknown:"UNKNOWN",TwoOptionCombined:"TWO_OPTION_COMBINED",IgTwoOptionCombined:"IG_TWO_OPTION_COMBINED",FiveOptionStarRating:"FIVE_OPTION_STAR_RATING"}),K=a({Unknown:"UNKNOWN",Location:"LOCATION",People:"PEOPLE",Event:"EVENT",ResharedPost:"RESHARED_POST",ResharedContent:"RESHARED_CONTENT",Page:"PAGE",Fundraiser:"FUNDRAISER",Product:"PRODUCT",AntiBully:"ANTI_BULLY",Instagram:"INSTAGRAM"}),L=a({Grid:"GRID",Hscroll:"HSCROLL",Portrait:"PORTRAIT",Single:"SINGLE",Vstack:"VSTACK",SharedStack:"SHARED_STACK"}),M=a({Left:"LEFT",Center:"CENTER"}),N=a({Test:"TEST",None:"NONE",IgMediaShare:"IG_MEDIA_SHARE",IgMultipostShare:"IG_MULTIPOST_SHARE",IgStoryReply:"IG_STORY_REPLY",IgStoryPhotoShare:"IG_STORY_PHOTO_SHARE",IgStoryPhotoMention:"IG_STORY_PHOTO_MENTION",IgClipsShare:"IG_CLIPS_SHARE",IgSingleVideoPostShare:"IG_SINGLE_VIDEO_POST_SHARE",IgStoryVideoShare:"IG_STORY_VIDEO_SHARE",IgStoryReaction:"IG_STORY_REACTION",IgIgtvShare:"IG_IGTV_SHARE",IgShopShare:"IG_SHOP_SHARE",IgProfileShare:"IG_PROFILE_SHARE",IgStoryPhotoHighlightShare:"IG_STORY_PHOTO_HIGHLIGHT_SHARE",IgStoryVideoHighlightShare:"IG_STORY_VIDEO_HIGHLIGHT_SHARE",IgStoryVideoMention:"IG_STORY_VIDEO_MENTION",IgStoryHighlightReply:"IG_STORY_HIGHLIGHT_REPLY",IgStoryHighlightReaction:"IG_STORY_HIGHLIGHT_REACTION",IgExternalLink:"IG_EXTERNAL_LINK",IgReceiverFetch:"IG_RECEIVER_FETCH",IgTextPostAppShare:"IG_TEXT_POST_APP_SHARE",FbFeedShare:"FB_FEED_SHARE",FbStoryReply:"FB_STORY_REPLY",FbStoryShare:"FB_STORY_SHARE",FbStoryMention:"FB_STORY_MENTION",FbFeedVideoShare:"FB_FEED_VIDEO_SHARE",FbGamingCustomUpdate:"FB_GAMING_CUSTOM_UPDATE",FbProducerStoryReply:"FB_PRODUCER_STORY_REPLY",FbEvent:"FB_EVENT",FbFeedPostPrivateReply:"FB_FEED_POST_PRIVATE_REPLY",FbShort:"FB_SHORT",FbCommentMentionShare:"FB_COMMENT_MENTION_SHARE",FbPostMention:"FB_POST_MENTION",MsgExternalLinkShare:"MSG_EXTERNAL_LINK_SHARE",MsgP2PPayment:"MSG_P2P_PAYMENT",MsgLocationSharingDeprecated:"MSG_LOCATION_SHARING_DEPRECATED",MsgLocationSharingV2:"MSG_LOCATION_SHARING_V2",MsgReceiverFetch:"MSG_RECEIVER_FETCH",MsgIgMediaShare:"MSG_IG_MEDIA_SHARE",MsgGenAiSearchPluginResponse:"MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE",MsgReelsList:"MSG_REELS_LIST",MsgContact:"MSG_CONTACT",MsgFile:"MSG_FILE",MsgAiContact:"MSG_AI_CONTACT",MsgMemoriesShare:"MSG_MEMORIES_SHARE",MsgEarlyAccessFbShare:"MSG_EARLY_ACCESS_FB_SHARE",MsgSharedAlbum:"MSG_SHARED_ALBUM",MsgReceiverFetchFallback:"MSG_RECEIVER_FETCH_FALLBACK",MsgAiBotSearchResult:"MSG_AI_BOT_SEARCH_RESULT",MsgGenAiSubscription:"MSG_GEN_AI_SUBSCRIPTION",MsgGenAiReminder:"MSG_GEN_AI_REMINDER",MsgGenAi_1PSearchResult:"MSG_GEN_AI_1P_SEARCH_RESULT",MsgGenAiMemuOnboardingResponse:"MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE",RtcAudioCall:"RTC_AUDIO_CALL",RtcVideoCall:"RTC_VIDEO_CALL",RtcMissedAudioCall:"RTC_MISSED_AUDIO_CALL",RtcMissedVideoCall:"RTC_MISSED_VIDEO_CALL",RtcGroupAudioCall:"RTC_GROUP_AUDIO_CALL",RtcGroupVideoCall:"RTC_GROUP_VIDEO_CALL",RtcMissedGroupAudioCall:"RTC_MISSED_GROUP_AUDIO_CALL",RtcMissedGroupVideoCall:"RTC_MISSED_GROUP_VIDEO_CALL",LiveLocation:"LIVE_LOCATION",OcAvatarStaticSticker:"OC_AVATAR_STATIC_STICKER"}),O=a({XmaWebUrl:"XMA_WEB_URL",XmaOpenNative:"XMA_OPEN_NATIVE",XmaMsgExternalLinkShare:"XMA_MSG_EXTERNAL_LINK_SHARE",XmaGenAiSearchPluginResponseSources:"XMA_GEN_AI_SEARCH_PLUGIN_RESPONSE_SOURCES",XmaSharedAlbumViewer:"XMA_SHARED_ALBUM_VIEWER",XmaMetaAiSingleSubscription:"XMA_META_AI_SINGLE_SUBSCRIPTION",XmaMetaAiSubscriptions:"XMA_META_AI_SUBSCRIPTIONS",XmaMetaAiReminders:"XMA_META_AI_REMINDERS",XmaGamePlay:"XMA_GAME_PLAY"}),P=a({Album:"ALBUM",Clips:"CLIPS",Video:"VIDEO"}),Q=a({None:"NONE",VodVideo:"VOD_VIDEO",LiveVideo:"LIVE_VIDEO",ShortsVideo:"SHORTS_VIDEO"}),R=a({Default:"DEFAULT",ThreadsIcon:"THREADS_ICON",FacebookIcon:"FACEBOOK_ICON",ExternalLinkIcon:"EXTERNAL_LINK_ICON",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",OculusIcon:"OCULUS_ICON"}),S=a({Default:"DEFAULT"}),T=a({None:"NONE",Collage:"COLLAGE",Photo:"PHOTO",Video:"VIDEO",MultiPhoto:"MULTI_PHOTO",MessengerIcon:"MESSENGER_ICON",InstagramIcon:"INSTAGRAM_ICON",ReelsIcon:"REELS_ICON",Live:"LIVE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS",Blur:"BLUR",Pill:"PILL"}),U=a({Default:"DEFAULT",P2PPreviewImageWithTextOverlay:"P2P_PREVIEW_IMAGE_WITH_TEXT_OVERLAY",Playable:"PLAYABLE",AutoPlayable:"AUTO_PLAYABLE",BlurredImage:"BLURRED_IMAGE",BlurredPlayable:"BLURRED_PLAYABLE",InformTreatmentWithLabel:"INFORM_TREATMENT_WITH_LABEL",InformTreatmentWithWarningScreen:"INFORM_TREATMENT_WITH_WARNING_SCREEN",YoutubePlayer:"YOUTUBE_PLAYER",ImageWithPlayButton:"IMAGE_WITH_PLAY_BUTTON",Placeholder:"PLACEHOLDER",AutoPlayableWithAspectRatio:"AUTO_PLAYABLE_WITH_ASPECT_RATIO"}),V=a({Default:"DEFAULT",Rounded:"ROUNDED",BlurredCircle:"BLURRED_CIRCLE",TemplateAsset:"TEMPLATE_ASSET",DefaultWithGradient:"DEFAULT_WITH_GRADIENT"}),W=a({MediaLabel:"MEDIA_LABEL",Misinformation:"MISINFORMATION",PostCover:"POST_COVER",PostLabel:"POST_LABEL",Private:"PRIVATE",Sensitive:"SENSITIVE",WarningScreens:"WARNING_SCREENS"}),X=a({None:"NONE",YoutubeVideo:"YOUTUBE_VIDEO",YoutubeShorts:"YOUTUBE_SHORTS"}),Y=a({None:"NONE",Fb:"FB",FbAlwaysWhite:"FB_ALWAYS_WHITE",DotsThreeHorizontal:"DOTS_THREE_HORIZONTAL",ChevronDown:"CHEVRON_DOWN",FbInfoSmall:"FB_INFO_SMALL"}),Z=a({Simple:"SIMPLE",Retro:"RETRO",Messages:"MESSAGES"}),$=a({Weekly:"WEEKLY",Daily:"DAILY"}),aa=a({Default:"DEFAULT",Overlay:"OVERLAY"}),ba=a({Started:"STARTED",Ended:"ENDED",Active:"ACTIVE",Expired:"EXPIRED"}),ca=a({Square:"SQUARE",Circle:"CIRCLE"});a=a({Chevron:"CHEVRON"});f.MpsQueryCaller=c;f.MpsMessageRangeQueryDirection=d;f.MpsBackupOperation=e;f.MpsBackupContentType=b;f.MpsMessageTag=g;f.MpsUploadType=h;f.MpsMessageBackupSource=i;f.MpsServerMessageUploadStatus=j;f.AiBotEmbodimentTrigger=k;f.XmsgStreamStatusType=l;f.XmsgPowerUpStyle=m;f.XmsgGenAiBotSubscriptionProductType=n;f.XmsgGenAiBotResponseProductType=o;f.XmsgMemoriesTemplateType=p;f.XmsgaiProduct=q;f.XmsgSuggestedModerationActionType=r;f.XmsgHighlightsTabMoment=s;f.XmsgHighlightsTabReplySourceType=t;f.XmsgMustacheCtaType=u;f.XmsgInlineEntityType=v;f.XmsgNoteMessageType=w;f.XmsgMessageSendProductType=x;f.XmsgStoryReplyType=y;f.GenAiContextInjectionType=z;f.GenAiPromptType=A;f.XmsgFeatureTags=B;f.XmsgMessageStreamingProductType=C;f.Xmsge2EeGenAiEncryptedImageProductType=D;f.Xmsge2EeGenAiEncryptedVideoProductType=E;f.XmsgMsgrXmaActionType=F;f.XmsgMsgrReceiverFetchContentType=G;f.XmsgMsgrReceiverFetchXmaLayoutType=H;f.XmsgReportedMessageType=I;f.XmsgStoryOverlayPollStyle=J;f.XmsgStoryOverlayTagType=K;f.XmsgXmaLayoutType=L;f.XmsgXmaVStackLayoutHeaderAlignmentType=M;f.XmsgXmaContentType=N;f.XmsgctaType=O;f.XmsgXmaContentAttributionIcon=P;f.XmsgXmaOverlayContentType=Q;f.XmsgXmaSubtitleDecorationType=R;f.XmsgXmaVerifiedType=S;f.XmsgXmaImageDecorationType=T;f.XmsgXmaCustomPreviewType=U;f.XmsgXmaMessagingAttachmentFaviconStyle=V;f.XmsgXmaGatingType=W;f.XmsgXmaYoutubePreviewMediaType=X;f.XmsgXmaCtaIconType=Y;f.XmsgMemoriesE2EeSendTemplateType=Z;f.XmsgXmaSubscriptionRecurrenceType=$;f.XmsgXmaStandardGenericBodyLayoutType=aa;f.XmsgXmaLiveLocationSessionState=ba;f.XmsgXmaCompactGenericTemplatePreviewStyle=ca;f.XmsgXmaCompactGenericTemplateAccessoryType=a}),66);
__d("MWChatColors",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function a(a){var b=k(6),e=a.size;a=a.viewBox;e=e===void 0?16:e;a=a===void 0?"0 0 16 16":a;var f,g,j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("title",{children:h._("__JHASH__Wo2O5nlXhKT__JHASH__")}),g=l.jsx("path",{className:(i||(i=c("stylex")))(d("MWChatColors").MessageActions.styles.svgFill),d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"}),j=l.jsx("path",{className:i(d("MWChatColors").MessageActions.styles.svgFill),clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"}),b[0]=f,b[1]=g,b[2]=j):(f=b[0],g=b[1],j=b[2]);b[3]!==e||b[4]!==a?(f=l.jsxs("svg",{fill:"none",height:e,viewBox:a,width:e,xmlns:"http://www.w3.org/2000/svg",children:[f,g,j]}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("MWAddReactionButton.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;e.useCallback;var m=e.useMemo,n=e.c,o={emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0}},p=l.forwardRef(a);function a(a,b){var e=n(11),f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,i=a.onPressInPrerenderer,k=a.showPopover;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__czR8vxcW0mN__JHASH__"),e[0]=a):a=e[0];a=a;var m;e[1]!==k?(m=function(){k(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},e[1]=k,e[2]=m):m=e[2];m=m;var p;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(p="x6s0dn4 xnmxlks xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",e[3]=p):p=e[3];e[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("div",{className:p,role:"none",children:l.jsx("div",{className:"x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x14ju556 x11i5rnm x78zum5 xdt5ytf xl56j7k x1npj6m0",children:l.jsx(c("MWMessageReactionIcon.react"),{size:"1.125rem"})})}),e[4]=p):p=e[4];e[5]!==f||e[6]!==g||e[7]!==m||e[8]!==i||e[9]!==b?(a=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:l.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,loggingEvent:"click_react_to_message",onHoverIn:f,onHoverOut:g,onPress:m,onPressIn:i,overlayRadius:"inherit",ref:b,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:p})}),e[5]=f,e[6]=g,e[7]=m,e[8]=i,e[9]=b,e[10]=a):a=e[10];return a}function b(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.setShouldRowStayExpanded,h=a.threadKey;a=a.threadType;var i=(k||(k=d("I64"))).to_string(h),j=k.to_string(e.timestampMs),n=m(function(){return d("MWChatMessageId").makeSent(i,e.messageId,j)},[i,e.messageId,j]),o=d("MWCMThreadTypes.react").isBroadcastThread(a);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);h=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(h);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:h&&o,hasReactionsV2:h,isBroadcastChannel:a,isBroadcastThread:o,isSecure:b,messageID:n,onVisibilityChange:g,sendReaction:f,children:function(a,b,c,d,e,f){return l.jsx(p,{messageID:n,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),226);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={bubble:{paddingBottom:"x1120s5i",$$css:!0},bubbleReply:{paddingBottom:"xwib8y2",$$css:!0}};b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};function a(a){var b=k(13),e=a.isLastMessageInGroup,f=a.messageId,g=a.onClick;a=a.source;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=h._("__JHASH__IgHPZSLlYoi__JHASH__"),b[0]=j):j=b[0];j=j;var n=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();n=n.visibleMessage;n=(n==null?void 0:n.source)==="Pinned"&&(n==null?void 0:n.messageId)===f;b[1]!==n||b[2]!==a?(f=n?l.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,hasXMA:!1,outgoing:!1,precedesXMA:!1,children:l.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:!1,connectTop:!1,isOutgoing:!1,isReply:a==="replied-to",children:j})}):l.jsx(c("MWV2TombstonedMessage.react"),{connectBottom:!1,connectTop:!1,isOutgoing:!1,isReply:a==="replied-to",children:j}),b[1]=n,b[2]=a,b[3]=f):f=b[3];j=f;n=e===!1&&m.bubble;f=a==="replied-to"&&m.bubbleReply;b[4]!==n||b[5]!==f?(e=(i||(i=c("stylex")))(n,f),b[4]=n,b[5]=f,b[6]=e):e=b[6];b[7]!==g||b[8]!==j?(a=l.jsx(c("MWXPressable.react"),{onPress:g,overlayDisabled:!0,children:j}),b[7]=g,b[8]=j,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(n=l.jsx("div",{className:e,"data-testid":void 0,children:a}),b[10]=e,b[11]=a,b[12]=n):n=b[12];return n}g.MWBlockedTombstoneMessageSource=b;g.MWBlockedTombstoneMessage=a}),226);
__d("MWBlockingProtectionLogging",["I64","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c,k=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){var b=j(2),c;b[0]!==a.threadKey?(c=function(){k.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}})})},b[0]=a.threadKey,b[1]=c):c=b[1];return c}g.useLogTapToReviewAction=a}),98);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25476419472006466"}),null);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters",["MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMContentTakedownEnforcementNoticeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMContentTakedownEnforcementNoticeDialog.entrypoint",["JSResourceForInteraction","MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.interventions_ids;return{queries:{queryReference:{parameters:c("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"),variables:{interventions_ids:a}}}}},root:c("JSResourceForInteraction")("MWCMContentTakedownEnforcementNoticeDialog.react").__setRef("MWCMContentTakedownEnforcementNoticeDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionFactLabelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8111791688896993"}),null);
__d("MWCMElectionFactLabelDialogQuery$Parameters",["MWCMElectionFactLabelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionFactLabelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionFactLabelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionFactLabelDialog.entrypoint",["JSResourceForInteraction","MWCMElectionFactLabelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionFactLabelDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionFactLabelDialog.react").__setRef("MWCMElectionFactLabelDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8150321178322855"}),null);
__d("MWCMElectionInformTreatmentDialogQuery$Parameters",["MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionInformTreatmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionInformTreatmentDialog.entrypoint",["JSResourceForInteraction","MWCMElectionInformTreatmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionInformTreatmentDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionInformTreatmentDialog.react").__setRef("MWCMElectionInformTreatmentDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7797384147050491"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMMemberRequestsDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMMemberRequestsDialog.react").__setRef("MWCMMemberRequestsDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(6);a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var d=c("useCometRouterState")();if(b[0]!==d){var e=d!=null?c("getTopMostRoute")(d):null;e=(e=e==null?void 0:e.tracePolicy)!=null?e:null;e=e!==null?e.startsWith("comet.page.admin")||e.startsWith("comet.group.admin"):!1;b[0]=d;b[1]=e}else e=b[1];d=e;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){e=c("CurrentUser").getName();e=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",k.jsx(c("MWXText.react"),{type:"meta2",children:e}))]);b[2]=e}else e=b[2];e=e;b[3]!==d||b[4]!==a?(e=d||a?k.jsx("div",{className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:k.jsx(c("MWXTextPairing.react"),{body:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:e}),level:4,textAlign:"center"})}):null,b[3]=d,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("MWChatHeaderDetailsSubtitleMutedIcon.react",["fbt","MWXTooltip.react","cr:4426","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){a=j(1);var d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("MWXTooltip.react"),{align:"start",position:"above",tooltip:h._("__JHASH__XpvJmcPfz_-__JHASH__"),children:k.jsx(b("cr:4426"),{})}),a[0]=d):d=a[0];return d}g["default"]=a}),226);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__dAK4xN4bf5e__JHASH__"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:l.line,children:k.jsx(k.Fragment,{})}),a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(c("MDSRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:k.jsx(d("react-strict-dom").html.div,{style:l.color,children:b})})}),a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("MDSRow.react"),{"aria-label":b,paddingVertical:12,spacingVertical:0,children:[e,f,k.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:l.line,children:k.jsx(k.Fragment,{})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","Int64Hooks","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef,o=b.useState,p=b.c,q=9;function a(a){var b=p(65),e=a.isProcessingReactions,g=a.messageId,k=a.onTooltipCTAPress,r=a.reactionFbid,s=a.threadKey,t=(i||(i=c("useReStore")))();a=o(!0);var u=a[0],v=a[1],w;b[0]!==e||b[1]!==t||b[2]!==g||b[3]!==r||b[4]!==s?(a=function(){e||(v(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(t,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g,reactionFbid:r,threadId:s})},"issueReactionsV2DetailsUsersListFetch").then(function(){v(!1)})))},w=[t,s,g,r,v,e],b[0]=e,b[1]=t,b[2]=g,b[3]=r,b[4]=s,b[5]=a,b[6]=w):(a=b[5],w=b[6]);d("Int64Hooks").useEffectInt64(a,w);var x=d("MWPActor.react").useActor();b[7]!==t.tables.reactions_v2_details||b[8]!==s||b[9]!==g||b[10]!==r?(a=function(){return d("ReQL").fromTableAscending(t.tables.reactions_v2_details).getKeyRange(s,g).filter(function(a){return(j||(j=d("I64"))).equal(a.reactionFbid,r)})},b[7]=t.tables.reactions_v2_details,b[8]=s,b[9]=g,b[10]=r,b[11]=a):a=b[11];b[12]!==t||b[13]!==s||b[14]!==g||b[15]!==r?(w=[t,s,g,r],b[12]=t,b[13]=s,b[14]=g,b[15]=r,b[16]=w):w=b[16];a=d("ReQLSuspense").useArray(a,w,f.id+":84");var y=new Map();a.forEach(function(a){return y.set((j||(j=d("I64"))).to_string(a.reactorId),a.fullName)});b[17]!==t.tables.threads||b[18]!==t.tables.contextual_profile_v1||b[19]!==s?(w=function(){return d("ReQL").fromTableAscending(t.tables.threads).getKeyRange(s).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(t.tables.contextual_profile_v1).filter(function(a){return(j||(j=d("I64"))).equal(a.associatedEntityId,b)}),f.id+":102")})},b[17]=t.tables.threads,b[18]=t.tables.contextual_profile_v1,b[19]=s,b[20]=w):w=b[20];var z;b[21]!==t||b[22]!==s?(z=[t,s],b[21]=t,b[22]=s,b[23]=z):z=b[23];w=d("ReQLSuspense").useFirst(w,z,f.id+":97");z=null;w!=null&&w.forEach(function(a){var b=(j||(j=d("I64"))).to_string(a.ownerId),c=a.profileName;if(c==null)return;y.has(b)&&y.set(b,c);(j||(j=d("I64"))).equal(a.ownerId,x)&&(z=c)});w=a.map(function(a){return y.get((j||(j=d("I64"))).to_string(a.reactorId))}).filter(Boolean);b[24]!==t.tables.reactions_v2||b[25]!==s||b[26]!==g||b[27]!==r?(a=function(){return d("ReQL").fromTableAscending(t.tables.reactions_v2).getKeyRange(s,g,r)},b[24]=t.tables.reactions_v2,b[25]=s,b[26]=g,b[27]=r,b[28]=a):a=b[28];var A;b[29]!==t||b[30]!==s||b[31]!==g||b[32]!==r?(A=[t,s,g,r],b[29]=t,b[30]=s,b[31]=g,b[32]=r,b[33]=A):A=b[33];a=d("ReQLSuspense").useFirst(a,A,f.id+":131");A=(A=a==null?void 0:a.viewerIsReactor)!=null?A:!1;var B;b[34]!==t.tables.contacts||b[35]!==x?(B=function(){return d("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(x).map(function(a){return a.name})},b[34]=t.tables.contacts,b[35]=x,b[36]=B):B=b[36];var C;b[37]!==t||b[38]!==x?(C=[t,x],b[37]=t,b[38]=x,b[39]=C):C=b[39];B=d("ReQLSuspense").useFirst(B,C,f.id+":143");C=z!=null?z:B;B=a!=null?(j||(j=d("I64"))).to_int32(a.count):0;if(B===1&&A&&w.length===0&&C!=null)w.push(C);else{A&&w[0]!=null&&C!=null&&((a=w[0])==null?void 0:a.toString())!==C&&w.unshift(C)}b[40]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._("__JHASH__GTBXwO8BaZr__JHASH__"),b[40]=A):A=b[40];a=A;bb0:{C=[].concat(w.slice(0,q));A=!1;if(w.length>q){var D=B-q;if(D<0){var E;b[41]===Symbol["for"]("react.memo_cache_sentinel")?(E=[a,!0],b[41]=E):E=b[41];E=E;break bb0}var F;b[42]!==D?(F=h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(D),h._param("count",String(c("intlSummarizeNumber")(D)))]).toString(),b[42]=D,b[43]=F):F=b[43];C.push(F)}else A=(!u||!e)&&w.length!==B;E=C.length===0?[a,A]:[C.map(function(a,b){return l.jsx("div",{children:a},String(b))}),A]}D=E;F=D[0];var G=D[1],H=c("usePrevious")(G),I=n(null);b[44]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){return function(){I.current!=null&&window.clearTimeout(I.current)}},w=[],b[44]=u,b[45]=w):(u=b[44],w=b[45]);m(u,w);b[46]!==H||b[47]!==G||b[48]!==t||b[49]!==g||b[50]!==s?(B=function(){if(H===G)return;if(!G)I.current!=null&&(window.clearTimeout(I.current),I.current=null);else{if(I.current!=null)return;I.current=window.setTimeout(function(){I.current=null,c("promiseDone")(t.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":241")),c("promiseDone")(t.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g,threadId:s})},"readwrite",void 0,void 0,f.id+":249"))},700)}},b[46]=H,b[47]=G,b[48]=t,b[49]=g,b[50]=s,b[51]=B):B=b[51];b[52]!==t||b[53]!==G||b[54]!==H||b[55]!==g||b[56]!==r||b[57]!==s?(a=[t,G,H,g,r,s],b[52]=t,b[53]=G,b[54]=H,b[55]=g,b[56]=r,b[57]=s,b[58]=a):a=b[58];m(B,a);b[59]===Symbol["for"]("react.memo_cache_sentinel")?(C=h._("__JHASH__g_e4jdcSB-i__JHASH__"),b[59]=C):C=b[59];b[60]!==F?(A=l.jsx(c("MWXText.react"),{color:"tooltip",type:"body4",children:F}),b[60]=F,b[61]=A):A=b[61];b[62]!==k||b[63]!==A?(E=l.jsx(c("MWXPressable.react"),{"aria-label":C,onPress:k,overlayDisabled:!0,children:A}),b[62]=k,b[63]=A,b[64]=E):E=b[64];return E}g["default"]=a}),226);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(2),e=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__FoZB3MxTOU9__JHASH__"),b[0]=a):a=b[0];e=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsxs("div",{children:[k.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),k.jsx(c("MWXComposerBanner.react"),{bodyText:e})]}),b[1]=a):a=b[1];return a}g["default"]=a}),226);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.c,l=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b=k(6),e=d("CometRelay").useRelayEnvironment(),f=d("CometRelay").useLazyLoadQuery(l,{},{fetchPolicy:"store-only"}),g;b[0]!==f||b[1]!==e?(g=function(){var a;(f==null?void 0:(a=f.viewer)==null?void 0:a.chat_visibility)==null&&c("promiseDone")(d("CometRelay").fetchQuery(e,l,{}).toPromise())},b[0]=f,b[1]=e,b[2]=g):g=b[2];a=f==null?void 0:(a=f.viewer)==null?void 0:a.chat_visibility;var h;b[3]!==a||b[4]!==e?(h=[a,e],b[3]=a,b[4]=e,b[5]=h):h=b[5];j(g,h);return(f==null?void 0:(a=f.viewer)==null?void 0:a.chat_visibility)===!0}g.useViewerChatVisibility=a}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function a(a){var b=i(3),e=a.isLastMessage,f=a.message;a=a.nextMessage;a=d("MWPMessageParsingUtils").isEndOfGroup(f,a);a=a&&!e?k.lastMessageInGroup:k.pinnedMessage;b[0]!==f.messageId||b[1]!==a?(e=j.jsx(c("MWClickToRevealMustacheText.react"),{messageId:f.messageId,xsyle:a}),b[0]=f.messageId,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(){var a=i(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("gkx")("23219")?"12px":b==="Inbox"?"16px":"8px";var e;a[0]!==b?(e={dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"},a[0]=b,a[1]=e):e=a[1];b=e;return b}g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=i(29),e=a.domElementRef,f=a.isDialogOpened,g=a.isFirstMessageInGroup,h=a.isFocused,l=a.isModal,m=a.message,n=a.messageDomID,o=a.nextMessage,p=a.outgoing,q=a.prevMessage,r=a.setFocusedInTransition,s=a.setHoveredInTransition,t=a.setIsDialogOpened;a=a.stopHoveringRef;var u=c("useMWPEditMessageDeemphasizer")(),v=c("useMWMessageRowTheme")(),w;b[0]!==u?(w=[u,k.adminMessageContainer],b[0]=u,b[1]=w):w=b[1];b[2]!==m||b[3]!==o||b[4]!==q?(u=j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:m,nextMessage:o,prevMessage:q}),b[2]=m,b[3]=o,b[4]=q,b[5]=u):u=b[5];b[6]!==m||b[7]!==p?(o=j.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:m,outgoing:p,xstyle:k.adminMessageAttachment}),b[6]=m,b[7]=p,b[8]=o):o=b[8];b[9]!==w||b[10]!==u||b[11]!==o?(q=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:j.jsxs(c("BaseView.react"),{xstyle:w,children:[u,o]})}),b[9]=w,b[10]=u,b[11]=o,b[12]=q):q=b[12];w=q;if(m.adminMsgCtaType==null){b[13]!==w?(u=j.jsx(c("MWV2MessageRowSimple.react"),{children:w}),b[13]=w,b[14]=u):u=b[14];return u}else{o=g?void 0:e;b[15]!==o||b[16]!==f||b[17]!==h||b[18]!==l||b[19]!==m||b[20]!==n||b[21]!==p||b[22]!==r||b[23]!==s||b[24]!==t||b[25]!==a||b[26]!==v||b[27]!==w?(q=j.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:o,isDialogOpened:f,isFocused:h,isModal:l,message:m,messageDomID:n,outgoing:p,setFocused:r,setHovered:s,setIsDialogOpened:t,stopHoveringRef:a,theme:v,children:w}),b[15]=o,b[16]=f,b[17]=h,b[18]=l,b[19]=m,b[20]=n,b[21]=p,b[22]=r,b[23]=s,b[24]=t,b[25]=a,b[26]=v,b[27]=w,b[28]=q):q=b[28];return q}}g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);var e;b[0]!==a?(e=a&&j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useRef,l=b.c,m=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=l(9),e=a.attachments,f=a.children;a=a.message;e=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,e);var g=k(!1),h=d("MWPActor.react").useActor(),n=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext();n[0];var o=n[1];if(e){b[0]!==a?(n={message:a,onClose:c("emptyFunction")},b[0]=a,b[1]=n):n=b[1];e=(i||(i=d("I64"))).equal(h,a.senderId)?"start":"end";b[2]!==o||b[3]!==f?(h=function(a,b){g.current===!1&&(g.current=!0,o(b));return j.jsx("div",{ref:a,children:f})},b[2]=o,b[3]=f,b[4]=h):h=b[4];b[5]!==n||b[6]!==e||b[7]!==h?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:n,popoverResource:m,position:e,children:h}),b[5]=n,b[6]=e,b[7]=h,b[8]=a):a=b[8];return a}return f}g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=b.c,m={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=l(6),e=k(!1),f=e[0],g=e[1],h=j(a);e=b?m.mountAnimationOutgoing:m.mountAnimationIncoming;var n;d[0]!==a?(b=function(){a!==h.current&&g(!0),h.current=a},n=[a],d[0]=a,d[1]=b,d[2]=n):(b=d[1],n=d[2]);i(b,n);b=f?e:null;n=c("useDebouncedValue")(a,200);d[3]!==b||d[4]!==n?(f={mountAnimation:b,shouldShow:n,unmountAnimation:m.unmountAnimation},d[3]=b,d[4]=n,d[5]=f):f=d[5];return f}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={alignEnd:{end:"xds687c",transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=j(8),d=a.alreadyRenderedPin,e=a.children,f=a.message;a=a.outgoing;f=c("useMWPIsMessagePinned")(f);var g=c("usePinnedIconAnimation")(f,a),i=g.mountAnimation,m=g.shouldShow;g=g.unmountAnimation;if(!m||d){b[0]!==e?(m=k.jsx(k.Fragment,{children:e}),b[0]=e,b[1]=m):m=b[1];return m}b[2]!==e||b[3]!==a||b[4]!==f||b[5]!==i||b[6]!==g?(d=e&&k.jsxs("div",{className:"x1n2onr6",children:[k.jsx("div",{className:(h||(h=c("stylex")))([l.container,a?l.alignEnd:l.alignStart,f?i:g]),children:k.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),e]}),b[2]=e,b[3]=a,b[4]=f,b[5]=i,b[6]=g,b[7]=d):d=b[7];return d}g["default"]=a}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId(),null);d("MWChatInteraction").set(b,g);e!=null&&((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_CHAT))?a.addMetadata("entrypoint","chat"):(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",(h||(h=d("I64"))).to_string(f));return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.startHeroInteractionTrace=a}),98);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(6),e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),f=e.setVisibleMessage,g=c("useLSMessagingInitiatingSource")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("qpl")._(25301087,"7779"),b[0]=e):e=b[0];var h=c("useCometInteractionTracing")(e,"fast","INTERACTION");b[1]!==h||b[2]!==f||b[3]!==a||b[4]!==g?(e=function(b,c,e,i){var j=e!=null?e:"",k=i!=null?i:[];return h(function(e){f({contextLine:j,highlights:k,messageId:b,source:a,timestamp:c});return d("MWJumpToMessageLogger").startHeroInteractionTrace(e,b,g,d("MWVersion").v2)})},b[1]=h,b[2]=f,b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","gkx","justknobx","qex","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h,m={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=k(210),e=a.clickToNavigateToReply,f=a.earlyCheckForReplyStatus,g=a.isSecureMessage,h=a.mediaRenderQpl,m=a.message,o=a.outgoing,p=a.renderAttachment,q=a.renderCollection,r=a.renderExpiredMessage,s=a.renderGIF,t=a.renderMedia,u=a.renderPost,v=a.renderRaven,w=a.renderRemovedMessage,x=a.renderRollcallContribution,y=a.renderSticker,z=a.renderStory,A=a.renderTextMessage,B=a.renderUnavailableMessage,C=a.renderUnavailableStory;a=a.renderVideo;e=e===void 0?!0:e;f=f===void 0?!1:f;var D=c("justknobx")._("2738"),E=m.replyAttachmentId,F=m.replyAttachmentType,G=m.replyMessageText,H=m.replySourceTypeV2,I=m.replyStatus,J=H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)),K=H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),L=E!=null||J;if(K)if(C!=null){b[0]!==C||b[1]!==o?(K=l.jsx(C,{outgoing:o}),b[0]=C,b[1]=o,b[2]=K):K=b[2];K=K}else K=null;else if(F!=null&&L&&(!f||I!=null&&!(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))))if(((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&J){b[3]!==z||b[4]!==g||b[5]!==h||b[6]!==m||b[7]!==o?(L=l.jsx(z,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[3]=z,b[4]=g,b[5]=h,b[6]=m,b[7]=o,b[8]=L):L=b[8];K=L}else if(E!=null)if(D&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&p!=null)if(G!=null&&G!==""){b[9]!==A||b[10]!==g||b[11]!==m||b[12]!==o||b[13]!==G?(f=l.jsx(A,{isSecureMessage:g,message:m,outgoing:o,text:G}),b[9]=A,b[10]=g,b[11]=m,b[12]=o,b[13]=G,b[14]=f):f=b[14];K=f}else{b[15]!==p||b[16]!==g||b[17]!==h||b[18]!==m||b[19]!==o?(J=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[15]=p,b[16]=g,b[17]=h,b[18]=m,b[19]=o,b[20]=J):J=b[20];K=J}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))){b[21]!==p||b[22]!==g||b[23]!==h||b[24]!==m||b[25]!==o?(z=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[21]=p,b[22]=g,b[23]=h,b[24]=m,b[25]=o,b[26]=z):z=b[26];K=z}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO)))if(t!=null){b[27]!==t||b[28]!==g||b[29]!==h||b[30]!==m||b[31]!==o?(L=l.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[27]=t,b[28]=g,b[29]=h,b[30]=m,b[31]=o,b[32]=L):L=b[32];K=L}else{b[33]!==p||b[34]!==g||b[35]!==h||b[36]!==m||b[37]!==o?(f=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[33]=p,b[34]=g,b[35]=h,b[36]=m,b[37]=o,b[38]=f):f=b[38];K=f}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)))if(x!=null){b[39]!==x||b[40]!==g||b[41]!==h||b[42]!==m||b[43]!==o?(J=l.jsx(x,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[39]=x,b[40]=g,b[41]=h,b[42]=m,b[43]=o,b[44]=J):J=b[44];K=J}else{b[45]!==p||b[46]!==g||b[47]!==h||b[48]!==m||b[49]!==o?(z=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[45]=p,b[46]=g,b[47]=h,b[48]=m,b[49]=o,b[50]=z):z=b[50];K=z}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO)))if(c("qex")._("944")&&q!=null){b[51]!==q||b[52]!==m||b[53]!==o?(L=l.jsx(q,{message:m,outgoing:o}),b[51]=q,b[52]=m,b[53]=o,b[54]=L):L=b[54];K=L}else if(t!=null){b[55]!==t||b[56]!==g||b[57]!==h||b[58]!==m||b[59]!==o?(f=l.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[55]=t,b[56]=g,b[57]=h,b[58]=m,b[59]=o,b[60]=f):f=b[60];K=f}else{b[61]!==p||b[62]!==g||b[63]!==h||b[64]!==m||b[65]!==o?(x=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[61]=p,b[62]=g,b[63]=h,b[64]=m,b[65]=o,b[66]=x):x=b[66];K=x}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))if(a!=null){b[67]!==a||b[68]!==g||b[69]!==h||b[70]!==m||b[71]!==o?(J=l.jsx(a,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[67]=a,b[68]=g,b[69]=h,b[70]=m,b[71]=o,b[72]=J):J=b[72];K=J}else{b[73]!==p||b[74]!==g||b[75]!==h||b[76]!==m||b[77]!==o?(z=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[73]=p,b[74]=g,b[75]=h,b[76]=m,b[77]=o,b[78]=z):z=b[78];K=z}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))if(s!=null){b[79]!==s||b[80]!==g||b[81]!==h||b[82]!==m||b[83]!==o?(q=l.jsx(s,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[79]=s,b[80]=g,b[81]=h,b[82]=m,b[83]=o,b[84]=q):q=b[84];K=q}else{b[85]!==p||b[86]!==g||b[87]!==h||b[88]!==m||b[89]!==o?(L=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[85]=p,b[86]=g,b[87]=h,b[88]=m,b[89]=o,b[90]=L):L=b[90];K=L}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)))if(y!=null){b[91]!==y||b[92]!==g||b[93]!==h||b[94]!==m||b[95]!==o?(f=l.jsx(y,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[91]=y,b[92]=g,b[93]=h,b[94]=m,b[95]=o,b[96]=f):f=b[96];K=f}else{b[97]!==p||b[98]!==g||b[99]!==h||b[100]!==m||b[101]!==o?(x=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[97]=p,b[98]=g,b[99]=h,b[100]=m,b[101]=o,b[102]=x):x=b[102];K=x}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))){b[103]!==p||b[104]!==g||b[105]!==h||b[106]!==m||b[107]!==o?(a=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[103]=p,b[104]=g,b[105]=h,b[106]=m,b[107]=o,b[108]=a):a=b[108];K=a}else if(u!=null){b[109]!==u||b[110]!==g||b[111]!==h||b[112]!==m||b[113]!==o?(J=l.jsx(u,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[109]=u,b[110]=g,b[111]=h,b[112]=m,b[113]=o,b[114]=J):J=b[114];K=J}else{z="Unknown attachment type: "+(i||(i=d("I64"))).to_string(F);b[115]!==z?(s=c("recoverableViolation")(z,"messenger_comet"),b[115]=z,b[116]=s):s=b[116];K=s}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&y!=null){b[117]!==y||b[118]!==g||b[119]!==h||b[120]!==m||b[121]!==o?(q=l.jsx(y,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[117]=y,b[118]=g,b[119]=h,b[120]=m,b[121]=o,b[122]=q):q=b[122];K=q}else if(!D&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&p!=null)if(G!=null&&G!==""){b[123]!==A||b[124]!==g||b[125]!==m||b[126]!==o||b[127]!==G?(L=l.jsx(A,{isSecureMessage:g,message:m,outgoing:o,text:G}),b[123]=A,b[124]=g,b[125]=m,b[126]=o,b[127]=G,b[128]=L):L=b[128];K=L}else{b[129]!==p||b[130]!==g||b[131]!==h||b[132]!==m||b[133]!==o?(f=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[129]=p,b[130]=g,b[131]=h,b[132]=m,b[133]=o,b[134]=f):f=b[134];K=f}else K=null;else if(H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&G!=null&&G!==""){x=(i||(i=d("I64"))).of_float(Date.now());a=m.replyMediaExpirationTimestampMs;u=a!=null&&(i||(i=d("I64"))).gt(x,a)&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero);if(u)K=null;else{b[135]!==A||b[136]!==g||b[137]!==m||b[138]!==o||b[139]!==G?(J=l.jsx(A,{isSecureMessage:g,message:m,outgoing:o,text:G}),b[135]=A,b[136]=g,b[137]=m,b[138]=o,b[139]=G,b[140]=J):J=b[140];K=J}}else if(E!=null)if(t!=null){b[141]!==t||b[142]!==g||b[143]!==h||b[144]!==m||b[145]!==o?(z=l.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[141]=t,b[142]=g,b[143]=h,b[144]=m,b[145]=o,b[146]=z):z=b[146];K=z}else{b[147]!==p||b[148]!==g||b[149]!==h||b[150]!==m||b[151]!==o?(s=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[147]=p,b[148]=g,b[149]=h,b[150]=m,b[151]=o,b[152]=s):s=b[152];K=s}else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&v!=null){b[153]!==v||b[154]!==g||b[155]!==h||b[156]!==m||b[157]!==o?(y=l.jsx(v,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[153]=v,b[154]=g,b[155]=h,b[156]=m,b[157]=o,b[158]=y):y=b[158];K=y}else if(I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))if(w!=null){b[159]!==w||b[160]!==o?(q=l.jsx(w,{outgoing:o}),b[159]=w,b[160]=o,b[161]=q):q=b[161];K=q}else K=null;else if(I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED)))if(r!=null){b[162]!==r||b[163]!==g||b[164]!==h||b[165]!==m||b[166]!==o?(D=l.jsx(r,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[162]=r,b[163]=g,b[164]=h,b[165]=m,b[166]=o,b[167]=D):D=b[167];K=D}else K=null;else if(I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE)))if(B!=null){b[168]!==B||b[169]!==o?(L=l.jsx(B,{outgoing:o}),b[168]=B,b[169]=o,b[170]=L):L=b[170];K=L}else K=null;else if(G!=null&&H!=null&&(i||(i=d("I64"))).equal(H,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)))if(G!==""){b[171]!==A||b[172]!==g||b[173]!==m||b[174]!==o||b[175]!==G?(f=l.jsx(A,{isSecureMessage:g,message:m,outgoing:o,text:G}),b[171]=A,b[172]=g,b[173]=m,b[174]=o,b[175]=G,b[176]=f):f=b[176];K=f}else{b[177]!==p||b[178]!==g||b[179]!==h||b[180]!==m||b[181]!==o?(x=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[177]=p,b[178]=g,b[179]=h,b[180]=m,b[181]=o,b[182]=x):x=b[182];K=x}else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&c("gkx")("1327"))if(C!=null){b[183]!==C||b[184]!==o?(a=l.jsx(C,{outgoing:o}),b[183]=C,b[184]=o,b[185]=a):a=b[185];K=a}else{b[186]!==p||b[187]!==g||b[188]!==h||b[189]!==m||b[190]!==o?(u=l.jsx(p,{isSecureMessage:g,mediaRenderQpl:h,message:m,outgoing:o}),b[186]=p,b[187]=g,b[188]=h,b[189]=m,b[190]=o,b[191]=u):u=b[191];K=u}else K=null;b[192]===Symbol["for"]("react.memo_cache_sentinel")?(J="x193iq5w x1n2onr6 x1vjfegm",b[192]=J):J=b[192];b[193]!==K?(E=l.jsx("div",{className:J,children:K}),b[193]=K,b[194]=E):E=b[194];t=E;var M=m.replySourceTimestampMs,N=m.replySourceId,O=c("useMWJumpToMessage")("Pinned");z=F!=null&&((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var P=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();s=c("useIsRollcallEnabled")(m.threadKey);v=(j||(j=d("LSIntEnum"))).equal(m.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(j||(j=d("LSIntEnum"))).equal(m.replyAttachmentId,0);if(N!=null&&M!=null&&e&&!v){b[195]!==O||b[196]!==N||b[197]!==M?(y=function(){O(N,M)},b[195]=O,b[196]=N,b[197]=M,b[198]=y):y=b[198];w=y;if(z&&s){if(b[199]!==m.replyAttachmentExtra){r=(i||(i=d("I64"))).of_string((q=m.replyAttachmentExtra)!=null?q:"0");b[199]=m.replyAttachmentExtra;b[200]=r}else r=b[200];var Q=r,R=m.threadKey,S=(D=m.replySourceId)!=null?D:null;b[201]!==P||b[202]!==Q||b[203]!==R||b[204]!==S||b[205]!==m.messageId?(I=function(){P(Q,R,S,null,m.messageId)},b[201]=P,b[202]=Q,b[203]=R,b[204]=S,b[205]=m.messageId,b[206]=I):I=b[206];w=I}b[207]!==w||b[208]!==t?(B=l.jsx(c("MWXPressable.react"),{onPress:w,overlayDisabled:!0,xstyle:n,children:t}),b[207]=w,b[208]=t,b[209]=B):B=b[209];return B}else return t}function n(){return[m.pressable]}g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=k(9),d=a.children,e=a.fontStyle;a=a.outgoing;e=e===void 0?"normal":e;a=a?"right":"left";var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),b[0]=f):f=b[0];e=e==="italic"&&m.italic;var g;b[1]!==e?(g=(i||(i=c("stylex")))(m.content,e),b[1]=e,b[2]=g):g=b[2];b[3]!==g||b[4]!==d?(e=l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:l.jsx("div",{className:g,"data-testid":void 0,children:d})}),b[3]=g,b[4]=d,b[5]=e):e=b[5];b[6]!==a||b[7]!==e?(g=l.jsxs(c("MWXMessageBubble.react"),{align:a,color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[f,e]}),b[6]=a,b[7]=e,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon.react","MWXMessageReplyBubble.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c;function a(a){var b=m(9),e=a.mediaRenderQpl;a=a.outgoing;var f,g;b[0]!==e?(f=function(){e==null?void 0:e.addPoint("render-replies-attachment")},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);l(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__ExfgVu3ZeIV__JHASH__"),b[3]=f):f=b[3];g=f;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f="x6s0dn4 x78zum5",b[4]=f):f=b[4];var j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j="x1lliihq x1i64zmx",b[5]=j):j=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsxs("div",{className:f,children:[g,k.jsx("span",{className:j,children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]}),b[6]=f):f=b[6];b[7]!==a?(g=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c;function a(a){var b=l(6),d=a.mediaRenderQpl;a=a.outgoing;var e,f;b[0]!==d?(e=function(){d==null?void 0:d.addPoint("render-replies-expired"),d==null?void 0:d.endSuccess()},f=[d],b[0]=d,b[1]=e,b[2]=f):(e=b[1],f=b[2]);k(e,f);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__LRWYiWT4b63__JHASH__"),b[3]=e):e=b[3];f=e;b[4]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:f}),b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=b==="ChatTab";b=b?180:300;var c;a[0]!==b?(c={maxHeight:100,maxWidth:b},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWPThreadCapabilitiesContext","MWXMessageImage.react","cr:4509","gkx","react","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.c,l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=k(27),f=a.height,g=a.imageAlt,h=a.isSticker,m=a.mediaRenderQpl,n=a.outgoing,o=a.src;a=a.width;g=g===void 0?"":g;h=h===void 0?!1:h;var p=c("useMWRepliesImageGetMaxDimensions")(),q=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();q=q.blurMediaEnabled;q=c("gkx")("24098")&&q;n=h?!1:n?l.outgoing:l.incoming;var r;e[0]!==m?(r=function(){m==null?void 0:m.endFail("load-image-error")},e[0]=m,e[1]=r):r=e[1];r=r;var s;e[2]!==m?(s=function(){m==null?void 0:m.endSuccess()},e[2]=m,e[3]=s):s=e[3];s=s;var t;e[4]!==f?(t=f!=null?(i||(i=d("I64"))).to_float(f):void 0,e[4]=f,e[5]=t):t=e[5];e[6]!==a?(f=a!=null?(i||(i=d("I64"))).to_float(a):void 0,e[6]=a,e[7]=f):f=e[7];a=h&&l.rootHasSticker;var u;e[8]!==a||e[9]!==n?(u=[l.root,a,n],e[8]=a,e[9]=n,e[10]=u):u=e[10];e[11]!==g||e[12]!==t||e[13]!==p.maxHeight||e[14]!==p.maxWidth||e[15]!==r||e[16]!==s||e[17]!==o||e[18]!==f||e[19]!==u?(a=j.jsx(c("MWXMessageImage.react"),{alt:g,height:t,maxHeight:p.maxHeight,maxWidth:p.maxWidth,onError:r,onLoad:s,src:o,width:f,xstyle:u}),e[11]=g,e[12]=t,e[13]=p.maxHeight,e[14]=p.maxWidth,e[15]=r,e[16]=s,e[17]=o,e[18]=f,e[19]=u,e[20]=a):a=e[20];g=a;if(b("cr:4509")!=null&&q&&!h){e[21]!==n?(t=[l.root,n],e[21]=n,e[22]=t):t=e[22];e[23]!==o||e[24]!==t||e[25]!==g?(p=j.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:o,xstyle:t,children:g}),e[23]=o,e[24]=t,e[25]=g,e[26]=p):p=e[26];return p}return g}g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MAWGetIsMediaDownloadStatusEnabled","MWRepliesImage.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.c;function o(a){var e=n(29),g=a.isSecureMessage,k=a.mediaRenderQpl,o=a.message;a=a.outgoing;g=g===void 0?!1:g;var p,q;e[0]!==k?(p=function(){k==null?void 0:k.addPoint("render-replies-gif-impl")},q=[k],e[0]=k,e[1]=p,e[2]=q):(p=e[1],q=e[2]);m(p,q);var r=(i||(i=c("useReStore")))();e[3]!==o.replyAttachmentPlaintextHash||e[4]!==o.replySourceId||e[5]!==o.replyAttachmentId||e[6]!==o.threadKey||e[7]!==r.tables.attachments?(p=function(){var a,b=(a=o.replyAttachmentPlaintextHash)!=null?a:null,c=(a=o.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=o.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(r.tables.attachments).getKeyRange(o.threadKey,c,(j||(j=d("I64"))).to_string(a))}},e[3]=o.replyAttachmentPlaintextHash,e[4]=o.replySourceId,e[5]=o.replyAttachmentId,e[6]=o.threadKey,e[7]=r.tables.attachments,e[8]=p):p=e[8];e[9]!==r||e[10]!==o?(q=[r,o],e[9]=r,e[10]=o,e[11]=q):q=e[11];p=d("ReQLSuspense").useFirst(p,q,f.id+":48");e[12]!==g||e[13]!==p?(q=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?p:null,e[12]=g,e[13]=p,e[14]=q):q=e[14];q=q;q=c("useMAWMediaStatusUIState")(q,k);q=q.downloadStatus;var s;if(p!=null)if(q!=="downloaded"&&g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled())s=null;else if(b("cr:9765")==null||!g){e[15]!==p?(q=d("LSMediaUrlAttachment").previewUrl(p),e[15]=p,e[16]=q):q=e[16];s=q}else{e[17]!==p.attachmentFbid||e[18]!==k?(g=b("cr:9765").getAttachmentBlobNonOptional(p.attachmentFbid,"MWRepliesGIF",k),e[17]=p.attachmentFbid,e[18]=k,e[19]=g):g=e[19];s=g}if(s!=null&&s!==""){e[20]!==o.replyMediaPreviewHeight||e[21]!==o.replyMediaPreviewWidth||e[22]!==k||e[23]!==a||e[24]!==s?(q=l.jsx(c("MWRepliesImage.react"),{height:o.replyMediaPreviewHeight,mediaRenderQpl:k,outgoing:a,src:s,width:o.replyMediaPreviewWidth}),e[20]=o.replyMediaPreviewHeight,e[21]=o.replyMediaPreviewWidth,e[22]=k,e[23]=a,e[24]=s,e[25]=q):q=e[25];return q}else{e[26]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._("__JHASH__kPmtZiB6viN__JHASH__"),e[26]=p):p=e[26];e[27]!==a?(g=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:p}),e[27]=a,e[28]=g):g=e[28];return g}}function a(a){var b=n(7),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-gif")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);m(a,e);b[5]!==d?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesGIF",children:l.jsx(o,babelHelpers["extends"]({},d))}),b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MAWGetIsMediaDownloadStatusEnabled","MWRepliesImage.react","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.c;function p(a){var e=o(56),g=a.isSecureMessage,l=a.mediaRenderQpl,p=a.message;a=a.outgoing;g=g===void 0?!1:g;var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._("__JHASH__bznTdd53oJN__JHASH__"),e[0]=q):q=e[0];q=q;e[1]!==a?(q=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:q}),e[1]=a,e[2]=q):q=e[2];q=q;var r=(j||(j=c("useReStore")))(),s;e[3]!==p.replySourceId||e[4]!==p.replyAttachmentPlaintextHash||e[5]!==p.replyAttachmentId||e[6]!==p.threadKey||e[7]!==r?(s=function(){var a=p.replySourceId;if(a!=null)if(p.replyAttachmentPlaintextHash!=null){var b=p.replyAttachmentPlaintextHash;return d("ReQL").fromTableAscending(r.tables.attachments).filter(function(c){return c.attachmentFbid===b&&c.messageId===a})}else if(p.replyAttachmentId!=null){var c=p.replyAttachmentId;return d("ReQL").fromTableAscending(r.tables.attachments).getKeyRange(p.threadKey,a,(k||(k=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=p.replySourceId,e[4]=p.replyAttachmentPlaintextHash,e[5]=p.replyAttachmentId,e[6]=p.threadKey,e[7]=r,e[8]=s):s=e[8];var t;e[9]!==r||e[10]!==p?(t=[r,p],e[9]=r,e[10]=p,e[11]=t):t=e[11];var u=d("ReQLSuspense").useFirst(s,t,f.id+":95");e[12]!==u||e[13]!==l?(s=function(){u!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(u)),l==null?void 0:l.addPoint("render-reply-media-impl",{bool:{has_db_attachment:u!=null}})},t=[u,l],e[12]=u,e[13]=l,e[14]=s,e[15]=t):(s=e[14],t=e[15]);n(s,t);s=c("useMWRepliesImageGetMaxDimensions")();e[16]!==g||e[17]!==u?(t=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?u:null,e[16]=g,e[17]=u,e[18]=t):t=e[18];t=t;var v=c("useMAWMediaStatusUIState")(t,l);v=v.downloadStatus;if(t!=null&&v!=="downloaded")return q;t=u!=null&&u.hasXma&&g&&u.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(u!=null&&u.hasXma&&g){v=(v=u.defaultCtaType)!=null?v:""}else v="";var w;e[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=new(c("IconSource"))("FB",i("1423124"),28),e[19]=w):w=e[19];w=w;if(t)if(v==="xma_montage_share"){e[20]===Symbol["for"]("react.memo_cache_sentinel")?(t="x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",v="x14vqqas xq8finb xod5an3 x16n37ib",e[20]=t,e[21]=v):(t=e[20],v=e[21]);e[22]!==w?(t=m.jsx("div",{className:t,children:m.jsx("div",{className:v,children:m.jsx(c("FDSIcon.react"),{icon:w})})}),e[22]=w,e[23]=t):t=e[23];return t}else{e[24]===Symbol["for"]("react.memo_cache_sentinel")?(v="x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",t="x14vqqas xq8finb xod5an3 x16n37ib",e[24]=v,e[25]=t):(v=e[24],t=e[25]);e[26]!==w?(v=m.jsx("div",{className:v,children:m.jsx("div",{className:t,children:m.jsx(c("FDSIcon.react"),{icon:w})})}),e[26]=w,e[27]=v):v=e[27];return v}if(g&&(u==null?void 0:u.hasMedia)===!1){if(e[28]!==p.replyMediaPreviewHeight){w=(k||(k=d("I64"))).to_float((t=p.replyMediaPreviewHeight)!=null?t:(k||(k=d("I64"))).of_float(100));e[28]=p.replyMediaPreviewHeight;e[29]=w}else w=e[29];v=s.maxHeight;t=s.maxWidth;if(e[30]!==p.replyMediaPreviewWidth){var x;x=(k||(k=d("I64"))).to_float((x=p.replyMediaPreviewWidth)!=null?x:(k||(k=d("I64"))).of_float(100));e[30]=p.replyMediaPreviewWidth;e[31]=x}else x=e[31];e[32]!==w||e[33]!==s.maxHeight||e[34]!==s.maxWidth||e[35]!==l||e[36]!==a||e[37]!==x?(v=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:w,maxHeight:v,maxWidth:t,mediaRenderQpl:l,outgoing:a,width:x}),e[32]=w,e[33]=s.maxHeight,e[34]=s.maxWidth,e[35]=l,e[36]=a,e[37]=x,e[38]=v):v=e[38];e[39]===Symbol["for"]("react.memo_cache_sentinel")?(t=m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0}),e[39]=t):t=e[39];e[40]!==v?(w=m.jsxs(m.Fragment,{children:[v,t]}),e[40]=v,e[41]=w):w=e[41];return w}e[42]!==g||e[43]!==u||e[44]!==l?(s=b("cr:9765")!=null&&g?function(a){if(u!=null&&u.hasXma){l==null?void 0:l.addPoint("fetch_reply_preview_url_xma_start");var c=a.replyAttachmentId!=null?b("cr:9765").getInfoUrlXMA(u,"preview","MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"maw_backend"}});return c}if(a.replyAttachmentPlaintextHash!=null){l==null?void 0:l.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});c=a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"plaintextHash"}});return c}else{l==null?void 0:l.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});c=a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesMedia",l):void 0;l==null?void 0:l.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(c)},string:{fetch_by:"mediaId"}});return c}}:c("getLSMediaMessageReplyMediaUrl"),e[42]=g,e[43]=u,e[44]=l,e[45]=s):s=e[45];x=s;e[46]!==x||e[47]!==p?(t=x(p),e[46]=x,e[47]=p,e[48]=t):t=e[48];v=t;if(v!=null&&v!==""){w=p.replyMediaPreviewHeight;e[49]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__eNDXc9eUfIy__JHASH__"),e[49]=g):g=e[49];e[50]!==p.replyMediaPreviewHeight||e[51]!==p.replyMediaPreviewWidth||e[52]!==l||e[53]!==a||e[54]!==v?(s=m.jsx(c("MWRepliesImage.react"),{height:w,imageAlt:g,mediaRenderQpl:l,outgoing:a,src:v,width:p.replyMediaPreviewWidth}),e[50]=p.replyMediaPreviewHeight,e[51]=p.replyMediaPreviewWidth,e[52]=l,e[53]=a,e[54]=v,e[55]=s):s=e[55];return s}return q}function a(a){var b=o(21),e=a.isSecureMessage,f=a.mediaRenderQpl,g=a.message;a=a.outgoing;e=e===void 0?!1:e;var h,i;b[0]!==f?(h=function(){f==null?void 0:f.addPoint("render-replies-media")},i=[f],b[0]=f,b[1]=h,b[2]=i):(h=b[1],i=b[2]);n(h,i);h=c("useMWRepliesImageGetMaxDimensions")();if(b[3]!==g.replyMediaPreviewHeight){i=(k||(k=d("I64"))).to_float((i=g.replyMediaPreviewHeight)!=null?i:(k||(k=d("I64"))).of_float(100));b[3]=g.replyMediaPreviewHeight;b[4]=i}else i=b[4];var j=h.maxHeight,l=h.maxWidth;if(b[5]!==g.replyMediaPreviewWidth){var q;q=(k||(k=d("I64"))).to_float((q=g.replyMediaPreviewWidth)!=null?q:(k||(k=d("I64"))).of_float(100));b[5]=g.replyMediaPreviewWidth;b[6]=q}else q=b[6];b[7]!==i||b[8]!==h.maxHeight||b[9]!==h.maxWidth||b[10]!==a||b[11]!==q?(j=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:i,maxHeight:j,maxWidth:l,outgoing:a,width:q}),b[7]=i,b[8]=h.maxHeight,b[9]=h.maxWidth,b[10]=a,b[11]=q,b[12]=j):j=b[12];b[13]!==e||b[14]!==f||b[15]!==g||b[16]!==a?(l=m.jsx(p,{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a}),b[13]=e,b[14]=f,b[15]=g,b[16]=a,b[17]=l):l=b[17];b[18]!==j||b[19]!==l?(i=m.jsx(c("CometPlaceholder.react"),{fallback:j,name:"MWRepliesMedia.Suspense",children:l}),b[18]=j,b[19]=l,b[20]=i):i=b[20];return i}g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.outgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__uG4wbYWD9QU__JHASH__"),b[0]=d):d=b[0];d=d;b[1]!==a?(d=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","stylex","useJSON","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useEffect,p=e.c,q=213,r=213,s={blurredImage:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},t=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._("__JHASH__YG4J77RBBDH__JHASH__"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=p(11),e;b[0]!==a?(e=babelHelpers["extends"]({},a),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-rollcall-contribution")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);o(a,f);a=e;f=a.message;b[5]!==f.replyAttachmentType||b[6]!==f.replyAttachmentId?(a=(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentId,0),b[5]=f.replyAttachmentType,b[6]=f.replyAttachmentId,b[7]=a):a=b[7];f=a;b[8]!==f||b[9]!==e?(a=n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:f?n.jsx(u,babelHelpers["extends"]({},e)):n.jsx(v,babelHelpers["extends"]({},e))}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}function u(a){var b=p(16),d=a.message;a=a.outgoing;var e;b[0]!==d?(e=t(d),b[0]=d,b[1]=e):e=b[1];e=e;d=c("useJSON")((d=d.replyAttachmentExtra)!=null?d:"{}");var f=d.avatar_height,g=d.avatar_url,h=d.avatar_width;d=d.owner_name;var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i="x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc",b[2]=i):i=b[2];var j;b[3]!==g||b[4]!==f||b[5]!==h?(j=g!=null&&n.jsx("div",{className:"x1emribx",children:n.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:f,uri:g,width:h}})}),b[3]=g,b[4]=f,b[5]=h,b[6]=j):j=b[6];b[7]!==d?(g=d!=null&&n.jsx(c("MWXText.react"),{type:"meta2",children:d}),b[7]=d,b[8]=g):g=b[8];b[9]!==j||b[10]!==g?(f=n.jsxs("div",{className:i,children:[j,g]}),b[9]=j,b[10]=g,b[11]=f):f=b[11];b[12]!==a||b[13]!==f||b[14]!==e?(h=n.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[f,e]}),b[12]=a,b[13]=f,b[14]=e,b[15]=h):h=b[15];return h}function v(a){var b=p(45),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h,k;b[0]!==e?(h=function(){e==null?void 0:e.addPoint("render-replies-rollcall-contribution-impl")},k=[e],b[0]=e,b[1]=h,b[2]=k):(h=b[1],k=b[2]);o(h,k);b[3]!==g?(h=t(g),b[3]=g,b[4]=h):h=b[4];k=h;var m=(i||(i=c("useReStore")))();if(b[5]!==g.replyAttachmentExtra){h=(l||(l=d("I64"))).of_string((h=g.replyAttachmentExtra)!=null?h:"0");b[5]=g.replyAttachmentExtra;b[6]=h}else h=b[6];var u=h;b[7]!==m.tables.roll_calls||b[8]!==u?(h=function(){return d("ReQL").fromTableAscending(m.tables.roll_calls).getKeyRange(u)},b[7]=m.tables.roll_calls,b[8]=u,b[9]=h):h=b[9];var v;b[10]!==m||b[11]!==u?(v=[m,u],b[10]=m,b[11]=u,b[12]=v):v=b[12];var w=d("ReQLSuspense").useFirst(h,v,f.id+":158"),x=g.threadKey;b[13]!==w||b[14]!==m||b[15]!==u||b[16]!==x?(h=function(){w||c("promiseDone")(m.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:u,threadKey:x})},"readwrite",void 0,void 0,f.id+":167"))},v=[w,u,x,m],b[13]=w,b[14]=m,b[15]=u,b[16]=x,b[17]=h,b[18]=v):(h=b[17],v=b[18]);d("Int64Hooks").useEffectInt64(h,v);v=(h=w==null?void 0:w.isBlurred)!=null?h:!1;if(b[19]!==g){h=c("getLSMediaMessageReplyMediaUrl")(g);var y;b[24]!==g.replyMediaPreviewHeight?(y=g.replyMediaPreviewHeight!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewHeight):0,b[24]=g.replyMediaPreviewHeight,b[25]=y):y=b[25];y=y;var z;b[26]!==g.replyMediaPreviewWidth?(z=g.replyMediaPreviewWidth!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewWidth):0,b[26]=g.replyMediaPreviewWidth,b[27]=z):z=b[27];z=z;var A=Math.min(1,q/y),B=Math.min(1,r/z),C;b[28]!==A||b[29]!==B||b[30]!==y?(C=Math.round(y*Math.min(A,B)),b[28]=A,b[29]=B,b[30]=y,b[31]=C):C=b[31];y=C;b[32]!==A||b[33]!==B||b[34]!==z?(C=Math.round(z*Math.min(A,B)),b[32]=A,b[33]=B,b[34]=z,b[35]=C):C=b[35];A=C;B=c("isStringNullOrEmpty")(h);b[19]=g;b[20]=B;b[21]=y;b[22]=A;b[23]=h}else B=b[20],y=b[21],A=b[22],h=b[23];if(!B){b[36]!==v||b[37]!==y||b[38]!==A||b[39]!==a||b[40]!==h?(z=v?n.jsx("div",{style:{height:y,width:A},children:n.jsx(c("FDSBlurredBackgroundImage.react"),{src:h,xstyle:[s.blurredImage,a&&s.outgoing]})}):n.jsx("div",{className:(j||(j=c("stylex")))([s.unblurredImageContainer,a&&s.outgoing]),style:{height:y,width:A},children:n.jsx(c("FDSImageCover.react"),{alt:"",src:h})}),b[36]=v,b[37]=y,b[38]=A,b[39]=a,b[40]=h,b[41]=z):z=b[41];return z}b[42]!==a||b[43]!==k?(C=n.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:k}),b[42]=a,b[43]=k,b[44]=C):C=b[44];return C}g["default"]=a}),226);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWGetIsMediaDownloadStatusEnabled","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","MAWStateContext.react","WAHashUtils","clearTimeout","gkx","justknobx","promiseDone","react","setTimeout","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.c,m=c("justknobx")._("3314");function a(a,b,e,f,g,h,n,o,p){var q=l(27),r=i(d("MAWStateContext.react").MAWDispatchContext),s=c("useAsyncReStore")(),t=k(!1),u;q[0]!==n||q[1]!==o?(u=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(n,o),q[0]=n,q[1]=o,q[2]=u):u=q[2];var v=u,w=k(null);q[3]!==v?(n=function(){var a=w.current;v&&c("clearTimeout")(a);return function(){c("clearTimeout")(a)}},o=[v],q[3]=v,q[4]=n,q[5]=o):(n=q[4],o=q[5]);j(n,o);q[6]!==g||q[7]!==a||q[8]!==f||q[9]!==b||q[10]!==v||q[11]!==h||q[12]!==r||q[13]!==s||q[14]!==e?(u=function(){if(!g||!a||f==null||b==null||t.current||v||!c("gkx")("5624"))return;t.current=!0;h==null?void 0:h.addPoint("media_receiver_fetch_task_start");var i=function(a){r({tag:"UpdateMediaStatus",value:{details:a,key:d("WAHashUtils").stringToPlaintextHash(b),status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"}})};c("promiseDone")(s,function(a){d("MAWIssueReceiverFetchTask").issueReceiverFetchTask(a,b,f,e,r),c("justknobx")._("3315")&&(w.current=c("setTimeout")(function(){d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()&&(h==null?void 0:h.addPoint("media_receiver_fetch_task_timeout"),i("media_receiver_fetch_task_timeout"))},m))},function(a){c("clearTimeout")(w.current),d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?(h==null?void 0:h.addPoint("media_receiver_fetch_task_fail"),i("media_receiver_fetch_task_fail")):h==null?void 0:h.endFail("media_receiver_fetch_task_fail"),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task on mount")})},q[6]=g,q[7]=a,q[8]=f,q[9]=b,q[10]=v,q[11]=h,q[12]=r,q[13]=s,q[14]=e,q[15]=u):u=q[15];q[16]!==s||q[17]!==v||q[18]!==r||q[19]!==g||q[20]!==h||q[21]!==b||q[22]!==f||q[23]!==e||q[24]!==a||q[25]!==p?(n=[s,v,r,g,h,b,f,e,a,p],q[16]=s,q[17]=v,q[18]=r,q[19]=g,q[20]=h,q[21]=b,q[22]=f,q[23]=e,q[24]=a,q[25]=p,q[26]=n):n=q[26];d("Int64Hooks").useEffectInt64(u,n)}g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MAWGetIsMediaDownloadStatusEnabled","MWRepliesImage.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","qex","react","useIssueMediaReceiverFetchTask","useMAWMediaStatusUIState","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect,n=e.c,o={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e=n(36),g=a.isSecureMessage,k=a.mediaRenderQpl,q=a.message;a=a.outgoing;g=g===void 0?!1:g;var r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__13yhS1gywbZ__JHASH__"),e[0]=r):r=e[0];r=r;e[1]!==a?(r=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:r}),e[1]=a,e[2]=r):r=e[2];r=r;var s=(i||(i=c("useReStore")))(),t;e[3]!==q.replyAttachmentPlaintextHash||e[4]!==q.replySourceId||e[5]!==q.replyAttachmentId||e[6]!==q.threadKey||e[7]!==s?(t=function(){var a=q.replyAttachmentPlaintextHash,b=q.replySourceId;if(a!=null&&b!=null)return d("ReQL").fromTableAscending(s.tables.attachments).filter(function(c){return c.attachmentFbid===a&&c.messageId===b});else{var c=q.replyAttachmentId;if(c!=null&&b!=null)return d("ReQL").fromTableAscending(s.tables.attachments).getKeyRange(q.threadKey,b,(j||(j=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=q.replyAttachmentPlaintextHash,e[4]=q.replySourceId,e[5]=q.replyAttachmentId,e[6]=q.threadKey,e[7]=s,e[8]=t):t=e[8];var u;e[9]!==s||e[10]!==q?(u=[s,q],e[9]=s,e[10]=q,e[11]=u):u=e[11];var v=d("ReQLSuspense").useFirst(t,u,f.id+":81");e[12]!==v?(t=v?c("isReceiverFetchSticker")(v):!1,e[12]=v,e[13]=t):t=e[13];c("useIssueMediaReceiverFetchTask")(t,q.replySourceId,q.threadKey,v==null?void 0:v.receiverFetchId,g,k,v==null?void 0:v.previewUrl,v==null?void 0:v.previewUrlExpirationTimestampMs,v==null?void 0:v.attachmentType);e[14]!==v||e[15]!==k?(u=function(){v!=null&&(k==null?void 0:k.addAttachmentAnnotations==null?void 0:k.addAttachmentAnnotations(v)),k==null?void 0:k.addPoint("render-replies-sticker",{bool:{has_db_attachment:v!=null}})},t=[v,k],e[14]=v,e[15]=k,e[16]=u,e[17]=t):(u=e[16],t=e[17]);m(u,t);e[18]!==g||e[19]!==v?(u=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?v:null,e[18]=g,e[19]=v,e[20]=u):u=e[20];t=u;u=c("useMAWMediaStatusUIState")(t,k);u=u.downloadStatus;if(t!=null&&u!=="downloaded")return r;u=(t=q.replyMessageText)!=null?t:"";t=(b("cr:2472")!=null?b("cr:2472").unvault(u):u)==="\ud83d\udc4d";if(t){e[21]===Symbol["for"]("react.memo_cache_sentinel")?(u=l.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:c("LSHotEmojiSize").NONE,xstyle:!c("gkx")("23249")&&c("qex")._("131")===!0?o.replyHotLikeStickerV2:o.replyHotLikeSticker}),e[21]=u):u=e[21];return u}e[22]!==q?(t=c("getLSMediaMessageReplyMediaUrl")(q),e[22]=q,e[23]=t):t=e[23];u=t;if(u!=null&&v==null){e[24]!==q.replyMediaPreviewHeight||e[25]!==q.replyMediaPreviewWidth||e[26]!==k||e[27]!==a||e[28]!==u?(t=l.jsx(c("MWRepliesImage.react"),{height:q.replyMediaPreviewHeight,isSticker:!0,mediaRenderQpl:k,outgoing:a,src:u,width:q.replyMediaPreviewWidth}),e[24]=q.replyMediaPreviewHeight,e[25]=q.replyMediaPreviewWidth,e[26]=k,e[27]=a,e[28]=u,e[29]=t):t=e[29];return t}if(v==null)return r;if(b("cr:9765")==null||!g||v.receiverFetchId!=null)a=p;else{e[30]!==k?(u=function(a){return b("cr:9765").getAttachmentBlobNonOptional(a.attachmentFbid,"MWRepliesSticker",k)},e[30]=k,e[31]=u):u=e[31];a=u}e[32]!==v||e[33]!==a||e[34]!==k?(t=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesSticker",children:l.jsx(c("MWV2Sticker.react"),{attachment:v,getPreviewUrl:a,mediaRenderQpl:k,scale:.6,xstyle:o.replySticker})}),e[32]=v,e[33]=a,e[34]=k,e[35]=t):t=e[35];return t}function p(a){return d("LSMediaUrlAttachment").previewUrl(a)}g["default"]=a}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;var m=e.useEffect,n=e.c;function a(a){var b=n(7),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-story")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);m(a,e);b[5]!==d?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:l.jsx(o,babelHelpers["extends"]({},d))}),b[5]=d,b[6]=a):a=b[6];return a}function o(a){var e=n(34),f=a.isSecureMessage,g=a.mediaRenderQpl,i=a.message;a=a.outgoing;f=f===void 0?!1:f;var o=i.replySourceId;if(e[0]!==o||e[1]!==f){var p;p=o!=null?f?o:(p=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+o),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(p=p.setProtocol("https"))==null?void 0:p.toString():void 0;e[0]=o;e[1]=f;e[2]=p}else p=e[2];o=p;var q;e[3]!==g||e[4]!==i.replyAttachmentId||e[5]!==i.replyAttachmentPlaintextHash||e[6]!==i.replyMediaUrlMimeType||e[7]!==i.replySourceId?(p=function(){g==null?void 0:g.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:i.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:i.replyAttachmentPlaintextHash!=null,has_reply_mime_type:i.replyMediaUrlMimeType!=null,has_reply_source_id:i.replySourceId!=null}}),g==null?void 0:g.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},q=[g,i.replyAttachmentId,i.replyAttachmentPlaintextHash,i.replyMediaUrlMimeType,i.replySourceId],e[3]=g,e[4]=i.replyAttachmentId,e[5]=i.replyAttachmentPlaintextHash,e[6]=i.replyMediaUrlMimeType,e[7]=i.replySourceId,e[8]=p,e[9]=q):(p=e[8],q=e[9]);d("Int64Hooks").useEffectInt64(p,q);e[10]!==f||e[11]!==g?(p=b("cr:9765")!=null&&f?function(a){if(c("gkx")("6417")){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional(a.replyAttachmentPlaintextHash,"MWRepliesStory",g):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",g):null}:c("getLSMediaMessageReplyMediaUrl"),e[10]=f,e[11]=g,e[12]=p):p=e[12];q=p;e[13]!==q||e[14]!==i?(f=q(i),e[13]=q,e[14]=i,e[15]=f):f=e[15];var r=f;e[16]!==r||e[17]!==g||e[18]!==i.replyAttachmentPlaintextHash?(p=function(){r==null&&(g==null?void 0:g.endFail("missing-reply-media",{bool:{has_plaintexthash:i.replyAttachmentPlaintextHash!=null}}))},q=[g,i.replyAttachmentPlaintextHash,r],e[16]=r,e[17]=g,e[18]=i.replyAttachmentPlaintextHash,e[19]=p,e[20]=q):(p=e[19],q=e[20]);m(p,q);if(r==null){e[21]!==a||e[22]!==g?(f=c("gkx")("4795")&&l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:g,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)}),e[21]=a,e[22]=g,e[23]=f):f=e[23];return f}e[24]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._("__JHASH__thxINaLEtLl__JHASH__"),e[24]=p):p=e[24];e[25]!==o?(q=o!=null?{url:o}:void 0,e[25]=o,e[26]=q):q=e[26];e[27]!==g||e[28]!==a||e[29]!==r?(f=l.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:g,outgoing:a,src:r}),e[27]=g,e[28]=a,e[29]=r,e[30]=f):f=e[30];e[31]!==q||e[32]!==f?(o=l.jsx(c("MWXPressable.react"),{"aria-label":p,linkProps:q,overlayDisabled:!0,children:f}),e[31]=q,e[32]=f,e[33]=o):o=e[33];return o}g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.isSecureMessage,f=a.message,g=a.outgoing,h=a.text;a=j(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]}},[]);var k=j(function(){return d("MWChatTextFormatting").getFormattingRanges(h)},[h]),l=j(function(){var a;return new Set(e?(a=(a=f.mentionIds)==null?void 0:a.split==null?void 0:a.split(","))!=null?a:[]:[])},[e,f.mentionIds]),m=b("cr:2472")==null?h:b("cr:2472").unvault(h);l=(l=(l=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],l))==null?void 0:l.textWithSubstitutions)!=null?l:m;return i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:g,children:i.jsx("div",{className:"xi81zsa x126k92a",children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:a,text:l,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.outgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__3TzRhHHRgwV__JHASH__"),b[0]=d):d=b[0];d=d;b[1]!==a?(d=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MAWGetIsMediaDownloadStatusEnabled","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","useMAWMediaStatusUIState","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;e.useCallback;var n=e.useEffect,o=e.useRef,p=e.c,q={thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function r(a){var e=p(68),g=a.isSecureMessage,l=a.mediaRenderQpl,r=a.message;a=a.outgoing;g=g===void 0?!1:g;var s=c("useMWRepliesImageGetMaxDimensions")(),t=s.maxHeight;s=s.maxWidth;var u=(j||(j=c("useReStore")))(),v;e[0]!==r.replyAttachmentPlaintextHash||e[1]!==r.replySourceId||e[2]!==r.replyAttachmentId||e[3]!==r.threadKey||e[4]!==u.tables.attachments?(v=function(){var a,b=r.replyAttachmentPlaintextHash,c=(a=r.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(u.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=r.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(r.threadKey,c,(k||(k=d("I64"))).to_string(a))}},e[0]=r.replyAttachmentPlaintextHash,e[1]=r.replySourceId,e[2]=r.replyAttachmentId,e[3]=r.threadKey,e[4]=u.tables.attachments,e[5]=v):v=e[5];var w;e[6]!==u||e[7]!==r?(w=[u,r],e[6]=u,e[7]=r,e[8]=w):w=e[8];var x=d("ReQLSuspense").useFirst(v,w,f.id+":73");e[9]!==x||e[10]!==l?(v=function(){x!=null&&(l==null?void 0:l.addAttachmentAnnotations==null?void 0:l.addAttachmentAnnotations(x)),l==null?void 0:l.addPoint("render-reply-video-impl",{bool:{has_db_attachment:x!=null}})},w=[x,l],e[9]=x,e[10]=l,e[11]=v,e[12]=w):(v=e[11],w=e[12]);n(v,w);e[13]!==g||e[14]!==x?(v=g&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?x:null,e[13]=g,e[14]=x,e[15]=v):v=e[15];w=v;v=c("useMAWMediaStatusUIState")(w,l);v=v.downloadStatus;var y;if(x!=null)if(w!=null&&v!=="downloaded")y=null;else if(b("cr:9765")==null||!g){e[16]!==x?(w=d("LSMediaUrlAttachment").previewUrl(x),e[16]=x,e[17]=w):w=e[17];y=w}else{e[18]!==x.attachmentFbid||e[19]!==l?(v=b("cr:9765").getAttachmentBlobNonOptional(x.attachmentFbid,"MWRepliesVideo",l),e[18]=x.attachmentFbid,e[19]=l,e[20]=v):v=e[20];y=v}w=o(null);e[21]!==l?(v=function(a){l==null?void 0:l.endFail("load-video-error",{string:{video_error_name:a}})},e[21]=l,e[22]=v):v=e[22];var z=v;e[23]!==l?(v=function(){l==null?void 0:l.endSuccess()},e[23]=l,e[24]=v):v=e[24];v=v;if(y==null){l==null?void 0:l.endSuccess();var A;e[25]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._("__JHASH__7WGJ1daCkBD__JHASH__"),e[25]=A):A=e[25];e[26]!==a?(A=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:A}),e[26]=a,e[27]=A):A=e[27];return A}e[28]!==r.replyMediaPreviewHeight?(a=r.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(r.replyMediaPreviewHeight):void 0,e[28]=r.replyMediaPreviewHeight,e[29]=a):a=e[29];A=a;e[30]!==r.replyMediaPreviewWidth?(a=r.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(r.replyMediaPreviewWidth):void 0,e[30]=r.replyMediaPreviewWidth,e[31]=a):a=e[31];a=a;if((x==null?void 0:x.previewUrlMimeType)!=null&&!g){e[32]!==z?(g=function(){return z()},e[32]=z,e[33]=g):g=e[33];var B;e[34]!==A||e[35]!==t||e[36]!==s||e[37]!==g||e[38]!==v||e[39]!==y||e[40]!==a?(B=m.jsx(c("MWXMessageImage.react"),{alt:"",height:A,maxHeight:t,maxWidth:s,onError:g,onLoad:v,src:y,width:a,xstyle:q.thumbnail}),e[34]=A,e[35]=t,e[36]=s,e[37]=g,e[38]=v,e[39]=y,e[40]=a,e[41]=B):B=e[41];g=B}else{e[42]!==z||e[43]!==v?(B=m.jsx(c("MWXVideoStatusListener.react"),{onError:z,onLoad:v,videoRef:w}),e[42]=z,e[43]=v,e[44]=B):B=e[44];var C;e[45]===Symbol["for"]("react.memo_cache_sentinel")?(C="x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",e[45]=C):C=e[45];A=A!=null&&A>t?"100%":A;var D;e[46]!==t||e[47]!==s?(D={maxHeight:t,maxWidth:s},e[46]=t,e[47]=s,e[48]=D):D=e[48];t=a!=null&&a>s?"100%":a;e[49]!==A||e[50]!==y||e[51]!==D||e[52]!==t?(s=m.jsx("video",{alt:"",className:C,height:A,ref:w,src:y,style:D,width:t}),e[49]=A,e[50]=y,e[51]=D,e[52]=t,e[53]=s):s=e[53];e[54]!==B||e[55]!==s?(a=m.jsxs(m.Fragment,{children:[B,s]}),e[54]=B,e[55]=s,e[56]=a):a=e[56];g=a}e[57]===Symbol["for"]("react.memo_cache_sentinel")?(C="x1n2onr6",e[57]=C):C=e[57];w=g;e[58]===Symbol["for"]("react.memo_cache_sentinel")?(A="x6s0dn4 x78zum5 xdt5ytf x5yr21d x17qophe xl56j7k x10l6tqk x13vifvy xh8yej3",e[58]=A):A=e[58];e[59]!==z?(D=function(){return z()},e[59]=z,e[60]=D):D=e[60];e[61]===Symbol["for"]("react.memo_cache_sentinel")?(t=i("354763"),e[61]=t):t=e[61];e[62]!==D||e[63]!==v?(B=m.jsx("div",{className:A,children:m.jsx(c("MWXImage.react"),{onError:D,onLoad:v,src:t})}),e[62]=D,e[63]=v,e[64]=B):B=e[64];e[65]!==g||e[66]!==B?(s=m.jsxs("div",{className:C,children:[w,B]}),e[65]=g,e[66]=B,e[67]=s):s=e[67];return s}function a(a){var b=p(7),d;b[0]!==a?(d=babelHelpers["extends"]({},a),b[0]=a,b[1]=d):d=b[1];var e;b[2]!==d.mediaRenderQpl?(a=function(){var a;(a=d.mediaRenderQpl)==null?void 0:a.addPoint("render-replies-video")},e=[d.mediaRenderQpl],b[2]=d.mediaRenderQpl,b[3]=a,b[4]=e):(a=b[3],e=b[4]);n(a,e);b[5]!==d?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:m.jsx(r,babelHelpers["extends"]({},d))}),b[5]=d,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","cr:6968","react","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function a(a){var e=k(20),f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;f=f===void 0?!1:f;var l=c("MWBlockingProtectionContext.react").useHook();l=l.findMessageId;var m=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(h.replyToUserId,h.threadKey);if(e[0]!==m||e[1]!==h.replySourceId||e[2]!==l){var n;n=m&&!l((n=h.replySourceId)!=null?n:"");e[0]=m;e[1]=h.replySourceId;e[2]=l;e[3]=n}else n=e[3];var o=n,p=c("useMWJumpToMessage")("Pinned");e[4]!==g||e[5]!==o?(m=function(){g==null?void 0:g.addPoint("render-replied-message",{bool:{show_blocking_tombstone:o}})},l=[g,o],e[4]=g,e[5]=o,e[6]=m,e[7]=l):(m=e[6],l=e[7]);j(m,l);if(o){var q=h.replySourceTimestampMs,r=h.replySourceId;e[8]!==r||e[9]!==q||e[10]!==p?(n=function(){r!=null&&q&&p(r,q)},e[8]=r,e[9]=q,e[10]=p,e[11]=n):n=e[11];e[12]!==h.messageId||e[13]!==n?(m=i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{messageId:h.messageId,onClick:n,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),e[12]=h.messageId,e[13]=n,e[14]=m):m=e[14];return m}if(e[15]!==f||e[16]!==g||e[17]!==h||e[18]!==a){n=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:(l=b("cr:6968"))!=null?l:void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderUnavailableStory:c("MWStoryUnavailable.react"),renderVideo:c("MWRepliesVideo.react")});e[15]=f;e[16]=g;e[17]=h;e[18]=a;e[19]=n}else n=e[19];return n}g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentUser","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","justknobx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef,m=e.c;function a(a,b){return n(a,b,o,!1)}function b(a,b){var c=m(4),e;c[0]!==a.replyAttachmentType?(e=d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType),c[0]=a.replyAttachmentType,c[1]=e):e=c[1];var f;c[2]!==e?(f={string:{reply_attachment_type:e}},c[2]=e,c[3]=f):f=c[3];return n(a,b,p,!0,f)}function n(a,b,e,f,g){g===void 0&&(g={});var h=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),m=d("MWPActor.react").useActor(),n=i.equal(a.senderId,m),o=c("useLSMessagingInitiatingSource")(),p=c("useXMAPreviewsDisabledSetting")(),q=l(!1),r=d("Int64Hooks").useMemoInt64(function(){var j;if(!e(a,b))return null;var k=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,h,f),l=c("CurrentUser").getAppID();l={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_message_xma_receiver_fetch_params:a.xmaReceiverFetchParams!=null,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_expired:a.isExpired,is_forwarded:(j=a.isForwarded)!=null?j:!1,is_optimistic:h,is_outgoing:n,is_pdb:Boolean(c("gkx")("8483")),is_reply_to_media:f,is_unsent:a.isUnsent,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{app_id:(j=l)!=null?j:void 0,content_type:f&&a.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(a),entry_point:"thread_view",message_age_bucket:c("justknobx")._("1613")?d("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(a.primarySortKey):void 0,messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(o),mw_version:(i||(i=d("I64"))).to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};j=c("mergeDeep")(l,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").event,k,q,j),{addAttachmentAnnotations:function(a){var b;c("QPLUserFlow").addAnnotations(d("MWMediaRenderQplUtils").event,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:p},string:{attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,sanitized_plaintext_hash:s(a),xma_content_type:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType}},{instanceKey:k})}})},[h,a.displayedContentTypes]);m=c("usePartialViewImpression")({onImpressionEnd:function(){c("justknobx")._("3028")&&(q.current===!1&&(r==null?void 0:r.addPoint("message-row-hidden"),r==null?void 0:r.addAnnotations({bool:{message_row_is_hidden:!0}})))},onImpressionStart:function(){c("justknobx")._("3028")&&(q.current===!1&&(r==null?void 0:r.addPoint("message-row-visible"),r==null?void 0:r.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}})))}});k(function(){r==null?void 0:r.start();r==null?void 0:r.addPoint("message-row-mounted");return function(){q.current===!1&&(r==null?void 0:r.getInstanceKey())!=null&&(r==null?void 0:r.addPoint("message-row-unmounted"),r==null?void 0:r.endCancel(706))}},[r]);return{mediaRenderQpl:r,messageRowRef:m}}function o(a,b){if(q(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function p(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&r(a)}function q(a){return a.isUnsent||a.isExpired}function r(a){return a.replyStatus!=null&&(i||(i=d("I64"))).equal(a.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID))}function s(a){return!c("gkx")("23916")||a==null||isFinite(a.attachmentFbid)?void 0:d("WAHashUtils").sanitisePlaintextHash(d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid))}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.outgoing;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__962PS6SI-P2__JHASH__"),b[0]=d):d=b[0];b[1]!==a?(d=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c;function a(a){var b=k(2),e;b[0]!==a.replySourceTypeV2?(e=a.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(a.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA)),b[0]=a.replySourceTypeV2,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect,m=b.c,n={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function a(a){var b=m(31),e=a.outgoing,f=a.isGroupThread,g=a.isSecureMessage,h=a.message;a=a.threadType;var o=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();o=o.isStandardMessageList;var p=c("useMWIsReplyToAuthor")(h),q;b[0]!==h.replySourceTypeV2?(q=h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),b[0]=h.replySourceTypeV2,b[1]=q):q=b[1];q=q;var r;b[2]!==h.replyMediaExpirationTimestampMs?(r=h.replyMediaExpirationTimestampMs!=null?(i||(i=d("I64"))).gt(h.replyMediaExpirationTimestampMs,(i||(i=d("I64"))).zero):!0,b[2]=h.replyMediaExpirationTimestampMs,b[3]=r):r=b[3];r=r;q=h.replySourceId==null?q:r;r=p||q;b[4]!==f||b[5]!==h?(p=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:k.jsx(c("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:f,message:h})}),b[4]=f,b[5]=h,b[6]=p):p=b[6];q=p;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"x1xc55vz",role:"none"}),b[7]=f):f=b[7];p=f;f=d("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(h,a);var s=f.mediaRenderQpl;a=f.messageRowRef;var t;b[8]!==s?(f=function(){s==null?void 0:s.addPoint("render-message-reply-row")},t=[s],b[8]=s,b[9]=f,b[10]=t):(f=b[9],t=b[10]);l(f,t);f=e?q:p;t=e?p:q;p=e?"right":"left";q=r&&n.replyMargin;b[11]!==e?(r=function(a){return k.jsx(c("MWV2ReplyError.react"),{outgoing:e})},b[11]=e,b[12]=r):r=b[12];var u;b[13]!==o||b[14]!==g||b[15]!==s||b[16]!==h||b[17]!==e?(u=o?k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:h,outgoing:e,children:k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:s,message:h,outgoing:e})}):k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:s,message:h,outgoing:e}),b[13]=o,b[14]=g,b[15]=s,b[16]=h,b[17]=e,b[18]=u):u=b[18];b[19]!==r||b[20]!==u?(o=k.jsx(c("CometErrorBoundary.react"),{fallback:r,children:u}),b[19]=r,b[20]=u,b[21]=o):o=b[21];b[22]!==f||b[23]!==t||b[24]!==p||b[25]!==q||b[26]!==o?(g=k.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:f,addOnStart:t,align:p,opaque:!0,xstyle:q,children:o}),b[22]=f,b[23]=t,b[24]=p,b[25]=q,b[26]=o,b[27]=g):g=b[27];b[28]!==a||b[29]!==g?(h=k.jsx("div",{ref:a,children:g}),b[28]=a,b[29]=g,b[30]=h):h=b[30];return h}g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=e.c,r=9;function s(a){var b=q(6),e=(j||(j=c("useReStore")))(),g,h;b[0]!==a||b[1]!==e?(g=function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a)},h=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useArray(g,h,f.id+":47");if(b[4]!==g){h=new Map();for(var i=g,k=Array.isArray(i),m=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(k){if(m>=i.length)break;n=i[m++]}else{m=i.next();if(m.done)break;n=m.value}n=n;var o=n==null?void 0:n.profileName;o!=null&&h.set((l||(l=d("I64"))).to_string(n.ownerId),o)}b[4]=g;b[5]=h}else h=b[5];n=h;o=n;return o}function a(a){var b=q(6),c=a.messageId,e=a.reactions;a=a.threadKey;var f=d("MWLSThread").useThread(a,t),g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a),h;b[0]!==g||b[1]!==c||b[2]!==f||b[3]!==e||b[4]!==a?(h=g?n.jsx(v,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}):n.jsx(u,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}),b[0]=g,b[1]=c,b[2]=f,b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function t(a){return a.parentThreadKey}function u(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,q=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(q,e),d("ReQL").fromTableAscending(t.tables.contacts))},[t,q,e],f.id+":108"),v=s(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite",void 0,void 0,f.id+":124"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,r);if(e>r){e=e-r;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:g})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":226")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite",void 0,void 0,f.id+":231"))},[k,i,e]);var m=s(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2_details).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":242");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2).getKeyRange(i,e)},[k,i,e],f.id+":255");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var q=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.contacts).getKeyRange(q)},[k,q],f.id+":274");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");t=a.slice(0,r);if(a.length>r){g=a.length-r;t.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]).toString())}b=t.length===0?p:t.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:b})}v.displayName=v.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(k||(k=d("react"))).c,m=k,n={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=l(28),e=a.count,f=a.countXstyle,g=a.disableReactionDialog,j=a.emojis,k=a.message,r=a.reactions,s=a.reactionsV2,t=a.renderEmojis,u=a.threadKey;a=a.xstyle;g=g===void 0?!1:g;k=k.messageId;var v;b[0]!==s?(v=s!=null?s.map(p).reduce(o,0):0,b[0]=s,b[1]=v):v=b[1];s=v;var w=c("useIsReactionDialogEnabled")(u)&&!g;v=s>1?s:e;var x=v>1;if(b[2]!==x||b[3]!==j||b[4]!==w||b[5]!==t){b[7]!==x||b[8]!==j.length||b[9]!==w||b[10]!==t?(g=function(a,b){var e=x||b!==j.length-1,f=d("MWChatReactionsUtils").isHeart(a[0]);return m.jsx("div",{className:(i||(i=c("stylex")))(n.emoji,w?n.emojiWithCursor:!1,e?n.emojiMargin:!1),children:m.jsx("div",{className:i(f?n.scaleHeartEmoji:!1),children:t?t(a,16,"messenger_reaction_emoji_"+a[0]):m.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})},String(b))},b[7]=x,b[8]=j.length,b[9]=w,b[10]=t,b[11]=g):g=b[11];s=j.map(g);b[2]=x;b[3]=j;b[4]=w;b[5]=t;b[6]=s}else s=b[6];e=s;b[12]!==a?(g=(i||(i=c("stylex")))(n.emojiRow,a),b[12]=a,b[13]=g):g=b[13];b[14]!==x||b[15]!==f||b[16]!==v?(s=x?m.jsx(q,{countXstyle:f,reactionCount:v}):null,b[14]=x,b[15]=f,b[16]=v,b[17]=s):s=b[17];b[18]!==g||b[19]!==e||b[20]!==s?(a=m.jsxs("div",{className:g,role:"none",children:[e,s]}),b[18]=g,b[19]=e,b[20]=s,b[21]=a):a=b[21];f=a;b[22]!==w||b[23]!==k||b[24]!==r||b[25]!==u||b[26]!==f?(v=w?m.jsx(c("MWXTooltip.react"),{align:"middle",label:h._("__JHASH__pugXv5G1XoG__JHASH__"),position:"above",tooltip:m.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:k,reactions:r,threadKey:u}),children:f}):f,b[22]=w,b[23]=k,b[24]=r,b[25]=u,b[26]=f,b[27]=v):v=b[27];return v}function o(a,b){return a+b}function p(a){return(j||(j=d("I64"))).to_int32(a.count)}function q(a){var b=l(10),d=a.countXstyle;a=a.reactionCount;var e;b[0]!==a?(e=c("intlSummarizeNumber")(a),b[0]=a,b[1]=e):e=b[1];a=e;e=a.length;var f;b[2]!==d?(f=(i||(i=c("stylex")))(n.emojiNum,d),b[2]=d,b[3]=f):f=b[3];d=e+"ch";b[4]!==d?(e={width:d},b[4]=d,b[5]=e):e=b[5];b[6]!==f||b[7]!==e||b[8]!==a?(d=m.jsx("div",{className:f,role:"none",style:e,children:a}),b[6]=f,b[7]=e,b[8]=a,b[9]=d):d=b[9];return d}g["default"]=a}),226);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=l(9),e=a.mediaRenderQpl,f=a.nextMessage;a=a.prevMessage;var g,i;b[0]!==e?(g=function(){e==null?void 0:e.endSuccess()},i=[e],b[0]=e,b[1]=g,b[2]=i):(g=b[1],i=b[2]);k(g,i);g=a&&m.extraPaddingTop;i=f&&m.extraPaddingBottom;b[3]!==g||b[4]!==i?(a=[g,i],b[3]=g,b[4]=i,b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:h._("__JHASH__-GvVFaMikWU__JHASH__")}),b[6]=f):f=b[6];b[7]!==a?(g=j.jsx(d("react-strict-dom").html.div,{style:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m=284,n={card:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",$$css:!0},firstElement:{borderBottomEndRadius:"xrt01vj",borderTopEndRadius:"x1yr5g0i",$$css:!0},lastElement:{borderBottomStartRadius:"x10y3i5r",borderTopStartRadius:"x1lcm9me",$$css:!0}};function a(a){var b=k(22),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop;a=a.outgoing;a=a?"right":"left";h=h?"top":"none";var j,o,p,q,r,s;if(b[0]!==a||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==e){var t=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h}),u=e.length;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(s="x1xgufrq xxbr6pl xh8yej3 x83fiqz",b[11]=s):s=b[11];j=d("FDSHScroll.react").Container;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(o={minWidth:m,type:"responsive"},b[12]=o):o=b[12];p=4;q=!0;r=e.map(function(a,b){var e=b===0,f=b===u-1,g=!e&&!f;return l.jsx(d("FDSHScroll.react").Child,{children:l.jsx("div",{className:(i||(i=c("stylex")))(n.card,t,e&&n.firstElement,g&&n.centerElement,f&&n.lastElement),children:a},b)},b)});b[0]=a;b[1]=f;b[2]=g;b[3]=h;b[4]=e;b[5]=j;b[6]=o;b[7]=p;b[8]=q;b[9]=r;b[10]=s}else j=b[5],o=b[6],p=b[7],q=b[8],r=b[9],s=b[10];b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q||b[17]!==r?(a=l.jsx(j,{cardWidth:o,gap:p,reduceArrowSize:q,children:r}),b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=r,b[18]=a):a=b[18];b[19]!==s||b[20]!==a?(f=l.jsx("div",{className:s,children:a}),b[19]=s,b[20]=a,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWLSThreadDisplayContext","MWXMessageBubbleCornerStyles.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var b=k(9),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop;a=a.outgoing;var j=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();j=j==="ChatTab";a=a?"right":"left";h=h?"top":"none";if(b[0]!==a||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j){var n=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});n=(i||(i=c("stylex")))(m.root,!j&&m.cardWidth,j&&m.cardWidthChatTab,n);b[0]=a;b[1]=f;b[2]=g;b[3]=h;b[4]=j;b[5]=n}else n=b[5];b[6]!==n||b[7]!==e?(a=l.jsx("div",{className:n,children:e}),b[6]=n,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},headerIcon:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a){var b=k(15);a=a.layoutHeader;var e=a==null?void 0:a.title;if(e==null)return null;var f=a==null?void 0:a.alignment,g=a==null?void 0:a.subtitle;a=a==null?void 0:(a=a.attribution_icon)==null?void 0:a.url;f=f===d("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start";var h;b[0]!==e?(h=l.jsx(c("MWXColumnItem.react"),{children:l.jsx(c("MWXRow.react"),{paddingTop:12,children:l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:e})})})}),b[0]=e,b[1]=h):h=b[1];b[2]!==a?(e=a!=null&&l.jsx(c("MWXImage.react"),{src:a,xstyle:m.headerIcon}),b[2]=a,b[3]=e):e=b[3];b[4]!==e?(a=l.jsx(c("MWXRowItem.react"),{children:e}),b[4]=e,b[5]=a):a=b[5];b[6]!==g?(e=l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})}),b[6]=g,b[7]=e):e=b[7];b[8]!==a||b[9]!==e?(g=l.jsx(c("MWXColumnItem.react"),{children:l.jsxs(c("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[a,e]})}),b[8]=a,b[9]=e,b[10]=g):g=b[10];b[11]!==f||b[12]!==h||b[13]!==g?(a=l.jsxs(c("MWXColumn.react"),{align:f,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[h,g]}),b[11]=f,b[12]=h,b[13]=g,b[14]=a):a=b[14];return a}function a(a){var b=k(12),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,j=a.layoutExtension;a=a.outgoing;var o=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();o=o==="ChatTab";a=a?"right":"left";h=h?"top":"none";if(b[0]!==a||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==o){var p=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:h});p=(i||(i=c("stylex")))(m.root,!o&&m.cardWidth,o&&m.cardWidthChatTab,p);b[0]=a;b[1]=f;b[2]=g;b[3]=h;b[4]=o;b[5]=p}else p=b[5];a=j==null?void 0:j.header;b[6]!==a?(f=l.jsx(n,{layoutHeader:a}),b[6]=a,b[7]=f):f=b[7];b[8]!==p||b[9]!==f||b[10]!==e?(g=l.jsxs("div",{className:p,children:[f,e]}),b[8]=p,b[9]=f,b[10]=e,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=h||(h=c("react")),l=i.useEffect;function a(a){var b=j(22),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.flattenTop,i=a.layoutExtension,m=a.layoutType,n=a.mediaRenderQpl;a=a.outgoing;var o,p;b[0]!==n?(o=function(){n==null?void 0:n.addPoint("render-xma-v2-layout")},p=[n],b[0]=n,b[1]=o,b[2]=p):(o=b[1],p=b[2]);l(o,p);switch(m){case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:o=e[0];b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==a||b[7]!==o?(p=k.jsx(c("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:f,connectTop:g,flattenTop:h,outgoing:a,children:o}),b[3]=f,b[4]=g,b[5]=h,b[6]=a,b[7]=o,b[8]=p):p=b[8];return p;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==a||b[13]!==e?(o=k.jsx(c("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:f,connectTop:g,flattenTop:h,outgoing:a,children:e}),b[9]=f,b[10]=g,b[11]=h,b[12]=a,b[13]=e,b[14]=o):o=b[14];return o;case d("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==i||b[19]!==a||b[20]!==e?(p=k.jsx(c("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:f,connectTop:g,flattenTop:h,layoutExtension:i,outgoing:a,children:e}),b[15]=f,b[16]=g,b[17]=h,b[18]=i,b[19]=a,b[20]=e,b[21]=p):p=b[21];return p;default:throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",d("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(m))}}g["default"]=a}),98);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","cr:1048","cr:12018","cr:9921","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function a(a){var d=k(13),e=a.content,f=a.mediaRenderQpl,g;d[0]!==f?(a=function(){f==null?void 0:f.addPoint("render-xma-v2-template")},g=[f],d[0]=f,d[1]=a,d[2]=g):(a=d[1],g=d[2]);j(a,g);a=e.custom_template_data;if(a==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");g=null;bb0:switch(a.__typename){case"XMSGXmaStandardGenericTemplateData":if(b("cr:1048")!=null){var h;d[3]!==f||d[4]!==a?(h=i.jsx(b("cr:1048"),{mediaRenderQpl:f,template:a}),d[3]=f,d[4]=a,d[5]=h):h=d[5];g=h}break bb0;case"XMSGXmaCompactGenericTemplateData":if(b("cr:9921")!=null){d[6]!==e||d[7]!==f||d[8]!==a?(h=i.jsx(b("cr:9921"),{content:e,mediaRenderQpl:f,template:a}),d[6]=e,d[7]=f,d[8]=a,d[9]=h):h=d[9];g=h}break bb0;case"XMSGXmaBloksTemplateData":if(b("cr:12018")!=null&&c("qex")._("2958")===!0){d[10]!==f||d[11]!==a?(e=i.jsx(b("cr:12018"),{_mediaRenderQpl:f,template:a}),d[10]=f,d[11]=a,d[12]=e):e=d[12];g=e}}if(g==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",a.__typename);return g}g["default"]=a}),98);
__d("MWXMAV2AttachmentContainer.react",["CometErrorBoundary.react","FBLogger","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react"));function a(a){var b=j(9),d;b[0]!==a.mediaRenderQpl||b[1]!==a.nextMessage||b[2]!==a.prevMessage?(d=function(){return k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:a.mediaRenderQpl,nextMessage:a.nextMessage,prevMessage:a.prevMessage})},b[0]=a.mediaRenderQpl,b[1]=a.nextMessage,b[2]=a.prevMessage,b[3]=d):d=b[3];var e;b[4]!==a?(e=k.jsx(l,babelHelpers["extends"]({},a)),b[4]=a,b[5]=e):e=b[5];var f;b[6]!==d||b[7]!==e?(f=k.jsx(c("CometErrorBoundary.react"),{fallback:d,children:e}),b[6]=d,b[7]=e,b[8]=f):f=b[8];return f}function l(a){var b=j(21),d=a.connectBottom,e=a.connectTop,f=a.flattenTop,g=a.mediaRenderQpl,h=a.outgoing;a=a.xmaDataclass;var i=a.layout_type;if(i==null)throw c("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");var l=a.content;if(l==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("Unexpected null content for XMA 2.0");if((l==null?void 0:l.__typename)==="XMSGXmaBloksContent")throw c("FBLogger")("messenger_web_product").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");var m;b[0]!==l?(m=(l==null?void 0:l.__typename)==="XMSGXmaSingleContent"?[l]:l.list,b[0]=l,b[1]=m):m=b[1];l=m;m=a.layout_extension;b[2]!==e?(a=e?k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,b[2]=e,b[3]=a):a=b[3];if(b[4]!==g||b[5]!==l){var n;b[7]!==g?(n=function(a,b){return k.jsx(c("MWXMAV2AttachmentTemplateWrapper.react"),{content:a,mediaRenderQpl:g},b)},b[7]=g,b[8]=n):n=b[8];n=l.map(n);b[4]=g;b[5]=l;b[6]=n}else n=b[6];b[9]!==d||b[10]!==e||b[11]!==f||b[12]!==m||b[13]!==i||b[14]!==g||b[15]!==h||b[16]!==n?(l=k.jsx(c("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:d,connectTop:e,flattenTop:f,layoutExtension:m,layoutType:i,mediaRenderQpl:g,outgoing:h,children:n}),b[9]=d,b[10]=e,b[11]=f,b[12]=m,b[13]=i,b[14]=g,b[15]=h,b[16]=n,b[17]=l):l=b[17];b[18]!==a||b[19]!==l?(d=k.jsxs(k.Fragment,{children:[a,l]}),b[18]=a,b[19]=l,b[20]=d):d=b[20];return d}g["default"]=a}),98);
__d("useXMAV2Provider",["qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(4);if(a.length===0)return null;a=a[0].xmaDataclass;if(a==null)return null;var c,d,e;if(b[0]!==a){e=Symbol["for"]("react.early_return_sentinel");bb0:{d=JSON.parse(a);if(d==null){e=null;break bb0}var f=d.content;if(f==null){e=null;break bb0}c=!0;f=(f==null?void 0:f.__typename)==="XMSGXmaSingleContent"?[f]:f.list;f==null?void 0:f.forEach(function(a){a=a.custom_template_data;if(a==null){c=!1;return}if(!j(a.__typename)){c=!1;return}})}b[0]=a;b[1]=c;b[2]=d;b[3]=e}else c=b[1],d=b[2],e=b[3];return e!==Symbol["for"]("react.early_return_sentinel")?e:c?d:null}function j(a){switch(a){case"XMSGXmaCompactGenericTemplateData":return(a=c("qex")._("1590"))!=null?a:!1;case"XMSGXmaStandardGenericTemplateData":return(a=c("qex")._("273"))!=null?a:!1;case"XMSGXmaBloksTemplateData":return!0;default:return!1}}g["default"]=a}),98);
__d("MWMessageRowAttachment.react",["I64","MWMessageListAttachmentContainer.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MetaConfig","gkx","qex","react","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a){var b=j(28),e=a.attachments,f=a.connectBottom,g=a.connectTop,h=a.hasMessageEmphasisRing,l=a.hasText,m=a.isSearchPluginAttachment,n=a.isSecureMessage,o=a.mediaRenderQpl,p=a.message,q=a.navigateToRouteForMediaViewer,r=a.nextMessage,s=a.outgoing,t=a.prevMessage;a=a.renderAttachment;e=c("useXMAV2Provider")(e);c("qex")._("2958");if(m){o==null?void 0:o.endSuccess();return null}if(a!=null&&n){b[0]!==a||b[1]!==p||b[2]!==t||b[3]!==r||b[4]!==s||b[5]!==l||b[6]!==o?(m=a(p,t,r,s,l,o),b[0]=a,b[1]=p,b[2]=t,b[3]=r,b[4]=s,b[5]=l,b[6]=o,b[7]=m):m=b[7];return m}if(e!=null&&!n){b[8]!==f||b[9]!==g||b[10]!==l||b[11]!==o||b[12]!==r||b[13]!==s||b[14]!==t||b[15]!==e?(a=k.jsx(c("MWXMAV2AttachmentContainer.react"),{connectBottom:f,connectTop:g,flattenTop:l,mediaRenderQpl:o,nextMessage:r,outgoing:s,prevMessage:t,xmaDataclass:e}),b[8]=f,b[9]=g,b[10]=l,b[11]=o,b[12]=r,b[13]=s,b[14]=t,b[15]=e,b[16]=a):a=b[16];return a}b[17]!==p||b[18]!==s||b[19]!==o||b[20]!==r||b[21]!==t||b[22]!==f||b[23]!==g||b[24]!==h||b[25]!==l||b[26]!==q?(m=(i||(i=d("I64"))).to_string(p.threadKey)===c("MetaConfig")._("83")&&!s&&c("gkx")("5131")?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:o,nextMessage:r,prevMessage:t}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:f,connectTop:g,hasEmphasisRing:h,hasText:l,mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:q,outgoing:s}),b[17]=p,b[18]=s,b[19]=o,b[20]=r,b[21]=t,b[22]=f,b[23]=g,b[24]=h,b[25]=l,b[26]=q,b[27]=m):m=b[27];return m}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.Children,l=b.c,m={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=l(18),d=a.children,e=a.itemsXstyle,f=a.outgoing;a=a.xstyle;var g,i,n,o;if(b[0]!==d||b[1]!==a||b[2]!==e){o=Symbol["for"]("react.early_return_sentinel");bb0:{var p=k.toArray(d).filter(Boolean);if(p.length===0){o=null;break bb0}b[7]!==a?(g=(h||(h=c("stylex")))(m.container,a),b[7]=a,b[8]=g):g=b[8];i="none";var q;b[9]!==e?(q=function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(m.items,e),role:"none",children:a},""+b)},b[9]=e,b[10]=q):q=b[10];n=p.map(q)}b[0]=d;b[1]=a;b[2]=e;b[3]=g;b[4]=i;b[5]=n;b[6]=o}else g=b[3],i=b[4],n=b[5],o=b[6];if(o!==Symbol["for"]("react.early_return_sentinel"))return o;b[11]!==f?(p=f?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"}),b[11]=f,b[12]=p):p=b[12];b[13]!==g||b[14]!==i||b[15]!==n||b[16]!==p?(q=j.jsxs("div",{className:g,role:i,children:[n,p]}),b[13]=g,b[14]=i,b[15]=n,b[16]=p,b[17]=q):q=b[17];return q}g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(15),e=a.children,f=a.messageId,g=a.optimisticAttachmentId,i=a.optimisticMessageId;a=a.xstyle;var l;b[0]!==f?(l=d("MWChatInteraction").get(f),b[0]=f,b[1]=l):l=b[1];f=l;b[2]!==i?(l=d("MWChatInteraction").get(i),b[2]=i,b[3]=l):l=b[3];i=l;b[4]!==g?(l=g!=null?d("MWChatInteraction").get(g):null,b[4]=g,b[5]=l):l=b[5];g=l;l=(f=(l=f)!=null?l:i)!=null?f:g;if(l==null){b[6]!==a?(i=(h||(h=c("stylex")))(a),b[6]=a,b[7]=i):i=b[7];b[8]!==i||b[9]!==e?(f=k.jsx("div",{className:i,children:e}),b[8]=i,b[9]=e,b[10]=f):f=b[10];return f}else{b[11]!==l||b[12]!==a||b[13]!==e?(g=k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:l,pageletName:"Message",xstyle:a,children:e}),b[11]=l,b[12]=a,b[13]=e,b[14]=g):g=b[14];return g}}g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.isOutgoing;c("FBLogger")("messenger_browser_clients").warn("Unsupported message type");var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__pL9gn5HLY3n__JHASH__"),b[0]=d):d=b[0];d=d;b[1]!==a?(d=k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:d}),b[1]=a,b[2]=d):d=b[2];return d}g.MWV2ChatUnsupportedMessage=a}),226);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","asyncToGeneratorRuntime","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;f=e.memo;var l=e.useEffect,m=e.c;function a(a){var e=m(86),f=a.attachments,g=a.hasClickState,j=a.hasMessageEmphasisRing,n=a.isFirstMessageInGroup,o=a.isLastMessageInGroup,p=a.isSearchPluginAttachment,q=a.isSecureMessage,r=a.mediaRenderQpl,s=a.message,t=a.navigateToRouteForMediaViewer,u=a.nextMessage,v=a.offlineAttachmentId,w=a.outgoing,x=a.prevMessage,y=a.reactions,z=a.reactionsV2,A=a.renderAttachment;a=a.threadType;var B=g===void 0?!1:g;g=c("MWClickedMessageContext.react").useHook();var C=g.clickedMessageId,D=g.fetchMessageSeenCount,E=g.hasError,F=g.setClickedMessageId,G=(h||(h=c("useReStore")))();e[0]!==a?(g=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),e[0]=a,e[1]=g):g=e[1];var H=g,I=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(s.threadKey);e[2]!==s?(a=c("mwpMessageIsReply")(s),e[2]=s,e[3]=a):a=e[3];var J=a;e[4]!==G||e[5]!==s.threadKey||e[6]!==s.messageId||e[7]!==C||e[8]!==E||e[9]!==F||e[10]!==D?(g=function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(G.tables.threads).getKeyRange(s.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(G.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:s.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(C===s.messageId&&!E)return F(null);else return D(s.threadKey,s.messageId,b)})())},a=[G,C,s.messageId,s.threadKey,E,F,D],e[4]=G,e[5]=s.threadKey,e[6]=s.messageId,e[7]=C,e[8]=E,e[9]=F,e[10]=D,e[11]=g,e[12]=a):(g=e[11],a=e[12]);var K=d("Int64Hooks").useCallbackInt64(g,a),L=d("MWBlockingProtectionLogging").useLogTapToReviewAction(s);e[13]!==r||e[14]!==s.threadKey||e[15]!==A||e[16]!==p||e[17]!==q?(g=function(){r==null?void 0:r.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(s.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:A!=null,is_search_plugin:p,is_secure_message:q}})},a=[p,q,r,s.threadKey,A],e[13]=r,e[14]=s.threadKey,e[15]=A,e[16]=p,e[17]=q,e[18]=g,e[19]=a):(g=e[18],a=e[19]);l(g,a);e[20]!==w||e[21]!==J?(g=function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:w,isReply:J})},e[20]=w,e[21]=J,e[22]=g):g=e[22];e[23]!==f||e[24]!==j||e[25]!==p||e[26]!==q||e[27]!==r||e[28]!==s||e[29]!==t||e[30]!==u||e[31]!==w||e[32]!==x||e[33]!==A?(a=function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{attachments:f,connectBottom:b,connectTop:a,hasMessageEmphasisRing:j,hasText:d,isSearchPluginAttachment:p,isSecureMessage:q,mediaRenderQpl:r,message:s,navigateToRouteForMediaViewer:t,nextMessage:u,outgoing:w,prevMessage:x,renderAttachment:A})},e[23]=f,e[24]=j,e[25]=p,e[26]=q,e[27]=r,e[28]=s,e[29]=t,e[30]=u,e[31]=w,e[32]=x,e[33]=A,e[34]=a):a=e[34];var M;e[35]!==j||e[36]!==q||e[37]!==s?(M=function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:j,isSecureMessage:q,message:s})},e[35]=j,e[36]=q,e[37]=s,e[38]=M):M=e[38];var N;e[39]!==j||e[40]!==s||e[41]!==w||e[42]!==q?(N=function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:j,message:s,outgoing:w,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{isSecureMessage:q,message:s,outgoing:w})})},e[39]=j,e[40]=s,e[41]=w,e[42]=q,e[43]=N):N=e[43];var O;e[44]!==s||e[45]!==v||e[46]!==H||e[47]!==B||e[48]!==K?(O=function(a,d){a=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:s.messageId,optimisticAttachmentId:v,optimisticMessageId:s.offlineThreadingId,xstyle:d,children:H&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:s,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:s,children:a})});return B?k.jsx(c("MWXPressable.react"),{onPress:K,overlayDisabled:!0,xstyle:d,children:a}):a},e[44]=s,e[45]=v,e[46]=H,e[47]=B,e[48]=K,e[49]=O):O=e[49];var P;e[50]!==I||e[51]!==z||e[52]!==w||e[53]!==y||e[54]!==s?(P=function(){if(I)return null;var a=z!=null&&z.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:w,children:!a&&y.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:s,outgoing:w,reactions:y,reactionsV2:a?z:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?z:void 0,threadKey:g})}})})},e[50]=I,e[51]=z,e[52]=w,e[53]=y,e[54]=s,e[55]=P):P=e[55];var Q=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(s.threadKey)?function(a){var b=function(){a(),L()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:o,messageId:s.messageId,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,R;e[56]!==s||e[57]!==q||e[58]!==w?(R=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:s,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:q,message:s,outgoing:w})})},e[56]=s,e[57]=q,e[58]=w,e[59]=R):R=e[59];var S;e[60]!==s||e[61]!==w?(S=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:s,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:w})})},e[60]=s,e[61]=w,e[62]=S):S=e[62];var T;e[63]!==n||e[64]!==o||e[65]!==p||e[66]!==q||e[67]!==r||e[68]!==s||e[69]!==u||e[70]!==w||e[71]!==x||e[72]!==y||e[73]!==z||e[74]!==a||e[75]!==M||e[76]!==N||e[77]!==O||e[78]!==P||e[79]!==Q||e[80]!==R||e[81]!==S?(T=k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:n,isLastMessageInGroup:o,isSearchPluginAttachment:p,isSecureMessage:q,mediaRenderQpl:r,message:s,nextMessage:u,outgoing:w,prevMessage:x,reactions:y,reactionsV2:z,renderAttachment:a,renderEmoji:M,renderMessageBubble:N,renderMessageContainer:O,renderMessageFooter:P,renderMessageFromBlockee:Q,renderUnsentMessage:R,renderUnsupportedMessage:S}),e[63]=n,e[64]=o,e[65]=p,e[66]=q,e[67]=r,e[68]=s,e[69]=u,e[70]=w,e[71]=x,e[72]=y,e[73]=z,e[74]=a,e[75]=M,e[76]=N,e[77]=O,e[78]=P,e[79]=Q,e[80]=R,e[81]=S,e[82]=T):T=e[82];e[83]!==g||e[84]!==T?(n=k.jsx(c("CometErrorBoundary.react"),{fallback:g,children:T}),e[83]=g,e[84]=T,e[85]=n):n=e[85];return n}e=f(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.c,k={root:{marginStart:"x16n37ib",$$css:!0}};function a(a){var b,e=j(27),f=a.attachment,g=a.botResponseId,h=a.dialogResource,l=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;var m=f.attachmentCta1Id;f=f.attachmentCta2Id;var n=c("useMWPGetAttachmentCTA")(m);m=c("useMWPGetAttachmentCTA")(a?m:f);var o=d("MWSearchPluginUtils").useSearchPluginSources(m==null?void 0:m.nativeUrl);f=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));h=c("useMWXLazyDialog")(h);var p=h[0];h=f?"highlight":"blueLink";f=f?"bodyLink4":"body4";b=(b=g)!=null?b:"";var q;e[0]!==b?(q={botResponseId:b},e[0]=b,e[1]=q):q=e[1];e[2]!==q||e[3]!==l?(b={extraData:q,flowInstanceId:l},e[2]=q,e[3]=l,e[4]=b):b=e[4];q=b;var r=q;e[5]!==r?(l=babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},r),e[5]=r,e[6]=l):l=e[6];b=c("MessengerWebUXLogger").useImpressionLoggerRef(l);var s=c("MessengerWebUXLogger").useInteractionLogger();e[7]!==s||e[8]!==r?(q=function(){s==null?void 0:s(babelHelpers["extends"]({eventName:"search_plugin_see_more"},r))},e[7]=s,e[8]=r,e[9]=q):q=e[9];l=q;e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==p||e[14]!==g?(q=function(){o!=null&&(s==null?void 0:s(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},r)),p({botResponseId:g,sources:o}))},e[10]=o,e[11]=s,e[12]=r,e[13]=p,e[14]=g,e[15]=q):q=e[15];q=q;var t;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(t=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),e[16]=t):t=e[16];e[17]!==a||e[18]!==m||e[19]!==q||e[20]!==n||e[21]!==l?(h=a?i.jsx("div",{className:"x78zum5 x1q0g3np",children:i.jsx(c("MWXPressable.react"),{onPress:q,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:m!=null&&m.title})})}):i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:n==null?void 0:n.actionUrl},onPress:l,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:n!=null&&n.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:q,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:h,type:f,children:m!=null&&m.title})})]}),e[17]=a,e[18]=m,e[19]=q,e[20]=n,e[21]=l,e[22]=h):h=e[22];e[23]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),e[23]=f):f=e[23];e[24]!==b||e[25]!==h?(a=i.jsxs(c("BaseView.react"),{ref:b,xstyle:k.root,children:[t,h,f]}),e[24]=b,e[25]=h,e[26]=a):a=e[26];return a}g["default"]=a}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c,l=h||(h=c("react")),m={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=k(8),e=a.label,f=a.onClick;a=a.outgoing;a=a&&m.outgoing;var g;b[0]!==a?(g=(i||(i=c("stylex")))(m.row,a),b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==e?(a=f!=null?l.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:l.jsx(c("MWXLink.react"),{onClick:f,children:e})}):l.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:e}),b[2]=f,b[3]=e,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(f=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:l.jsx("div",{className:g,children:a})}),b[5]=g,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMElectionFactLabelDialog.entrypoint","MWCMElectionInformTreatmentDialog.entrypoint","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","justknobx","qex","react","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||d("react")).c,l=i||(i=c("react")),m=b("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function n(a){var b=k(11),d=a.message;a=a.outgoing;var e;b[0]!==d.messageId?(e={message_id:d.messageId},b[0]=d.messageId,b[1]=e):e=b[1];e=c("useMWXEntryPointDialog")(c("MWCMElectionInformTreatmentDialog.entrypoint"),e);var f=e[0];b[2]!==d?(e={message:d},b[2]=d,b[3]=e):e=b[3];var g=c("useMWInformTreatmentFalcoEventLogger")(e);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__8dc_hiLyYbc__JHASH__"),b[4]=d):d=b[4];b[5]!==g||b[6]!==f?(e=function(){g("view_info_click",{name:"misinformation",type:"media_label"}),f({})},b[5]=g,b[6]=f,b[7]=e):e=b[7];b[8]!==e||b[9]!==a?(d=l.jsx(c("MWMustacheTextImpl.react"),{label:d,onClick:e,outgoing:a}),b[8]=e,b[9]=a,b[10]=d):d=b[10];return d}function o(a){var b=k(10),d=a.label,e=a.message;a=a.outgoing;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=c("useMWXEntryPointDialog")(c("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),f);var g=f[0];b[1]!==e?(f={message:e},b[1]=e,b[2]=f):f=b[2];var h=c("useMWInformTreatmentFalcoEventLogger")(f);b[3]!==h||b[4]!==g?(e=function(){h("view_info_click",{name:"ai_generated_content",type:"media_label"}),g({})},b[3]=h,b[4]=g,b[5]=e):e=b[5];b[6]!==d||b[7]!==e||b[8]!==a?(f=l.jsx(c("MWMustacheTextImpl.react"),{label:d,onClick:e,outgoing:a}),b[6]=d,b[7]=e,b[8]=a,b[9]=f):f=b[9];return f}function p(a){var b=k(8),d=a.label,e=a.messageId;a=a.outgoing;var f;b[0]!==e?(f={message_id:e},b[0]=e,b[1]=f):f=b[1];e=c("useMWXEntryPointDialog")(c("MWCMElectionFactLabelDialog.entrypoint"),f);var g=e[0];b[2]!==g?(f=function(){return g({})},b[2]=g,b[3]=f):f=b[3];b[4]!==d||b[5]!==f||b[6]!==a?(e=l.jsx(c("MWMustacheTextImpl.react"),{label:d,onClick:f,outgoing:a}),b[4]=d,b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}function a(a){var b,d=k(13),e=a.isPublicCMThread,f=a.message;a=a.outgoing;var g;d[0]!==f.metadataDataclass?(g=f.metadataDataclass!=null?JSON.parse(f.metadataDataclass):null,d[0]=f.metadataDataclass,d[1]=g):g=d[1];g=g;if(g==null)return null;b=(b=g.mustache_cta)==null?void 0:b.title;if(e&&((e=g.misinfo_metadata)==null?void 0:e.has_misinfo)&&c("justknobx")._("2910")&&c("gkx")("2872")){d[2]!==f||d[3]!==a?(g=l.jsx(n,{message:f,outgoing:a}),d[2]=f,d[3]=a,d[4]=g):g=d[4];return g}else if(c("qex")._("1581")===!0&&b===m.SEE_AI_INFO){d[5]!==b||d[6]!==f||d[7]!==a?(e=l.jsx(o,{label:b,message:f,outgoing:a}),d[5]=b,d[6]=f,d[7]=a,d[8]=e):e=d[8];return e}else if(b===m.SEE_ELECTION_INFO){d[9]!==b||d[10]!==f.messageId||d[11]!==a?(g=l.jsx(p,{label:b,messageId:f.messageId,outgoing:a}),d[9]=b,d[10]=f.messageId,d[11]=a,d[12]=g):g=d[12];return g}return null}g["default"]=a}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=j(10),e=a.attachment;a=a.outgoing;e=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,!1,c("emptyFunction"));var f=e.downloadButton;e=e.mediaStatusText;a=a?l.outgoing:l.incoming;var g;b[0]!==a?(g=(h||(h=c("stylex")))(l.row,a),b[0]=a,b[1]=g):g=b[1];b[2]!==f?(a=k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:f}),b[2]=f,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(f=k.jsxs(c("MWXText.react"),{color:"tertiary",type:"meta4",children:[e,a]}),b[4]=e,b[5]=a,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(e=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:k.jsx("div",{className:g,children:f})}),b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWGetIsMediaDownloadStatusEnabled","MAWMediaDownloadStatusUIStateType","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWSupportTranslationsContext.react","MessagingAttachmentType","cr:5806","cr:5903","react","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaStatusUIState","useMWPGetAttachments","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function n(a){var e=l(13),f=a.attachment,g=a.isSecureMessage,i=a.mediaRenderQpl;a=a.outgoing;var n=c("useShouldShowUnsupportedCodecFallback")(f,i),o=(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA));g=c("useMAWMediaStatusUIState")(g&&!o&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()?f:null,i);o=g.downloadStatus;g=g.validationResult;var p=d("MAWMediaDownloadStatusUIStateType").isErrorState(o);g=(g==null?void 0:g.mimeType)==="invalid-mp4";p=p||g;if(o!=null&&p&&b("cr:5903")){e[0]!==f||e[1]!==o||e[2]!==i||e[3]!==a?(g=m.jsx(b("cr:5903"),{attachment:f,downloadStatusUIState:o,mediaRenderQpl:i,outgoing:a}),e[0]=f,e[1]=o,e[2]=i,e[3]=a,e[4]=g):g=e[4];return g}if(n){e[5]!==f||e[6]!==a?(p=m.jsx(c("MWMustacheUnsupportedMediaAttachment.react"),{attachment:f,outgoing:a}),e[5]=f,e[6]=a,e[7]=p):p=e[7];return p}o=f.mustacheText;if(o==null||o==="")return null;e[8]!==o?(i=h._("__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",o)]),e[8]=o,e[9]=i):i=e[9];e[10]!==i||e[11]!==a?(g=m.jsx(c("MWMustacheTextImpl.react"),{label:i,outgoing:a}),e[10]=i,e[11]=a,e[12]=g):g=e[12];return g}function o(a){var b=l(9),d=a.outgoing,e=a.threadID;b[0]!==e?(a={isGeoBlocked:!0,threadID:e},b[0]=e,b[1]=a):a=b[1];a=c("useGroupsCometCMDisabledChatEntryPointDialog")(a);var f=a[0];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__P-dEPoA1cwy__JHASH__"),b[2]=a):a=b[2];var g;b[3]!==f||b[4]!==e?(g=function(){return f({threadID:e})},b[3]=f,b[4]=e,b[5]=g):g=b[5];b[6]!==g||b[7]!==d?(a=m.jsx(c("MWMustacheTextImpl.react"),{label:a,onClick:g,outgoing:d}),b[6]=g,b[7]=d,b[8]=a):a=b[8];return a}function p(a){var b=l(9),e=a.isLastMessage,f=a.messageID;a=a.outgoing;var g=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),i=g.setShowUntranslatedText,j=g.showToggleMustache,k=g.showUntranslatedText;g=c("useSupportTranslationsFetchDataLS")(f);if(g==null)return null;if(e||j){b[0]!==k?(f=k?h._("__JHASH__utVE8Q7pcEU__JHASH__"):h._("__JHASH__kBXvWwvKjDy__JHASH__"),b[0]=k,b[1]=f):f=b[1];b[2]!==i||b[3]!==k?(g=function(){i(!k)},b[2]=i,b[3]=k,b[4]=g):g=b[4];b[5]!==f||b[6]!==g||b[7]!==a?(e=m.jsx(c("MWMustacheTextImpl.react"),{label:f,onClick:g,outgoing:a}),b[5]=f,b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}return null}function a(a){var e,f=l(22),g=a.isLastMessage,h=a.isPublicCMThread,i=a.isSecureMessage,q=a.mediaRenderQpl,r=a.message,s=a.outgoing;a=a.showSupportTranslationToggleMustache;e=(e=c("useMWPGetAttachments")(r))==null?void 0:e[0];var t=c("useGetMediaGroupInformation")(r,i,q),u=r.takedownState!=null&&(j||(j=d("I64"))).equal(r.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(u){f[0]!==r.threadKey?(u=(j||(j=d("I64"))).to_string(r.threadKey),f[0]=r.threadKey,f[1]=u):u=f[1];var v;f[2]!==s||f[3]!==u?(v=m.jsx(o,{outgoing:s,threadID:u}),f[2]=s,f[3]=u,f[4]=v):v=f[4];return v}if(a&&!s){f[5]!==g||f[6]!==r.messageId||f[7]!==s?(u=m.jsx(p,{isLastMessage:g,messageID:r.messageId,outgoing:s}),f[5]=g,f[6]=r.messageId,f[7]=s,f[8]=u):u=f[8];return u}if(r.metadataDataclass!=null){f[9]!==h||f[10]!==r||f[11]!==s?(v=m.jsx(c("MWMustacheTextInformTreatment.react"),{isPublicCMThread:h,message:r,outgoing:s}),f[9]=h,f[10]=r,f[11]=s,f[12]=v):v=f[12];return v}else if(t!=null&&t.mediaDownloadErrorsCount>0&&b("cr:5806")!=null){f[13]!==t||f[14]!==q||f[15]!==s?(a=m.jsx(b("cr:5806"),{mediaGroupInfo:t,mediaRenderQpl:q,outgoing:s}),f[13]=t,f[14]=q,f[15]=s,f[16]=a):a=f[16];return a}else if(e!=null){f[17]!==e||f[18]!==i||f[19]!==q||f[20]!==s?(g=m.jsx(n,{attachment:e,isSecureMessage:i,mediaRenderQpl:q,outgoing:s}),f[17]=e,f[18]=i,f[19]=q,f[20]=s,f[21]=g):g=f[21];return g}return null}g["default"]=a}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={button:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},container:{height:"x5yr21d",paddingStart:"xurb0ha",$$css:!0},hidden:{visibility:"xlshs6z",$$css:!0}},n=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=k(9),d=a.hidden,e=a.isSecureMessage,f=a.isSecureThread;a=a.message;d=d&&m.hidden;var g;b[0]!==d?(g=(i||(i=c("stylex")))(m.container,m.centered,d),b[0]=d,b[1]=g):g=b[1];b[2]!==e||b[3]!==f||b[4]!==a?(d=l.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:e,isSecureThread:f,message:a},popoverResource:n,children:o}),b[2]=e,b[3]=f,b[4]=a,b[5]=d):d=b[5];b[6]!==g||b[7]!==d?(e=l.jsx("div",{className:g,children:d}),b[6]=g,b[7]=d,b[8]=e):e=b[8];return e}function o(a,b){return l.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),onPress:b,overlayRadius:"inherit",ref:a,xstyle:[m.button,m.centered],children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconDots3Horizontal"),size:16})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(7),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.threadKey||b[2]!==a.messageId?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.threadKey,b[2]=a.messageId,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];b=d("ReQLSuspense").useFirst(g,i,f.id+":27");return(b==null?void 0:b.defaultCtaType)==="xma_web_url"&&(b==null?void 0:b.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX");function a(a){var b=i(1),e=a.isLastMessage,f=a.isOutgoing;a=a.message;var g=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();g=g.isPinnedMessageList;var h=a.textHasLinks;a=c("useMWIsXMARoom")(a);f=!f&&(h||a)&&e&&!g;if(!f)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=k?j.jsx(k,{}):null,b[0]=h):h=b[0];return h}e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");g["default"]=e}),98);
__d("useAttachmentsProvider",["CometLruCache","I64","MAWMsg","MWPActor.react","cr:6442","cr:6851","qex","react","shouldUseImageGrouping","useMAWSeparateReadsSelector","useMWPGetAttachments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c,k=d("CometLruCache").create(50);function l(a,b,e,f){var g;if(!((g=c("qex")._("60"))!=null?g:!1))return!1;if(!b)return!1;if(!d("MAWMsg").isMediaMsg(a))return!1;g=c("shouldUseImageGrouping")(a,b);if(g)return!1;if(d("MAWMsg").isOptimistic(a)){k.set(a.offlineThreadingId,!0);return!1}return e&&f==null&&k.get(a.offlineThreadingId)===!0?!1:!0}function a(a,e){var f=j(6),g=d("MWPActor.react").useActor();g=(i||(i=d("I64"))).equal(a.senderId,g);var h=c("useMWPGetAttachments")(a),k=b("cr:6442")(a,e),n=b("cr:6851")(a,e),o;f[0]!==a||f[1]!==n||f[2]!==k?(o=d("MAWMsg").isReceiverFetchMsg(a)?n:k,f[0]=a,f[1]=n,f[2]=k,f[3]=o):o=f[3];n=o;if(f[4]!==n){o=(k=n)!=null?k:[];f[4]=n;f[5]=o}else o=f[5];k=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Attachment",o,h,l(a,e,g,n),m);return k}function m(a,b){return a.attachmentFbid.localeCompare(b.attachmentFbid)}g["default"]=a}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c;function a(a){var b,e=l(2),g=(h||(h=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype"]).getKeyRange(a)},[g,a],f.id+":24"))!=null?b:{};b=b.threadSubtype;if(b==null)return!1;var k;e[0]!==b?(k=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),e[0]=b,e[1]=k):k=e[1];return k}g.useSupportMessagingGroupThreadSubtype=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAttachmentContext","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWGroupBlockingProtectionUtils","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","cr:3395","deferredLoadComponent","gkx","isMWEditedMessage","justknobx","mwpIsMessageUnsupported","mwpMessageIsReply","qex","react","requireDeferredForDisplay","stylex","useAttachmentsProvider","useGetMediaGroupInformation","useIsMultiReactionEnabled","useMAWSeparateReadsSelector","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,aa=(j||(j=d("react"))).c,k=j,ba=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),ca=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),da=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),ea={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function l(a){var b=a.attachments,e=a.isSearchSingleBubblePluginAttachment;a=a.message;var f=d("MWMessageListLoggingContext").useFlowInstanceId();return k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:b[0],botResponseId:a.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:f.current,isSearchSingleBubblePluginAttachment:e})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var e=aa(156),f=a.containerThreadKey,g=a.focused,i=a.hasClickState,j=a.hasMessageEmphasisRing,n=a.hovered,o=a.incoming,p=a.isDialogOpened,q=a.isFirstMessageInGroup,r=a.isGroupThread,s=a.isModal,t=a.isSecureMessage,u=a.mediaRenderQpl,v=a.message,w=a.navigateToRouteForMediaViewer,x=a.nextMessage,y=a.onRenderError,z=a.prevMessage,A=a.renderAttachment,B=a.shouldUseReactionsV2,C=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var D=a.isPinnedMessageList,E=a.isStandardMessageList;a=d("MWPMessageReactions.react").useReactions(v);var F=b("cr:3395")(v,t),G=d("MWPMessageReactions.react").useReactionsV2(v),H=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey),I=c("MWClickedMessageContext.react").useHook();I=I.clickedMessageId;var J;e[0]!==v?(J=c("mwpMessageIsReply")(v),e[0]=v,e[1]=J):J=e[1];var K=J;e[2]!==v?(J=c("isMWEditedMessage")(v),e[2]=v,e[3]=J):J=e[3];J=J;var L=d("MWGroupBlockingProtectionUtils").useMWShouldHideReply(v),M=x==null,N=!o,O=o&&r,P;e[4]!==C?(P=d("LSMessagingThreadTypeUtil").isArmadilloSecure(C),e[4]=C,e[5]=P):P=e[5];var Q=P;e[6]!==C?(P=d("LSMessagingThreadTypeUtil").isPublicCMThread(C),e[6]=C,e[7]=P):P=e[7];P=P;var R=c("useGetMediaGroupInformation")(v,t,u),S=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(v.threadKey),T;e[8]!==S?(T=S&&c("gkx")("7815")&&c("justknobx")._("3290"),e[8]=S,e[9]=T):T=e[9];S=T;if(e[10]!==D||e[11]!==v||e[12]!==x||e[13]!==R){T=D||d("MWPMessageParsingUtils").isEndOfGroup(v,x)||(R==null?void 0:R.groupsLastMessage)!=null&&d("MWPMessageParsingUtils").isEndOfGroup(R.groupsLastMessage,(T=R.groupsNextMessage)!=null?T:void 0);e[10]=D;e[11]=v;e[12]=x;e[13]=R;e[14]=T}else T=e[14];var U=T;if(e[15]!==t){T=t&&((R=c("qex")._("99"))!=null?R:!1);e[15]=t;e[16]=T}else T=e[16];var V=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("Reaction",F,a,T,ga);R=c("useAttachmentsProvider")(v,t);F=R.length>0;e[17]!==F||e[18]!==R?(a=F&&d("MWSearchPluginUtils").isSearchPlugin(R[0]),e[17]=F,e[18]=R,e[19]=a):a=e[19];T=a;e[20]!==F||e[21]!==R?(a=F&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(R[0]),e[20]=F,e[21]=R,e[22]=a):a=e[22];F=a;e[23]!==v||e[24]!==R?(a=c("mwpIsMessageUnsupported")(v,R),e[23]=v,e[24]=R,e[25]=a):a=e[25];a=a;var W;e[26]!==H||e[27]!==G||e[28]!==a?(W=H&&G.some(fa)||a,e[26]=H,e[27]=G,e[28]=a,e[29]=W):W=e[29];var ha=W;a=(V.length>0||G.length>0)&&!H;e[30]!==q||e[31]!==O?(W=q&&!O?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,e[30]=q,e[31]=O,e[32]=W):W=e[32];e[33]!==K||e[34]!==L||e[35]!==r||e[36]!==t||e[37]!==v||e[38]!==N||e[39]!==C?(O=K&&!L&&k.jsx(c("MWMessageReplyRow.react"),{isGroupThread:r,isSecureMessage:t,message:v,outgoing:N,threadType:C}),e[33]=K,e[34]=L,e[35]=r,e[36]=t,e[37]=v,e[38]=N,e[39]=C,e[40]=O):O=e[40];e[41]!==J||e[42]!==v.editCount||e[43]!==v.messageId||e[44]!==K||e[45]!==t||e[46]!==N||e[47]!==C?(L=J&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:k.jsx(ca,{editCount:v.editCount,isReply:K,isSecureMessage:t,msgId:v.messageId,outgoing:N,threadType:C})}),e[41]=J,e[42]=v.editCount,e[43]=v.messageId,e[44]=K,e[45]=t,e[46]=N,e[47]=C,e[48]=L):L=e[48];e[49]!==E||e[50]!==s||e[51]!==f||e[52]!==g||e[53]!==p||e[54]!==n||e[55]!==t||e[56]!==v||e[57]!==N||e[58]!==ha||e[59]!==C||e[60]!==D||e[61]!==Q?(J=function(a){return E?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:s===!1,containerThreadKey:f,focused:g||p||s,hidden:a,hovered:n,isSecureMessage:t,message:v,outgoing:N,shouldHideHoverMenuReact:ha,threadType:C}):D?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!n&&!g,isSecureMessage:t,isSecureThread:Q,message:v}):null},e[49]=E,e[50]=s,e[51]=f,e[52]=g,e[53]=p,e[54]=n,e[55]=t,e[56]=v,e[57]=N,e[58]=ha,e[59]=C,e[60]=D,e[61]=Q,e[62]=J):J=e[62];var X;e[63]!==v||e[64]!==G||e[65]!==H||e[66]!==N||e[67]!==V?(X=function(){if(v.isUnsent)return null;var a=G!=null&&G.length>0;return!H||!a?null:k.jsx("div",{className:(h||(h=c("stylex")))(ea.multiReactContainer,N?ea.multiReactContainerOutgoing:!1),children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:N,reactions:V,reactionsV2:G,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:k.jsx(ba,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:N,reactionsV2:G,toggleMultiReactionRowExpansion:i})})}})})},e[63]=v,e[64]=G,e[65]=H,e[66]=N,e[67]=V,e[68]=X):X=e[68];var Y;e[69]!==r||e[70]!==s||e[71]!==U||e[72]!==v?(Y=function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:r?!s:!0,display:U?"visible":"hidden",isGroupThread:r,message:v})},e[69]=r,e[70]=s,e[71]=U,e[72]=v,e[73]=Y):Y=e[73];var Z;e[74]!==N||e[75]!==K?(Z=function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:N,isReply:K})},e[74]=N,e[75]=K,e[76]=Z):Z=e[76];var $;e[77]!==D||e[78]!==R||e[79]!==B||e[80]!==G||e[81]!==i||e[82]!==j||e[83]!==q||e[84]!==U||e[85]!==T||e[86]!==t||e[87]!==u||e[88]!==v||e[89]!==w||e[90]!==x||e[91]!==N||e[92]!==z||e[93]!==V||e[94]!==A||e[95]!==C||e[96]!==K?($=D?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:R,hasClickState:i,hasMessageEmphasisRing:j,isFirstMessageInGroup:q,isLastMessageInGroup:U,isSearchPluginAttachment:T,isSecureMessage:t,mediaRenderQpl:u,message:v,nextMessage:x,offlineAttachmentId:R&&R.length>0?R[0].offlineAttachmentId:null,outgoing:N,prevMessage:z,reactions:V,reactionsV2:B?G:void 0,renderAttachment:A,threadType:C}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:K,message:v,outgoing:N,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:R,hasClickState:i,hasMessageEmphasisRing:j,isFirstMessageInGroup:q,isLastMessageInGroup:U,isSearchPluginAttachment:T,isSecureMessage:t,mediaRenderQpl:u,message:v,navigateToRouteForMediaViewer:w,nextMessage:x,offlineAttachmentId:R&&R.length>0?R[0].offlineAttachmentId:null,outgoing:N,prevMessage:z,reactions:V,reactionsV2:B?G:void 0,renderAttachment:A,threadType:C})}),e[77]=D,e[78]=R,e[79]=B,e[80]=G,e[81]=i,e[82]=j,e[83]=q,e[84]=U,e[85]=T,e[86]=t,e[87]=u,e[88]=v,e[89]=w,e[90]=x,e[91]=N,e[92]=z,e[93]=V,e[94]=A,e[95]=C,e[96]=K,e[97]=$):$=e[97];e[98]!==R||e[99]!==v||e[100]!==$?(B=k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:R,message:v,children:$}),e[98]=R,e[99]=v,e[100]=$,e[101]=B):B=e[101];e[102]!==T||e[103]!==F||e[104]!==R||e[105]!==v?(q=(T||F)&&k.jsx(l,{attachments:R,isSearchSingleBubblePluginAttachment:F,message:v}),e[102]=T,e[103]=F,e[104]=R,e[105]=v,e[106]=q):q=e[106];e[107]!==Z||e[108]!==y||e[109]!==B||e[110]!==q?(w=k.jsxs(c("CometErrorBoundary.react"),{fallback:Z,onError:y,children:[B,q]}),e[107]=Z,e[108]=y,e[109]=B,e[110]=q,e[111]=w):w=e[111];e[112]!==j||e[113]!==a||e[114]!==v||e[115]!==N||e[116]!==J||e[117]!==X||e[118]!==Y||e[119]!==w?(z=k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:j,hasReactions:a,message:v,outgoing:N,renderGutterItem:m,renderMessageActions:J,renderMultiReactions:X,renderProfile:Y,children:w}),e[112]=j,e[113]=a,e[114]=v,e[115]=N,e[116]=J,e[117]=X,e[118]=Y,e[119]=w,e[120]=z):z=e[120];e[121]!==S||e[122]!==o||e[123]!==v.messageId?(A=S&&o&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:k.jsx(da,{msgId:v.messageId})}),e[121]=S,e[122]=o,e[123]=v.messageId,e[124]=A):A=e[124];e[125]!==M||e[126]!==N||e[127]!==v?($=k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:M,isOutgoing:N,message:v}),e[125]=M,e[126]=N,e[127]=v,e[128]=$):$=e[128];e[129]!==M||e[130]!==P||e[131]!==t||e[132]!==u||e[133]!==v||e[134]!==N||e[135]!==S?(T=k.jsx(c("MWMustacheText"),{isLastMessage:M,isPublicCMThread:P,isSecureMessage:t,mediaRenderQpl:u,message:v,outgoing:N,showSupportTranslationToggleMustache:S}),e[129]=M,e[130]=P,e[131]=t,e[132]=u,e[133]=v,e[134]=N,e[135]=S,e[136]=T):T=e[136];e[137]!==x?(F=k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:x}),e[137]=x,e[138]=F):F=e[138];e[139]!==i||e[140]!==I||e[141]!==v.messageId||e[142]!==U||e[143]!==M?(Z=i&&I===v.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):U&&!M?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null,e[139]=i,e[140]=I,e[141]=v.messageId,e[142]=U,e[143]=M,e[144]=Z):Z=e[144];e[145]!==R||e[146]!==W||e[147]!==O||e[148]!==L||e[149]!==z||e[150]!==A||e[151]!==$||e[152]!==T||e[153]!==F||e[154]!==Z?(y=k.jsxs(c("MWAttachmentContext").Provider,{value:R,children:[W,O,L,z,A,$,T,F,Z]}),e[145]=R,e[146]=W,e[147]=O,e[148]=L,e[149]=z,e[150]=A,e[151]=$,e[152]=T,e[153]=F,e[154]=Z,e[155]=y):y=e[155];return y}function m(){return k.jsx("div",{className:"x1xc55vz",role:"none"})}m.displayName=m.name+" [from "+f.id+"]";function fa(a){return(i||(i=d("I64"))).to_int32(a.count)>0}function ga(a,b){return(i||(i=d("I64"))).compare(a.actorId,b.actorId)}g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(23),e=a.hasClickState,f=a.incoming,g=a.isBroadcastThread,h=a.isFromBlockedContact,k=a.isLastMessage,l=a.isSecureMessage,m=a.message,n=a.nextMessage,o=a.outgoing,p=a.status;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var q=a.isPinnedMessageList;a=a.isStandardMessageList;if(a){b[0]!==e||b[1]!==p?(a=e||d("MWMessageDeliveryStatus").isAlwaysShownStatus(p),b[0]=e,b[1]=p,b[2]=a):a=b[2];var r;b[3]!==e||b[4]!==f||b[5]!==h||b[6]!==k||b[7]!==o||b[8]!==l||b[9]!==g||b[10]!==m||b[11]!==p?(r=function(){return j.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:e&&f,hasTextBasedMessageReceipts:!0,isFromBlockedContact:h,isLastMessage:k,isOutgoing:o,isSecureMessage:l,isTextOnly:g,message:m,status:p})},b[3]=e,b[4]=f,b[5]=h,b[6]=k,b[7]=o,b[8]=l,b[9]=g,b[10]=m,b[11]=p,b[12]=r):r=b[12];var s;b[13]!==m||b[14]!==n||b[15]!==a||b[16]!==r?(s=j.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:m,nextMessage:n,showContent:a,children:r}),b[13]=m,b[14]=n,b[15]=a,b[16]=r,b[17]=s):s=b[17];return s}if(q){b[18]!==h||b[19]!==k||b[20]!==m||b[21]!==n?(a=h?j.jsx(c("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:k,message:m,nextMessage:n}):null,b[18]=h,b[19]=k,b[20]=m,b[21]=n,b[22]=a):a=b[22];return a}return null}g["default"]=a}),98);
__d("MWHighlyForwardedIndicator.react",["fbt","LSMessagingThreadTypeUtil","MDSForwardStackSvgIcon.react","MWXText.react","coerceMessagingThreadTypeToLSThreadType","react","requireDeferred","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("requireDeferred")("MwbHighlyForwardedIndicatorImpressionFalcoEvent").__setRef("MWHighlyForwardedIndicator.react");function a(a){var b=j(11),e=a.forwardScore,f=a.mid,g=a.threadType;b[0]!==e||b[1]!==g||b[2]!==f?(a=function(){l.onReady(function(a){a.log(function(){return{limit:e,mid:g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g)?void 0:f,thread_type:g!=null?c("coerceMessagingThreadTypeToLSThreadType")(g):void 0}})})},b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];a=a;var i;b[4]!==a?(i={onImpressionStart:a},b[4]=a,b[5]=i):i=b[5];a=c("useSinglePartialViewImpression")(i);var m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("MDSForwardStackSvgIcon.react"),{color:"tertiary",size:16}),m="x1h0ha7o",b[6]=i,b[7]=m):(i=b[6],m=b[7]);var n;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._("__JHASH__hxhFsSrRndH__JHASH__"),b[8]=n):n=b[8];b[9]!==a?(i=k.jsxs(k.Fragment,{children:[i,k.jsx("span",{className:m,children:k.jsx(c("MWXText.react"),{color:"tertiary",ref:a,type:"meta4",children:n})})]}),b[9]=a,b[10]=i):i=b[10];return i}g["default"]=a}),226);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;b=j||d("react");b.useMemo;var m=b.c;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=m(28),j=(i||(i=c("useReStore")))(),p=a.messageId,q=a.threadKey,r;g[0]!==a?(r=c("mwpMessageHasAttachment")(a),g[0]=a,g[1]=r):r=g[1];var s=r;g[2]!==s||g[3]!==j||g[4]!==q||g[5]!==p?(a=function(){if(s)return d("ReQL").fromTableAscending(j.tables.attachments).getKeyRange(q,p);else return d("ReQL").empty()},r=[j,p,q,s],g[2]=s,g[3]=j,g[4]=q,g[5]=p,g[6]=a,g[7]=r):(a=g[6],r=g[7]);a=d("ReQLSuspense").useFirst(a,r,f.id+":63");if(b)if(a!=null)if(n(a)){g[8]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH___8ZpqsY3Jrg__JHASH__"),g[8]=r):r=g[8];b=r}else if(o(a)){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__INRUrq18hhv__JHASH__"),g[9]=r):r=g[9];b=r}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[10]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__Z71bv2q5yoA__JHASH__"),g[10]=r):r=g[10];b=r}else{g[11]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__8h2fNslikTS__JHASH__"),g[11]=r):r=g[11];b=r}else{g[12]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__8h2fNslikTS__JHASH__"),g[12]=r):r=g[12];b=r}else if(a!=null)if(e!=null)if(n(a)){g[13]!==e?(r=h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]),g[13]=e,g[14]=r):r=g[14];b=r}else if(o(a)){g[15]!==e?(r=h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]),g[15]=e,g[16]=r):r=g[16];b=r}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[17]!==e?(r=h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]),g[17]=e,g[18]=r):r=g[18];b=r}else{g[19]!==e?(r=h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]),g[19]=e,g[20]=r):r=g[20];b=r}else if(n(a)){g[21]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__QhCmPJ-QbeG__JHASH__"),g[21]=r):r=g[21];b=r}else if(o(a)){g[22]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__vFSMWshNg-J__JHASH__"),g[22]=r):r=g[22];b=r}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[23]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__U5_TMTE9DWx__JHASH__"),g[23]=r):r=g[23];b=r}else{g[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__CmZMizVeMX7__JHASH__"),g[24]=a):a=g[24];b=a}else if(e!=null){g[25]!==e?(r=h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]),g[25]=e,g[26]=r):r=g[26];b=r}else{g[27]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__CmZMizVeMX7__JHASH__"),g[27]=a):a=g[27];b=a}return b}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:12435","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12435")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","I64","MWHighlyForwardedIndicator.react","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l=c("justknobx")._("1649"),m=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function a(a){var b=j(9),e=a.message,f=a.outgoing;a=a.threadType;f=d("MWPForwardedContent").useTitle(e,f);var g=e.forwardScore!=null?(i||(i=d("I64"))).to_int32(e.forwardScore):0;g=c("gkx")("24141")&&l!==0&&g>=l;if(b[0]!==g||b[1]!==e.forwardScore||b[2]!==e.messageId||b[3]!==a||b[4]!==f){var h;h=g?k.jsx(c("MWHighlyForwardedIndicator.react"),{forwardScore:(i||(i=d("I64"))).to_string((h=e.forwardScore)!=null?h:(i||(i=d("I64"))).zero),mid:e.messageId,threadType:a}):k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:k.jsx(c("MWXIconStrict.react"),{color:m,icon:c("MWXIconForwardAction"),size:12})})}),k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:k.jsx("span",{className:"x1aimgj9",children:f})})})]});b[0]=g;b[1]=e.forwardScore;b[2]=e.messageId;b[3]=a;b[4]=f;b[5]=h}else h=b[5];g=h;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",b[6]=e):e=b[6];b[7]!==g?(a=k.jsx("div",{className:e,children:g}),b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(4),d=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__hknrqEeMk6h__JHASH__"),b[0]=e):e=b[0];e=e;b[1]!==a||b[2]!==d?(e=a&&k.jsxs(k.Fragment,{children:[d!=null&&k.jsx("span",{className:"x1sdyfia",children:d}),k.jsx("span",{"aria-label":e,children:e})]}),b[1]=a,b[2]=d,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:12436","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12436")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).c;function a(a,b){var e=k(3),f=c("useMWPIsMessagePinned")(a),g=d("MWPMessageAuthor.react").useAuthorName();g=g[0];var i=d("Actor").useActor();i=i[0];i=i===(j||(j=d("I64"))).to_string(a.senderId);var l=c("useMWIsReplyToAuthor")(a);if(!f||i||l)return a.replySnippet;e[0]!==b||e[1]!==g?(f=b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",g)]).toString(),e[0]=b,e[1]=g,e[2]=f):f=e[2];return f}g["default"]=a}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","isMWEditedMessage","react","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("react"))).c,m=i,n={separator:{paddingEnd:"x150jy0e",paddingStart:"x1e558r4",$$css:!0}},o=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function p(a){var b=l(3);a=a.replySourceType;if(a==null)return null;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY))){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("MWXIconStrict.react"),{color:o,icon:c("MWXIconReply"),size:12}),b[0]=e):e=b[0];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE))){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("MWXIconStrict.react"),{color:o,icon:c("MWXIconForwardAction"),size:12}),b[1]=e):e=b[1];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION))){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx(c("MWXIconStrict.react"),{color:o,icon:c("MWXIconForward"),size:12}),b[2]=e):e=b[2];return e}return null}function a(a){var b=l(20),e=a.enableEditHistory,g=a.message;a=a.outgoing;e=e===void 0?!0:e;var i=(h||(h=c("useReStore")))();a=c("useMWReplySnippetContent")(g,a);var j;b[0]!==i.tables.threads||b[1]!==g.threadKey?(j=function(){return d("ReQL").fromTableAscending(i.tables.threads,["threadType"]).getKeyRange(g.threadKey).map(function(a){return a.threadType})},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=j):j=b[2];var k;b[3]!==i||b[4]!==g.threadKey?(k=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=k):k=b[5];j=d("ReQLSuspense").useFirst(j,k,f.id+":109");k=j==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(j);k=(j=d("useStringWithSubstitutions").useStringWithSubstitutions(k?a:null,g.threadKey))!=null?j:a;if(a==null||a.trim().length===0)return null;b[6]!==g?(j=c("isMWEditedMessage")(g),b[6]=g,b[7]=j):j=b[7];a=j;j=g==null?void 0:g.replySourceTypeV2;var o;b[8]!==j?(o=m.jsx(c("MWXRowItem.react"),{children:m.jsx(p,{replySourceType:j})}),b[8]=j,b[9]=o):o=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(j="x1aimgj9",b[10]=j):j=b[10];var q;b[11]!==a||b[12]!==e?(q=a&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:e,separatorStyle:n.separator}),b[11]=a,b[12]=e,b[13]=q):q=b[13];b[14]!==k||b[15]!==q?(a=m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:m.jsxs("span",{className:j,children:[k,q]})})}),b[14]=k,b[15]=q,b[16]=a):a=b[16];b[17]!==o||b[18]!==a?(e=m.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[o,a]}),b[17]=o,b[18]=a,b[19]=e):e=b[19];return e}g["default"]=a}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(22),e=a.isCMThread,f=a.isFirstMessageInGroup,g=a.isGroupThread,h=a.isLastMessageInGroup,m=a.message,n=a.outgoing,o=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var p=a.isPinnedMessageList,q=a.isStandardMessageList;a=l;var r;b[0]!==m||b[1]!==n||b[2]!==o?(r=function(){return j.jsx(c("MWForwardedContent.react"),{message:m,outgoing:n,threadType:o})},b[0]=m,b[1]=n,b[2]=o,b[3]=r):r=b[3];var s;b[4]!==q||b[5]!==m?(s=function(a,b){return q?j.jsx(c("MWPMessagePinnedText.react"),{divider:b&&j.jsx(c("BaseMiddot.react"),{}),message:m}):null},b[4]=q,b[5]=m,b[6]=s):s=b[6];var t;b[7]!==m||b[8]!==n?(t=function(){return j.jsx(c("MWReplySnippet.react"),{message:m,outgoing:n})},b[7]=m,b[8]=n,b[9]=t):t=b[9];a=p?a:void 0;var u;b[10]!==p||b[11]!==e||b[12]!==f||b[13]!==g||b[14]!==h||b[15]!==m||b[16]!==n||b[17]!==r||b[18]!==s||b[19]!==t||b[20]!==a?(u=j.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:p,isAnyCMThread:e,isFirstMessageInGroup:f,isGroupThread:g,isLastMessageInGroup:h,message:m,outgoing:n,renderForwardSnippet:r,renderPinnedText:s,renderReplySnippet:t,renderTextWrapper:k,renderTimestamp:a}),b[10]=p,b[11]=e,b[12]=f,b[13]=g,b[14]=h,b[15]=m,b[16]=n,b[17]=r,b[18]=s,b[19]=t,b[20]=a,b[21]=u):u=b[21];return u}function k(a){return j.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}k.displayName=k.name+" [from "+f.id+"]";function l(a){return j.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9929")}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["CometErrorBoundary.react","I64","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l=(i||(i=d("I64"))).of_int32(5e3);function a(a){var b=j(6),e=a.lastEbMessageTime,f=a.message;a=a.nextMessage;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=e!=null&&(i||(i=d("I64"))).gt((i||(i=d("I64"))).sub(e,f.timestampMs),l)&&(a==null||(i||(i=d("I64"))).lt(e,a.timestampMs)),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;b[4]!==e?(f=e===!0&&c("MWEBRestoreGapUIWithEBCheck.react")?k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(c("CometErrorBoundary.react"),{fallback:m,children:k.jsx(c("MWEBRestoreGapUIWithEBCheck.react"),{})})})}):null,b[4]=e,b[5]=f):f=b[5];return f}function m(){return null}g["default"]=a}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["MWChatMessageUnreadIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);a=a.shouldRenderUnreadIndicator;var e;b[0]!==a?(e=a===!0?j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null,b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","cr:4391","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useEffect,l=e.c;function a(a,e){var f=l(5),g;f[0]!==a.displayedContentTypes?(g=(i||(i=d("I64"))).to_string(a.displayedContentTypes),f[0]=a.displayedContentTypes,f[1]=g):g=f[1];b("cr:4391")("displayed_content_types",g);b("cr:4391")("row_index_from_bottom",String(e));f[2]!==a.displayedContentTypes?(g=function(){var b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_text",!0)});b=d("LSBitFlag").has(j.ofNumber(2),a.displayedContentTypes);b&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_media_preview",!0)});var e=d("LSBitFlag").has(j.ofNumber(4),a.displayedContentTypes);e&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_audio_clip",!0)});var f=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2048),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_xma",!0)});f=d("LSBitFlag").has(j.ofNumber(32),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_admin",!0)});f=d("LSBitFlag").has(j.ofNumber(64),a.displayedContentTypes);f&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_file_attachment",!0)});var g=d("LSBitFlag").has(j.ofNumber(512),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_story_reply",!0)});g=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(134217728),a.displayedContentTypes);g&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_sticker",!0)});var h=d("LSBitFlag").has(j.ofNumber(16384),a.displayedContentTypes);h&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_row_gif",!0)});(b||e||f||g||h)&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addAnnotationBoolean(a.traceId,"has_message_media",!0)})},e=[a.displayedContentTypes],f[2]=a.displayedContentTypes,f[3]=g,f[4]=e):(g=f[3],e=f[4]);k(g,e)}g["default"]=a}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=10;function a(a,b){var e=j(6),g=(h||(h=c("useReStore")))(),i=(b==null?void 0:b.isAdminMessage)===!0,l,m;e[0]!==i||e[1]!==g||e[2]!==a.threadKey||e[3]!==a.primarySortKey?(l=function(){return i?d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(a.primarySortKey)}).take(k).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},m=[g,i,a.primarySortKey,a.threadKey],e[0]=i,e[1]=g,e[2]=a.threadKey,e[3]=a.primarySortKey,e[4]=l,e[5]=m):(l=e[4],m=e[5]);e=d("ReQLSuspense").useFirst(l,m,f.id+":49");return i?e:b}g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","cr:11486","cr:3932","gkx","mwCMIsAnyCMThread","mwpMessageIsReply","react","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useMWPGetAttachments","useNextNonAdminMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.memo,n=l.startTransition,o=l.useCallback,p=l.useEffect,q=l.useId,r=l.useState,s=l.c,t={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},u=k.memo(b("cr:11486"));function v(a){var b=s(10),c,e,f;b[0]!==a?(c=a.message,e=a.nextMessage,f=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]),b[0]=a,b[1]=c,b[2]=e,b[3]=f):(c=b[1],e=b[2],f=b[3]);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"],b[4]=a):a=b[4];c=d("Int64Hooks").usePickInt64(c,a);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","timestampMs","isAdminMessage"],b[5]=a):a=b[5];e=d("Int64Hooks").usePickInt64(e,a);b[6]!==c||b[7]!==e||b[8]!==f?(a=k.jsx(u,babelHelpers["extends"]({message:c,nextMessage:e},f)),b[6]=c,b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}function a(a){var e=a.containerThreadKey,f=a.domElementRef,g=a.hasMessageEmphasisRing,h=a.isMediaGroupLastMessage,l=a.isModal,m=a.isSecureMessage,s=a.lastEbMessageTime,u=a.message,x=a.navigateToRouteForMediaViewer,y=a.nextMessage,z=a.onRenderError,A=a.prevMessage,B=a.renderAttachment,C=a.shouldRenderUnreadIndicator,D=a.stopHoveringRef,E=a.threadType;a=a.useReactionsV2;var F=a===void 0?!1:a;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var G=a.isPinnedMessageList;a=a.isStandardMessageList;var H=d("MWPActor.react").useActor(),I=G||d("MWPMessageParsingUtils").isStartOfGroup(u,A),J=G||d("MWPMessageParsingUtils").isEndOfGroup(u,y),K=c("mwCMIsAnyCMThread")(E),L=d("MWCMThreadTypes.react").isBroadcastThread(E),M=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(E),N=d("LSMessagingThreadTypeUtil").isGroup(E),aa=d("LSMessagingThreadTypeUtil").isArmadilloSecure(E),ba=c("mwpMessageIsReply")(u),O=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();O=O.seenCountV2Enabled;O=!u.isUnsent&&O;var P=O&&!M&&!d("LSMessagingThreadTypeUtil").isCMSubthread(E)&&!d("MWCMThreadTypes.react").isStandardCMThread(E),ca=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(u.senderId,u.threadKey),Q=!G&&(i||(i=d("I64"))).equal(u.senderId,H);O=c("useNextNonAdminMessage")(u,y);var da=O==null||h===!0,R=!Q;G=r(!1);var S=G[0],ea=G[1];H=r(!1);var fa=H[0],ga=H[1],T=o(function(a){return n(function(){return ga(a)})},[ga,n]),U=o(function(a){return n(function(){return ea(a)})},[ea,n]),V=q();G=r(!1);var W=G[0],X=G[1],ha=c("useMWMessageRowTheme")(),Y;H=c("useMWPGetAttachments")(u);G=H.length>0&&H[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(H[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));H=H.length>0&&H[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(H[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));var ia=c("useMWPEditMessageDeemphasizer")(),Z=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(u,E),$=Z.mediaRenderQpl;Z=Z.messageRowRef;p(function(){$==null?void 0:$.addPoint("render-message-row")},[$]);u.isAdminMessage?Y=k.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:f,isDialogOpened:W,isFirstMessageInGroup:I,isFocused:S,isModal:l,message:u,messageDomID:V,nextMessage:y,outgoing:Q,prevMessage:A,setFocusedInTransition:U,setHoveredInTransition:T,setIsDialogOpened:X,stopHoveringRef:D}):G||H?Y=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(c("BaseView.react"),{xstyle:ia,children:k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:$,message:u,outgoing:Q,xstyle:t.adminMessageAttachment})})})}):Y=k.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:k.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:k.jsx(d("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:k.jsxs(k.Fragment,{children:[k.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{shouldRenderUnreadIndicator:C}),I&&a?k.jsx(c("MWV2MessageStartOfGroupContent.react"),{message:u,prevMessage:A}):null,k.jsx(v,{isBroadcastChannel:M,isBroadcastThread:L,isLargeGroup:!1,isSecureGroupThread:aa&&N,isSecureThread:aa,message:u,nextMessage:O,children:function(a){return c("gkx")("7492")?k.jsx(w,{containerThreadKey:e,domElementRef:f,focused:S,hasClickState:P,hasMessageEmphasisRing:g,hovered:fa,incoming:R,isBroadcastThread:L,isCMThread:K,isDialogOpened:W,isFirstMessageInGroup:I,isFromBlockedContact:ca,isGroupThread:N,isLastMessage:da,isLastMessageInGroup:J,isMediaGroupLastMessage:h,isModal:l,isSecureMessage:m,mediaRenderQpl:$,message:u,messageDomID:V,navigateToRouteForMediaViewer:x,nextMessage:y,onRenderError:z,outgoing:Q,prevMessage:A,renderAttachment:B,setFocusedInTransition:U,setHoveredInTransition:T,setIsDialogOpened:X,shouldUseReactionsV2:F,status:a,stopHoveringRef:D,theme:ha,threadType:E}):k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f,isDialogOpened:W,isFocused:S,isModal:l,message:u,messageDomID:V,outgoing:Q,setFocused:U,setHovered:T,setIsDialogOpened:X,stopHoveringRef:D,theme:ha,children:[k.jsx(c("MWMessageRowHeader.react"),{isCMThread:K,isFirstMessageInGroup:I,isGroupThread:N,isLastMessageInGroup:J,message:u,outgoing:Q,threadType:E}),k.jsx(c("MWMessageRowBody.react"),{containerThreadKey:e,focused:S,hasClickState:P,hasMessageEmphasisRing:g,hovered:fa,incoming:R,isDialogOpened:W,isFirstMessageInGroup:I,isGroupThread:N,isModal:l,isSecureMessage:m,mediaRenderQpl:$,message:u,navigateToRouteForMediaViewer:x,nextMessage:y,onRenderError:z,prevMessage:A,renderAttachment:B,shouldUseReactionsV2:F,threadType:E}),k.jsx(c("MWMessageRowFooter.react"),{hasClickState:P,incoming:R,isBroadcastThread:L,isFromBlockedContact:ca,isLastMessage:da,isSecureMessage:m,message:u,nextMessage:h===!0?void 0:y,outgoing:Q,status:a})]})}})]})})})});return k.jsx("div",{ref:Z,children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:Q,isReply:ba})},children:[Y,k.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{lastEbMessageTime:s,message:u,nextMessage:y}),b("cr:3932")==null?null:k.jsx(b("cr:3932"),{})]})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){var b=s(56),d=a.containerThreadKey,e=a.domElementRef,f=a.focused,g=a.hasClickState,h=a.hasMessageEmphasisRing,i=a.hovered,j=a.incoming,l=a.isBroadcastThread,m=a.isCMThread,n=a.isDialogOpened,o=a.isFirstMessageInGroup,p=a.isFromBlockedContact,q=a.isGroupThread,r=a.isLastMessage,t=a.isLastMessageInGroup,u=a.isMediaGroupLastMessage,v=a.isModal,w=a.isSecureMessage,x=a.mediaRenderQpl,y=a.message,z=a.messageDomID,A=a.navigateToRouteForMediaViewer,B=a.nextMessage,C=a.onRenderError,D=a.outgoing,E=a.prevMessage,F=a.renderAttachment,G=a.setFocusedInTransition,H=a.setHoveredInTransition,I=a.setIsDialogOpened,J=a.shouldUseReactionsV2,K=a.status,L=a.stopHoveringRef,M=a.theme;a=a.threadType;var N;b[0]!==m||b[1]!==o||b[2]!==q||b[3]!==t||b[4]!==y||b[5]!==D||b[6]!==a?(N=k.jsx(c("MWMessageRowHeader.react"),{isCMThread:m,isFirstMessageInGroup:o,isGroupThread:q,isLastMessageInGroup:t,message:y,outgoing:D,threadType:a}),b[0]=m,b[1]=o,b[2]=q,b[3]=t,b[4]=y,b[5]=D,b[6]=a,b[7]=N):N=b[7];b[8]!==d||b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==i||b[13]!==j||b[14]!==n||b[15]!==o||b[16]!==q||b[17]!==v||b[18]!==w||b[19]!==x||b[20]!==y||b[21]!==A||b[22]!==B||b[23]!==C||b[24]!==E||b[25]!==F||b[26]!==J||b[27]!==a?(m=k.jsx(c("MWMessageRowBody.react"),{containerThreadKey:d,focused:f,hasClickState:g,hasMessageEmphasisRing:h,hovered:i,incoming:j,isDialogOpened:n,isFirstMessageInGroup:o,isGroupThread:q,isModal:v,isSecureMessage:w,mediaRenderQpl:x,message:y,navigateToRouteForMediaViewer:A,nextMessage:B,onRenderError:C,prevMessage:E,renderAttachment:F,shouldUseReactionsV2:J,threadType:a}),b[8]=d,b[9]=f,b[10]=g,b[11]=h,b[12]=i,b[13]=j,b[14]=n,b[15]=o,b[16]=q,b[17]=v,b[18]=w,b[19]=x,b[20]=y,b[21]=A,b[22]=B,b[23]=C,b[24]=E,b[25]=F,b[26]=J,b[27]=a,b[28]=m):m=b[28];t=u===!0?void 0:B;b[29]!==g||b[30]!==j||b[31]!==l||b[32]!==p||b[33]!==r||b[34]!==w||b[35]!==y||b[36]!==t||b[37]!==D||b[38]!==K?(d=k.jsx(c("MWMessageRowFooter.react"),{hasClickState:g,incoming:j,isBroadcastThread:l,isFromBlockedContact:p,isLastMessage:r,isSecureMessage:w,message:y,nextMessage:t,outgoing:D,status:K}),b[29]=g,b[30]=j,b[31]=l,b[32]=p,b[33]=r,b[34]=w,b[35]=y,b[36]=t,b[37]=D,b[38]=K,b[39]=d):d=b[39];b[40]!==e||b[41]!==n||b[42]!==f||b[43]!==v||b[44]!==y||b[45]!==z||b[46]!==D||b[47]!==G||b[48]!==H||b[49]!==I||b[50]!==L||b[51]!==M||b[52]!==N||b[53]!==m||b[54]!==d?(h=k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:e,isDialogOpened:n,isFocused:f,isModal:v,message:y,messageDomID:z,outgoing:D,setFocused:G,setHovered:H,setIsDialogOpened:I,stopHoveringRef:L,theme:M,children:[N,m,d]}),b[40]=e,b[41]=n,b[42]=f,b[43]=v,b[44]=y,b[45]=z,b[46]=D,b[47]=G,b[48]=H,b[49]=I,b[50]=L,b[51]=M,b[52]=N,b[53]=m,b[54]=d,b[55]=h):h=b[55];return h}var w=m(e),x=m(a);function y(a){var b=s(5),d,e;b[0]!==a?(e=a.rowIndexFromBottom,d=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);c("useMWMessageRowAddInteractionTracingMetadata")(d.message,e);b[3]!==d?(a=k.jsx(x,babelHelpers["extends"]({},d)),b[3]=d,b[4]=a):a=b[4];return a}function z(a){var b=s(8),e,f;b[0]!==a?(f=a.rowIndexFromBottom,e=babelHelpers.objectWithoutPropertiesLoose(a,["rowIndexFromBottom"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(c("gkx")("7810")){b[3]!==e||b[4]!==f?(a=k.jsx(d("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:k.jsx(y,babelHelpers["extends"]({},e,{rowIndexFromBottom:f}))}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}else{b[6]!==e?(f=k.jsx(x,babelHelpers["extends"]({},e)),b[6]=e,b[7]=f):f=b[7];return f}}g.MWMessageRow=z}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useState,m=b.c,n={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=m(22),e=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),f,g;b[0]!==a?(f=a.messages,g=babelHelpers.objectWithoutPropertiesLoose(a,["messages"]),b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);a=l(!1);var i=a[0],o=a[1];b[3]!==i?(a=function(){(j||(j=d("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",i?"hide_messages":"show_messages"),o(function(a){return!a})},b[3]=i,b[4]=a):a=b[4];var p=i?n.expanded:n.collapsed,q;b[5]!==i||b[6]!==f?(q=i?h._("__JHASH__k2cKnwAsyRP__JHASH__"):h._("__JHASH__ZpmrUMcuTWA__JHASH__",[h._param("number of admin udpates",f.length)]),b[5]=i,b[6]=f,b[7]=q):q=b[7];var r;b[8]!==p||b[9]!==q?(r=k.jsx(c("BaseView.react"),{xstyle:p,children:q}),b[8]=p,b[9]=q,b[10]=r):r=b[10];b[11]!==a||b[12]!==r?(p=k.jsx(c("MWXText.react"),{type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:a,role:"button",children:r})}),b[11]=a,b[12]=r,b[13]=p):p=b[13];b[14]!==i||b[15]!==g||b[16]!==f||b[17]!==e?(q=i?f.map(function(a,b){return k.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},g,{key:a.messageId,message:a,nextMessage:f[b+1],prevMessage:f[b-1],stopHoveringRef:e}))}):null,b[14]=i,b[15]=g,b[16]=f,b[17]=e,b[18]=q):q=b[18];b[19]!==p||b[20]!==q?(a=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsxs(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[p,q]})}),b[19]=p,b[20]=q,b[21]=a):a=b[21];return a}g["default"]=a}),226);
__d("MWComposerPlaceholder.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=j.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","cr:6285","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var d=j(2);a=a.threadKey;a=b("cr:6285")(a);var e;d[0]!==a?(e=a?null:k.jsxs(c("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXSpinner.react"),{color:"disabled",size:20})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:h._("__JHASH__7VvIEysTDk2__JHASH__")})})]}),d[0]=a,d[1]=e):e=d[1];return e}g["default"]=a}),226);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(){var a=j(11),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),g,i;a[0]!==e||a[1]!==b?(g=function(){return d("MWPreloadableQueries").getThreadBannerQuery(e,b)},i=[e,b],a[0]=e,a[1]=b,a[2]=g,a[3]=i):(g=a[2],i=a[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":31");var k;a[4]!==e||a[5]!==b?(i=function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(e,b)},k=[e,b],a[4]=e,a[5]=b,a[6]=i,a[7]=k):(i=a[6],k=a[7]);i=d("ReQLSuspense").useFirst(i,k,f.id+":36");a[8]!==g||a[9]!==i?(k={banner:g,pwSettings:i},a[8]=g,a[9]=i,a[10]=k):k=a[10];return k}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(7),c=a.banner,e=a.ignoreDismissTime,f=a.isPWDismissTimeSet,g=a.pwSettings,h=a.threadKey,k;b[0]!==g||b[1]!==c||b[2]!==e||b[3]!==f||b[4]!==h?(a=function(){if(g==null||c==null)return;var a=g.context,b=g.entryPoint,j=g.storyLocation,k=g.suspectId,l=g.tag,m=c.bannerId,n=c.cta1Title,o=c.cta2Title,p=c.heading,q=c.titleSectionOne;if(!((Boolean(e)||f)&&(i||(i=d("I64"))).equal(m,(i||(i=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&b!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(i||(i=d("I64"))).to_int32(b),feedback_tags:[l],surface:i.to_int32(j)},impersonatedUser:{id:"0"},otherUser:{id:i.to_string(k)},reportedUser:{id:"0"},thread:{id:i.to_string(h),type:1}},header:p,threadKey:h}},k=[h,c,g,f,e],b[0]=g,b[1]=c,b[2]=e,b[3]=f,b[4]=h,b[5]=a,b[6]=k):(a=b[5],k=b[6]);return d("Int64Hooks").useMemoInt64(a,k)}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","react","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a,b){var e=j(8),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSProactiveWarningTables")(),h=g.banner;g=g.pwSettings;if(e[0]!==b){var k;k=b!=null&&(i||(i=d("I64"))).equal((k=b.proactiveWarningDismissTime)!=null?k:(i||(i=d("I64"))).zero,(i||(i=d("I64"))).zero);e[0]=b;e[1]=k}else k=e[1];b=k;e[2]!==h||e[3]!==a||e[4]!==b||e[5]!==g||e[6]!==f?(k={banner:h,ignoreDismissTime:a,isPWDismissTimeSet:b,pwSettings:g,threadKey:f},e[2]=h,e[3]=a,e[4]=b,e[5]=g,e[6]=f,e[7]=k):k=e[7];return c("useMWProactiveWarningPayloadMemo")(k)}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","FDSButton.react","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","promiseDone","react","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.c,o={button:{width:"x5sxuk9",$$css:!0}};function a(a){var b=n(56),e=a.fallback,g=a.onClose;a=a.thread;var k=c("useMWProactiveWarningPayload")(void 0,a),p=(i||(i=c("useReStore")))(),q=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),r;b[0]!==k?(a=function(){k!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},r=[k],b[0]=k,b[1]=a,b[2]=r):(a=b[1],r=b[2]);m(a,r);if(k==null)return e;b[3]!==k.header?(a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",k.header)]),b[3]=k.header,b[4]=a):a=b[4];r=a;b[5]!==k.description?(e=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",k.description)]),b[5]=k.description,b[6]=e):e=b[6];a=e;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=(j||(j=c("stylex")))(o.button,!1),b[7]=e):e=b[7];var s;b[8]!==k.falco_event_data.data||b[9]!==k.falco_event_data.impersonatedUser||b[10]!==k.falco_event_data.otherUser||b[11]!==k.falco_event_data.reportedUser||b[12]!==k.falco_event_data.thread?(s=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},b[8]=k.falco_event_data.data,b[9]=k.falco_event_data.impersonatedUser,b[10]=k.falco_event_data.otherUser,b[11]=k.falco_event_data.reportedUser,b[12]=k.falco_event_data.thread,b[13]=s):s=b[13];var t;b[14]!==p||b[15]!==q||b[16]!==g?(t=function(){c("promiseDone")(p.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:q})},"readwrite",void 0,void 0,f.id+":117"),g,g)},b[14]=p,b[15]=q,b[16]=g,b[17]=t):t=b[17];b[18]!==k.context||b[19]!==k.cta1Title||b[20]!==g||b[21]!==s||b[22]!==t?(e=l.jsx("div",{className:e,children:l.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:k.context,label:k.cta1Title,onClose:g,onPress:s,setPWDismissTime:t})}),b[18]=k.context,b[19]=k.cta1Title,b[20]=g,b[21]=s,b[22]=t,b[23]=e):e=b[23];s=e;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(t=(j||(j=c("stylex")))(o.button,!1),b[24]=t):t=b[24];b[25]!==k.cta2Title?(e=h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",k.cta2Title)]),b[25]=k.cta2Title,b[26]=e):e=b[26];var u;b[27]!==k.falco_event_data.data||b[28]!==k.falco_event_data.impersonatedUser||b[29]!==k.falco_event_data.otherUser||b[30]!==k.falco_event_data.reportedUser||b[31]!==k.falco_event_data.thread||b[32]!==k.threadKey||b[33]!==p||b[34]!==g?(u=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}}),c("promiseDone")(p.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:k.threadKey})},"readwrite",void 0,void 0,f.id+":156"),g,g)},b[27]=k.falco_event_data.data,b[28]=k.falco_event_data.impersonatedUser,b[29]=k.falco_event_data.otherUser,b[30]=k.falco_event_data.reportedUser,b[31]=k.falco_event_data.thread,b[32]=k.threadKey,b[33]=p,b[34]=g,b[35]=u):u=b[35];b[36]!==e||b[37]!==u?(t=l.jsx("div",{className:t,children:l.jsx(c("FDSButton.react"),{label:e,onPress:u,reduceEmphasis:!1,size:"medium",type:"secondary"})}),b[36]=e,b[37]=u,b[38]=t):t=b[38];e=t;b[39]!==a?(u=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a}),b[39]=a,b[40]=u):u=b[40];b[41]!==r?(t=l.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:r}),b[41]=r,b[42]=t):t=b[42];b[43]!==u||b[44]!==t?(a=l.jsx(c("MDSTextPairing.react"),{body:u,headline:t,level:4,textAlign:"center"}),b[43]=u,b[44]=t,b[45]=a):a=b[45];b[46]===Symbol["for"]("react.memo_cache_sentinel")?(r="x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",b[46]=r):r=b[46];b[47]!==s||b[48]!==e?(u=l.jsxs("div",{className:r,children:[s,e]}),b[47]=s,b[48]=e,b[49]=u):u=b[49];b[50]!==a||b[51]!==u?(t=l.jsxs(l.Fragment,{children:[a,u]}),b[50]=a,b[51]=u,b[52]=t):t=b[52];r=t;b[53]===Symbol["for"]("react.memo_cache_sentinel")?(s="xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",b[53]=s):s=b[53];b[54]!==r?(e=l.jsx("div",{className:s,children:r}),b[54]=r,b[55]=e):e=b[55];return e}g["default"]=a}),226);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d=a.fallback,e=a.onClose;a=a.thread;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f=j.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:d,onClose:e,thread:a}),b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),98);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l=8659;function a(a){var e=j(7),f=a.isThreadInNullState;a=a.size;var g=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:l}),i=g.xacThreadDisclosureNux,m;e[0]!==i||e[1]!==f||e[2]!==g.xacThreadDisclosureNux||e[3]!==a?(m=i!=null?k.jsx(d("CometRelay").MatchContainer,{match:i,props:{isThreadInNullState:f,nuxKey:g.xacThreadDisclosureNux,size:a}}):null,e[0]=i,e[1]=f,e[2]=g.xacThreadDisclosureNux,e[3]=a,e[4]=m):m=e[4];e[5]!==m?(i=k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerXacDisclosureRelay",children:m}),e[5]=m,e[6]=i):i=e[6];return i}g["default"]=a}),98);
__d("MWContactDetails",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!=null)return a.name}function b(a){if(a==null)return;var b=a.firstName;if(b!=null)return b;else return a.name}function c(a){if(a!=null)return a.secondaryName}f.getName=a;f.getShortName=b;f.getSecondaryName=c}),66);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWXComposerBanner.react","MessageRequestsLog","MessengerMSplitFlag","MessengerWebUXLogger","react","useMWXConfirmationDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var m=b.c;function a(a){var b=m(59),e=a.isGroup,f=a.isGXAC,g=a.isIgContact,i=a.isMSplitContact,n=a.name,o=a.onDeleteConversation,p=a.onLeaveGroup,q=a.otherUserContact,r=a.secondaryName,s=a.thread,t=c("useMWXConfirmationDialog")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[0]=a):a=b[0];a=c("useMWXLazyDialog")(a);var u=a[0];b[1]!==s.threadType||b[2]!==s.cannotUnsendReason?(a=(j||(j=d("I64"))).equal(s.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))&&s.cannotUnsendReason!=null&&(j||(j=d("I64"))).equal(s.cannotUnsendReason,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),b[1]=s.threadType,b[2]=s.cannotUnsendReason,b[3]=a):a=b[3];var v=a;b[4]!==q?(a=q!=null?(j||(j=d("I64"))).to_string(q.id):void 0,b[4]=q,b[5]=a):a=b[5];var w=a;b[6]!==o||b[7]!==s?(q={onConfirm:o,thread:s},b[6]=o,b[7]=s,b[8]=q):q=b[8];a=q;var x=a;b[9]!==u||b[10]!==v||b[11]!==w||b[12]!==s?(o=function(){var a;u({loggingData:{entryPoint:4,requestId:void 0,source:v?5:1,sourceOwner:0},targetFBID:(a=w)!=null?a:(j||(j=d("I64"))).to_string(s.threadKey),thread:s})},b[9]=u,b[10]=v,b[11]=w,b[12]=s,b[13]=o):o=b[13];var y=o;b[14]!==t||b[15]!==p?(q=function(){t({body:h._("__JHASH__RPa59uyqDnD__JHASH__"),title:h._("__JHASH__QD3NL6bztov__JHASH__")},p)},b[14]=t,b[15]=p,b[16]=q):q=b[16];var z=q;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[17]=a):a=b[17];o=c("useMWXLazyDialog")(a);var A=o[0],B=c("MessengerWebUXLogger").useInteractionLogger();b[18]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._("__JHASH__-p5reen4SU3__JHASH__"),b[18]=q):q=b[18];b[19]!==s||b[20]!==w||b[21]!==y?(a={label:q,onPress:function(){d("MessageRequestsLog").logActionTapped(s,2,w),y()}},b[19]=s,b[20]=w,b[21]=y,b[22]=a):a=b[22];o=a;q=o;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__9sXJViR2MXn__JHASH__"),b[23]=a):a=b[23];b[24]!==s||b[25]!==B||b[26]!==z?(o={label:a,onPress:function(){d("MessageRequestsLog").logActionTapped(s,10),B==null?void 0:B({eventName:"leave_group",threadKey:s.threadKey,threadType:s.threadType}),z()}},b[24]=s,b[25]=B,b[26]=z,b[27]=o):o=b[27];a=o;o=a;a=e?o:q;if(e){b[28]!==f?(o=f?h._("__JHASH__Zo8nGcr-Wbu__JHASH__"):void 0,b[28]=f,b[29]=o):o=b[29];q=o;b[30]!==f?(e=f?h._("__JHASH__dGW95F1FSGX__JHASH__"):c("MessengerMSplitFlag").is_msplit_account?h._("__JHASH__MWNB1ho8ez7__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),b[30]=f,b[31]=e):e=b[31];o=e}else{b[32]!==g?(f=g?h._("__JHASH__CEpoRXODTMn__JHASH__"):void 0,b[32]=g,b[33]=f):f=b[33];q=f;if(g)if(n!=null&&r!=null){b[34]!==n||b[35]!==r?(e=h._("__JHASH__WhaEH6LWAgw__JHASH__",[h._param("XACDisplayName",n),h._param("XACSecondaryName",r)]),b[34]=n,b[35]=r,b[36]=e):e=b[36];o=e}else if(n==null&&r!=null){b[37]!==r?(f=h._("__JHASH__qZp511P-lrQ__JHASH__",[h._param("XACDisplayName",r)]),b[37]=r,b[38]=f):f=b[38];o=f}else{b[39]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__UMff0aQK9RN__JHASH__"),b[39]=g):g=b[39];o=g}else{b[40]!==n||b[41]!==i?(e=n!=null?h._("__JHASH__PiWKQUwgi8l__JHASH__",[h._param("Composer info message",c("MessengerMSplitFlag").is_msplit_account||i?d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(n):d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(n))]):h._("__JHASH__5qC4Qq1WTkB__JHASH__"),b[40]=n,b[41]=i,b[42]=e):e=b[42];o=e}}b[43]!==a.label||b[44]!==a.onPress?(r={label:a.label,onPress:a.onPress,size:32,type:"secondary"},b[43]=a.label,b[44]=a.onPress,b[45]=r):r=b[45];f=r;g=f;b[46]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._("__JHASH__OllJcbQyTkT__JHASH__"),b[46]=n):n=b[46];b[47]!==s||b[48]!==w||b[49]!==A||b[50]!==x?(i={label:n,onPress:function(){d("MessageRequestsLog").logActionTapped(s,8,w),A(x)},size:32,type:"secondary"},b[47]=s,b[48]=w,b[49]=A,b[50]=x,b[51]=i):i=b[51];e=i;a=e;b[52]!==g||b[53]!==a?(r=[g,a],b[52]=g,b[53]=a,b[54]=r):r=b[54];b[55]!==o||b[56]!==r||b[57]!==q?(f=l.jsx(c("MWXComposerBanner.react"),{bodyText:o,buttons:r,headerText:q,testid:void 0}),b[55]=o,b[56]=r,b[57]=q,b[58]=f):f=b[58];return f}g["default"]=a}),226);
__d("MWReQLMessageRequestComposerBanner.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSContactTypeExactUtils","MWMessageRequestComposerBanner.react","MessageRequestsLog","isMWXacGroupThread","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useRef,o=b.c;function a(a){var b=o(26),e=a.isGroup,f=a.onDeleteConversation,g=a.onLeaveGroup,i=a.otherUserContact,p=a.thread,q=n(!1);b[0]!==p?(a=c("isMWXacGroupThread")(p),b[0]=p,b[1]=a):a=b[1];a=a;if(b[2]!==i){var r;r=(r=d("MWContactDetails").getName(i))!=null?r:h._("__JHASH__AaE4hJExM0x__JHASH__");b[2]=i;b[3]=r}else r=b[3];r=r;var s,t;b[4]!==i?(t=d("MWContactDetails").getSecondaryName(i),s=c("isStringNullOrEmpty")(t)?void 0:t,b[4]=i,b[5]=s,b[6]=t):(s=b[5],t=b[6]);t=s;b[7]!==i?(s=i!=null?d("MWLSContactTypeExactUtils").isIgContact(i.contactTypeExact):!1,b[7]=i,b[8]=s):s=b[8];s=s;var u;b[9]!==i?(u=(i==null?void 0:i.contactTypeExact)!=null&&(j||(j=d("I64"))).equal(i.contactTypeExact,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)),b[9]=i,b[10]=u):u=b[10];u=u;var v,w;b[11]!==i||b[12]!==p?(v=function(){if(q.current===!0)return;q.current=!0;i==null?d("MessageRequestsLog").logMessageRequestInfoShown(p):d("MessageRequestsLog").logMessageRequestInfoShown(p,(j||(j=d("I64"))).to_string(i.id))},w=[p,i],b[11]=i,b[12]=p,b[13]=v,b[14]=w):(v=b[13],w=b[14]);m(v,w);b[15]!==a||b[16]!==e||b[17]!==s||b[18]!==u||b[19]!==r||b[20]!==f||b[21]!==g||b[22]!==i||b[23]!==t||b[24]!==p?(v=l.jsx(c("MWMessageRequestComposerBanner.react"),{isGXAC:a,isGroup:e,isIgContact:s,isMSplitContact:u,name:r,onDeleteConversation:f,onLeaveGroup:g,otherUserContact:i,secondaryName:t,thread:p}),b[15]=a,b[16]=e,b[17]=s,b[18]=u,b[19]=r,b[20]=f,b[21]=g,b[22]=i,b[23]=t,b[24]=p,b[25]=v):v=b[25];return v}g["default"]=a}),226);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(5),e=(h||(h=c("useReStore")))(),g=d("MWChatStateV2.react").useDispatch(),j,l;b[0]!==a||b[1]!==e||b[2]!==g?(j=function(){d("MessageRequestsLog").logActionConfirmed(a,8),c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":42"),function(){return g(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey))})},l=[e,a,g],b[0]=a,b[1]=e,b[2]=g,b[3]=j,b[4]=l):(j=b[3],l=b[4]);return d("Int64Hooks").useCallbackInt64(j,l)}g["default"]=a}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a){var b=j(5),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i,k;b[0]!==e||b[1]!==g||b[2]!==a?(i=function(){c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c("LSFactory")(b),{contactIds:c("LSVec").ofArray([g]),threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},k=[g,e,a],b[0]=e,b[1]=g,b[2]=a,b[3]=i,b[4]=k):(i=b[3],k=b[4]);return d("Int64Hooks").useCallbackInt64(i,k)}g["default"]=a}),98);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerXacDisclosureRelay.react","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;e.useMemo;var m=e.c,n=b("cr:3912")==null?function(a,b){return!1}:b("cr:3912").isOneOnOneMessageRequestV2;function o(a){var b=m(40),e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,k=(h||(h=c("useReStore")))();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var o=c("useMessageRequestLeaveGroup")(g.threadKey),p=g.threadType,q=c("useMessageRequestDeleteConversation")(g),r;b[0]!==p?(r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(p),b[0]=p,b[1]=r):r=b[1];var s=r;b[2]!==s||b[3]!==g?(r=!s&&d("LSThreadBitOffset").has(21,g),b[2]=s,b[3]=g,b[4]=r):r=b[4];r=r;var t=d("MWPActor.react").useActor(),u,v;b[5]!==g.threadType||b[6]!==g.threadKey||b[7]!==k||b[8]!==t?(u=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(k.tables.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,t)}):d("ReQL").empty()},v=[k,g.threadKey,g.threadType,t],b[5]=g.threadType,b[6]=g.threadKey,b[7]=k,b[8]=t,b[9]=u,b[10]=v):(u=b[9],v=b[10]);var w=d("ReQLSuspense").useFirst(u,v,f.id+":69");bb0:{if(s){b[11]!==g||b[12]!==w?(u=n(g,w),b[11]=g,b[12]=w,b[13]=u):u=b[13];v=u;break bb0}v=!1}u=v;b[14]!==p?(v=d("LSMessagingThreadTypeUtil").isGroup(p),b[14]=p,b[15]=v):v=b[15];var x=v;b[16]!==w?(p=w!=null?d("MWLSContactTypeExactUtils").isIgContact(w[1].contactTypeExact):!1,b[16]=w,b[17]=p):p=b[17];v=p;b[18]!==w||b[19]!==k||b[20]!==g?(p=function(){w!=null&&d("MAWSecureComposerUtils").onDeleteThread(k,g,w[1].id)},b[18]=w,b[19]=k,b[20]=g,b[21]=p):p=b[21];p=p;var y=c("MessengerWebUXLogger").useInteractionLogger(),z;b[22]!==e?(z=l.jsx(c("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:e}),b[22]=e,b[23]=z):z=b[23];b[24]!==u||b[25]!==r||b[26]!==s||b[27]!==p||b[28]!==q||b[29]!==x||b[30]!==g||b[31]!==y||b[32]!==o||b[33]!==w||b[34]!==v||b[35]!==a?(e=u||r?l.jsx(c("MWReQLMessageRequestComposerBanner.react"),{isGroup:x,onDeleteConversation:s?p:q,onLeaveGroup:function(){if(!s&&x){d("MessageRequestsLog").logActionConfirmed(g,10);y==null?void 0:y({eventName:"leave_group",threadKey:g.threadKey,threadType:g.threadType});return o()}},otherUserContact:w==null?void 0:w[1],thread:g}):!s&&v&&c("gkx")("23418")?l.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null,b[24]=u,b[25]=r,b[26]=s,b[27]=p,b[28]=q,b[29]=x,b[30]=g,b[31]=y,b[32]=o,b[33]=w,b[34]=v,b[35]=a,b[36]=e):e=b[36];b[37]!==z||b[38]!==e?(u=l.jsxs(l.Fragment,{children:[z,e]}),b[37]=z,b[38]=e,b[39]=u):u=b[39];return u}function a(a){var b=m(3),d=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;d=(d=d)!=null?d:!1;var e;b[0]!==d||b[1]!==a?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:p,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposerDisclosure",children:l.jsx(o,{forceVoiceIndicatorShown_TEST_ONLY:d,thread:a})})}),b[0]=d,b[1]=a,b[2]=e):e=b[2];return e}function p(){return null}g["default"]=a}),98);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b="xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno",a[0]=b):b=a[0];var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__viCgEPmOyD5__JHASH__"),a[1]=d):d=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx("div",{className:b,children:k.jsx(c("MDSTextPairing.react"),{headline:d,headlineColor:"secondary",level:4,meta:k.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})}),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function a(){var a=j(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__E5yAiYeCVHB__JHASH__",[h._param("=Learn more",k.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__W_KwwnBzw9K__JHASH__")})}))]),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1exxf4d x13fuv20 x178xt8z xqy66fx xc73u3c xx6bls6 x5ib6vp",a[1]=d):d=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx("div",{className:d,children:k.jsx(c("BaseTheme.react"),{config:l,children:k.jsx(c("MWXTextPairing.react"),{body:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),level:4,textAlign:"center"})})}),a[2]=d):d=a[2];return d}g["default"]=a}),226);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","react","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a,b,e){var g=k(17),j=(h||(h=c("useReStore")))(),l=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),m=c("useMWLSProactiveWarningTables")(),n=m.banner;m=m.pwSettings;var o;g[0]!==n||g[1]!==m?(o=n!=null&&m!=null?(i||(i=d("I64"))).equal(n.bannerId,(i||(i=d("I64"))).of_string("7")):!1,g[0]=n,g[1]=m,g[2]=o):o=g[2];n=o;if(g[3]!==a||g[4]!==n||g[5]!==e||g[6]!==b){o=a&&!n?e?!0:b!=null?(i||(i=d("I64"))).equal((m=b.proactiveWarningDismissTime)!=null?m:(i||(i=d("I64"))).zero,(i||(i=d("I64"))).zero):!1:!1;g[3]=a;g[4]=n;g[5]=e;g[6]=b;g[7]=o}else o=g[7];m=o;var p=b!=null&&m;g[8]!==p||g[9]!==j||g[10]!==l?(a=function(){p&&c("promiseDone")(j.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeededStoredProcedure")(c("LSFactory")(a),{threadKey:l})},"readwrite",void 0,void 0,f.id+":57"))},g[8]=p,g[9]=j,g[10]=l,g[11]=a):a=g[11];g[12]!==l||g[13]!==m||g[14]!==p||g[15]!==j?(n=[l,m,p,j],g[12]=l,g[13]=m,g[14]=p,g[15]=j,g[16]=n):n=g[16];d("Int64Hooks").useEffectInt64(a,n)}g["default"]=a}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).c;function a(a){var b=l(6),e=a.thread,g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor(),m;b[0]!==e.threadSubtype||b[1]!==e.threadKey||b[2]!==g||b[3]!==k?(a=function(){return e.threadSubtype!=null&&(i||(i=d("I64"))).equal(e.threadSubtype,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").MARKETPLACE_THREAD))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(e.threadKey),d("ReQL").fromTableAscending(g.tables.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,k)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},m=[e.threadKey,g,k,e.threadSubtype],b[0]=e.threadSubtype,b[1]=e.threadKey,b[2]=g,b[3]=k,b[4]=a,b[5]=m):(a=b[4],m=b[5]);return d("ReQLSuspense").useFirst(a,m,f.id+":31")}g["default"]=a}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){if(a){b.current.enabled=!1;b.current.handler=null;return function(){b.current.enabled=!0,b.current.handler=null}}},[b,a])}g["default"]=a}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWComposerPlaceholder.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","gkx","justknobx","lazyLoadComponent","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","mwIsThreadDisabled","nullthrows","react","useCommunityFolder","useIsChatPreviewsEnabled","useMAWOfflineQueueLoadingIndicator","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.memo,o=m.useMemo,p=m.c,q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatLoadingComposer.react").__setRef("MWPComposerGating.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),B=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),C=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),D=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),E=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react"));function a(a){var b,e=p(87),f=a.renderComposer;a=a.thread;var g=(j||(j=d("I64"))).ge(a.authorityLevel,j.of_int32(c("LSAuthorityLevel").AUTHORITATIVE)),h=a.cannotReplyReason==="viewer_not_subscribed",i=a.cannotReplyReason==="broadcast_chat_read_only",m=a.threadStatus!=null&&((j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),n=c("mwCMIsAnyCMThread")(a.threadType);a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));var o=d("LSThreadBitOffset").has(192,a),F;e[0]!==a?(F={thread:a},e[0]=a,e[1]=F):F=e[1];F=c("useMWMarketplaceThreadOtherUser")(F);var G=a.memberCount!=null?(j||(j=d("I64"))).to_int32(a.memberCount):0;G=d("MWCMThreadTypes.react").isMarketplaceThread(a.threadSubtype)&&!d("LSThreadBitOffset").has(213,a)&&G===2&&(F==null||d("LSContactBitOffset").has(88,F));F=c("useCommunityFolder")(a);var H=c("mwCMisStandAloneCommunity")(F==null?void 0:F.communityType),I=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,F==null?void 0:F.communityType);b=j.to_int32((b=F==null?void 0:F.sendsBlockedUntil)!=null?b:(j||(j=d("I64"))).zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var J=c("mwIsThreadDisabled")(a.takedownState,F==null?void 0:F.takedownState),K=(F==null?void 0:F.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(F.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),L=(F==null?void 0:F.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(F.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),M=(F==null?void 0:F.pauseStatus)!=null&&(j||(j=d("I64"))).equal(F.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4216");if(!g&&n){e[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[2]=g):g=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.LoadingComposer",children:l.jsx(y,{})}),e[3]=n):n=e[3];return n}if(J){e[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[4]=g):g=e[4];e[5]!==a.threadType?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.TakenDownThread",children:l.jsx(B,{threadType:a.threadType})}),e[5]=a.threadType,e[6]=n):n=e[6];return n}else if(M&&!H){e[7]===Symbol["for"]("react.memo_cache_sentinel")?(J=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[7]=J):J=e[7];g=F==null?void 0:F.folderId;n=F==null?void 0:F.name;M=F==null?void 0:F.fbGroupId;e[8]!==g||e[9]!==n||e[10]!==M||e[11]!==a.threadKey?(H=l.jsx(c("CometPlaceholder.react"),{fallback:J,name:"MWPComposerGating.CMPausedCommunity",children:l.jsx(v,{communityId:g,communityName:n,groupId:M,threadKey:a.threadKey})}),e[8]=g,e[9]=n,e[10]=M,e[11]=a.threadKey,e[12]=H):H=e[12];return H}else if(m){e[13]===Symbol["for"]("react.memo_cache_sentinel")?(J=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[13]=J):J=e[13];e[14]!==a?(g=d("LSThreadBitOffset").has(154,a),e[14]=a,e[15]=g):g=e[15];e[16]!==a.threadType?(n=d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),e[16]=a.threadType,e[17]=n):n=e[17];e[18]!==g||e[19]!==n||e[20]!==a.threadKey?(M=l.jsx(c("CometPlaceholder.react"),{fallback:J,name:"MWPComposerGating.PausedChat",children:l.jsx(w,{canPauseChat:g,shouldUseChannelTerminology:n,threadKey:a.threadKey})}),e[18]=g,e[19]=n,e[20]=a.threadKey,e[21]=M):M=e[21];return M}else if(I){e[22]===Symbol["for"]("react.memo_cache_sentinel")?(H=l.jsx(c("MWComposerPlaceholder.react"),{height:64}),e[22]=H):H=e[22];if(e[23]!==(F==null?void 0:F.communityType)){J=(m=F==null?void 0:F.communityType)!=null?m:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityType").FB_COMMUNITY);e[23]=F==null?void 0:F.communityType;e[24]=J}else J=e[24];n=(g=F==null?void 0:F.isMember)!=null?g:!1;e[25]!==J||e[26]!==n||e[27]!==a?(M=l.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWPComposerGating.CMChatPreview",children:l.jsx(x,{communityType:J,isCommunityMember:n,thread:a})}),e[25]=J,e[26]=n,e[27]=a,e[28]=M):M=e[28];return M}else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)){e[29]!==a.threadKey?(I=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:a.threadKey}),e[29]=a.threadKey,e[30]=I):I=e[30];e[31]!==a?(m=l.jsx(t,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:a}),e[31]=a,e[32]=m):m=e[32];e[33]!==I||e[34]!==m?(g=l.jsx(c("CometPlaceholder.react"),{fallback:I,name:"MWPComposerGating.UnjoinedDiscoverablePublicBroadcastChannel",children:m}),e[33]=I,e[34]=m,e[35]=g):g=e[35];return g}else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)){e[36]!==a.threadKey?(H=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:a.threadKey}),e[36]=a.threadKey,e[37]=H):H=e[37];e[38]!==a?(J=l.jsx(t,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:a}),e[38]=a,e[39]=J):J=e[39];e[40]!==H||e[41]!==J?(n=l.jsx(c("CometPlaceholder.react"),{fallback:H,name:"MWPComposerGating.SocialChannelUnjoined",children:J}),e[40]=H,e[41]=J,e[42]=n):n=e[42];return n}else if(o){e[43]===Symbol["for"]("react.memo_cache_sentinel")?(M=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[43]=M):M=e[43];e[44]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx(c("CometPlaceholder.react"),{fallback:M,name:"MWPComposerGating.XACSunset",children:l.jsx(c("MWXACSunsettedComposer.react"),{})}),e[44]=I):I=e[44];return I}else if(h){e[45]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[45]=m):m=e[45];g=F==null?void 0:F.fbGroupId;e[46]!==g||e[47]!==a?(H=l.jsx(c("CometPlaceholder.react"),{fallback:m,name:"MWPComposerGating.LeftGroup",children:l.jsx(q,{groupId:g,thread:a})}),e[46]=g,e[47]=a,e[48]=H):H=e[48];return H}else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&i){e[49]===Symbol["for"]("react.memo_cache_sentinel")?(J=l.jsx(c("MWComposerPlaceholder.react"),{height:55}),e[49]=J):J=e[49];e[50]!==a?(n=d("LSThreadBitOffset").has(139,a),e[50]=a,e[51]=n):n=e[51];e[52]!==n?(o=l.jsx(c("CometPlaceholder.react"),{fallback:J,name:"MWPComposerGating.CMGroupBroadcastReadOnly",children:l.jsx(s,{isBroadcastChatsReactionsEnabled:n})}),e[52]=n,e[53]=o):o=e[53];return o}else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&i){e[54]===Symbol["for"]("react.memo_cache_sentinel")?(M=l.jsx(c("MWComposerPlaceholder.react"),{height:48}),e[54]=M):M=e[54];e[55]!==a.threadKey?(I=l.jsx(c("CometPlaceholder.react"),{fallback:M,name:"MWPComposerGating.BroadcastChannelMemberComposer",children:l.jsx(u,{isJoined:!0,threadKey:a.threadKey})}),e[55]=a.threadKey,e[56]=I):I=e[56];return I}else if(b){e[57]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:141}),e[57]=h):h=e[57];e[58]!==F?(m=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.CMGroupMuted",children:l.jsx(r,{communityFolder:F})}),e[58]=F,e[59]=m):m=e[59];return m}else if(K){e[60]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:104}),e[60]=g):g=e[60];e[61]!==F?(H=c("nullthrows")(F),e[61]=F,e[62]=H):H=e[62];e[63]!==H||e[64]!==a?(J=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.CMGroupRequestToParticipate",children:l.jsx(z,{communityFolder:H,thread:a})}),e[63]=H,e[64]=a,e[65]=J):J=e[65];return J}else if(L){e[66]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWComposerPlaceholder.react"),{height:100}),e[66]=n):n=e[66];e[67]!==(F==null?void 0:F.fbGroupId)?(o=(j||(j=d("I64"))).to_string(c("nullthrows")(F==null?void 0:F.fbGroupId)),e[67]=F==null?void 0:F.fbGroupId,e[68]=o):o=e[68];e[69]!==o||e[70]!==a?(M=l.jsx(c("CometPlaceholder.react"),{fallback:n,name:"MWPComposerGating.CMGroupPendingRequestToParticipate",children:l.jsx(A,{groupID:o,thread:a})}),e[69]=o,e[70]=a,e[71]=M):M=e[71];return M}else if(a.cannotReplyReason!=null){e[72]===Symbol["for"]("react.memo_cache_sentinel")?(I=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[72]=I):I=e[72];e[73]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("CometPlaceholder.react"),{fallback:I,name:"MWPComposerGating.CannotReply",children:l.jsx(C,{})}),e[73]=b):b=e[73];return b}else if(c("justknobx")._("1978")&&G){e[74]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[74]=h):h=e[74];e[75]===Symbol["for"]("react.memo_cache_sentinel")?(m=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.DisableMarketplaceDMA",children:l.jsx(E,{})}),e[75]=m):m=e[75];return m}else{e[76]!==a||e[77]!==i?(K=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!i?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPComposerGating.ComposerNudge",children:l.jsx(D,{thread:a})}):null,e[76]=a,e[77]=i,e[78]=K):K=e[78];e[79]!==a?(g=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e[79]=a,e[80]=g):g=e[80];e[81]!==f?(H=f(),e[81]=f,e[82]=H):H=e[82];e[83]!==K||e[84]!==g||e[85]!==H?(J=l.jsxs(l.Fragment,{children:[K,g,H]}),e[83]=K,e[84]=g,e[85]=H,e[86]=J):J=e[86];return J}}var F=n(a);function b(a){var b=p(20),e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;var g;b[0]!==a?(g=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),b[0]=a,b[1]=g):g=b[1];var h;b[2]!==f?(h=f(),b[2]=f,b[3]=h):h=b[3];b[4]!==g||b[5]!==h?(f=l.jsxs(l.Fragment,{children:[g,h]}),b[4]=g,b[5]=h,b[6]=f):f=b[6];g=f;b[7]!==a.proactiveWarningDismissTime?(h=a.proactiveWarningDismissTime==null||(j||(j=d("I64"))).is_zero(a.proactiveWarningDismissTime),b[7]=a.proactiveWarningDismissTime,b[8]=h):h=b[8];f=h;b[9]!==a.threadType?(h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[9]=a.threadType,b[10]=h):h=b[10];h=h;var i;b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==g||b[15]!==a?(i=e?null:f&&!h?l.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:g,onClose:G,thread:a}):null,b[11]=e,b[12]=f,b[13]=h,b[14]=g,b[15]=a,b[16]=i):i=b[16];e=i;c("useMWLSSprocFetchProactiveWarningIfNeeded")(e!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);if(e!=null&&f!=null){b[17]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),b[17]=h):h=b[17];b[18]!==e?(i=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.ProactiveWarning",children:e}),b[18]=e,b[19]=i):i=b[19];return i}return g}function G(){}var H=n(b);function I(a){var b=a.configurations,e=a.isMessengerInbox,g=a.renderComposer,i=a.thread,m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor(),p=(j||(j=d("I64"))).equal(n,i.threadKey),q=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants).getKeyRange(i.threadKey),d("ReQL").fromTableAscending(m.tables.contacts)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[m,i.threadKey,i.threadType],f.id+":541");a=o(function(){return q.find(function(a){return p||q.length===1&&(j||(j=d("I64"))).equal(a.id,n)||!(j||(j=d("I64"))).equal(a.id,n)})},[n,p,q]);var r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),s=c("useMAWOfflineQueueLoadingIndicator")(!1,i,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);r=r&&s;s=b.find(function(a){return a!=null});b=s!=null;c("useMWPComposerFileDropzoneRegisterHandler")(b);return l.jsxs(l.Fragment,{children:[r?l.jsx(c("MWPArmadilloLoadingStateMessage.react"),{threadKey:i.threadKey}):null,b?s:d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?a!=null?l.jsx(H,{isMessengerInbox:e,otherUser:a,renderComposer:g,thread:i}):(j||(j=d("I64"))).lt(i.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:l.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):l.jsx(F,{renderComposer:g,thread:i})]})}I.displayName=I.name+" [from "+f.id+"]";function e(a){var b=p(8),e=a.configurations,f=a.isMessengerInbox,g=a.renderComposer;a=a.thread;f=(f=f)!=null?f:!1;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=l.jsx(I,{configurations:e,isMessengerInbox:f,renderComposer:g,thread:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];b[5]!==a.threadKey||b[6]!==h?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:J,children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:h})}),b[5]=a.threadKey,b[6]=h,b[7]=e):e=b[7];return e}function J(a){return l.jsx(c("MWV2ErrorComposer.react"),{})}J.displayName=J.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(j||d("react")).c;function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if((k||(k=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(1))&&!(k||(k=d("I64"))).equal(e,g)){e=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["typingIndicatorDisabled"]).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(k||(k=d("I64"))).equal(b.contactId,g)}))]));a=e[0];e=e[1];a=a==null?void 0:a.typingIndicatorDisabled;a=a!=null?(k||(k=d("I64"))).equal((l||(l=d("LSIntEnum"))).ofNumber(c("LSTypingIndicatorSettingState").DISABLED),a):!1;return e!=null&&!a}else return!c("mwCMIsAnyCMThread")(f)});return o.apply(this,arguments)}function a(a){var b=m(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),j,o;b[0]!==a.authorityLevel||b[1]!==a.threadKey||b[2]!==a.threadType||b[3]!==e||b[4]!==g||b[5]!==i?(j=function(b){if(!(k||(k=d("I64"))).ge(a.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(n(e,a.threadKey,a.threadType,g).then(function(g){if(g){i==null?void 0:i({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return e.runInTransaction(function(e){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(e),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:b,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":134")}}))},o=[a.authorityLevel,a.threadKey,a.threadType,e,g,i],b[0]=a.authorityLevel,b[1]=a.threadKey,b[2]=a.threadType,b[3]=e,b[4]=g,b[5]=i,b[6]=j,b[7]=o):(j=b[6],o=b[7]);return d("Int64Hooks").useCallbackInt64(j,o)}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i=function(a){return void 0};function a(a){a=c("useOnTypingStateChanged")(a);var b=d("MWChatViewerChatVisibilityHook").useViewerChatVisibility();b=b?a:i;return b}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["LSMessagingThreadTypeUtil","MWPReplyContext.react","MWPUseVoiceRecorder","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","WebUXLoggingSurfaceContextProvider","emptyFunction","gkx","react","react-forget-runtime","requireDeferred","useMAWEditMessageData","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useContext;var j=b.c,k=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2OpenComposer.react"),l=c("gkx")("23426");function m(){k.onReady(function(a){return a.logClickStartRecording()})}function n(){k.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=j(35),e=a.afterSendMessage,f=a.isPreviewThread;a=a.thread;e=e===void 0?c("emptyFunction"):e;var g=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("MWPReplyContext.react").MWPReplyContext,o);g=g.reply;var h=c("useMAWEditMessageData")(),k;b[0]!==a?(k={thread:a},b[0]=a,b[1]=k):k=b[1];k=c("useMWMediaManager")(k);var p=k.handleFileRemove,q=k.handleFileSelect;k=k.mediaStaging;var r;b[2]!==e||b[3]!==a?(r={afterSendMessage:e,skipUrlPreviewGen:!1,thread:a},b[2]=e,b[3]=a,b[4]=r):r=b[4];e=c("useMWV2OnSendOpenMessage")(r);r=d("MWPUseVoiceRecorder").useVoiceRecorder(void 0,m,n);var s=c("useMWOnTypingStateChanged")(a);c("useMWV2FileDropzoneRegisterHandler")(q);var t;b[5]!==a?(t=d("LSMessagingThreadTypeUtil").isAiBotSummoning(a),b[5]=a,b[6]=t):t=b[6];t=t;var u;b[7]!==f||b[8]!==k||b[9]!==e||b[10]!==s||b[11]!==a.threadKey?(u={composerEntrypointForLogging:"MWV2OpenComposer",isPreviewThread:f,mediaStaging:k,onSendMessage:e,onTypingStateChanged:s,threadKey:a.threadKey},b[7]=f,b[8]=k,b[9]=e,b[10]=s,b[11]=a.threadKey,b[12]=u):u=b[12];f=c("useMWPComposerEditor")(u);s=f.editor;u=f.editorElementRef;var v=f.hasStuffToSend;f=f.sendMessage;var w;b[13]!==g||b[14]!==a?(w=g!=null?i.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:g.messageId,messageThreadKey:g.threadKey,messageTimestamp:g.timestampMs,thread:a}):null,b[13]=g,b[14]=a,b[15]=w):w=b[15];b[16]!==h?(g=h!=null&&i.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:h}),b[16]=h,b[17]=g):g=b[17];var x;b[18]!==h||b[19]!==t||b[20]!==s||b[21]!==u||b[22]!==v||b[23]!==k||b[24]!==p||b[25]!==q||b[26]!==e||b[27]!==f||b[28]!==a||b[29]!==r?(x=h!=null?null:i.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:s,editorElementRef:u,hasStuffToSend:v,isAiBotMentionsEnabled:t&&l&&!c("MessengerMSplitFlag").is_msplit_account,mediaStaging:k,onAttachmentRemoved:p,onAttachmentsAdded:q,onSendMessage:e,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:a,voiceRecorder:r}),b[18]=h,b[19]=t,b[20]=s,b[21]=u,b[22]=v,b[23]=k,b[24]=p,b[25]=q,b[26]=e,b[27]=f,b[28]=a,b[29]=r,b[30]=x):x=b[30];b[31]!==w||b[32]!==g||b[33]!==x?(h=i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:i.jsxs("div",{children:[w,g,x]})}),b[31]=w,b[32]=g,b[33]=x,b[34]=h):h=b[34];return h}function o(a){return[a.reply]}g["default"]=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","cr:8061","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){a=i(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[!1,!0,null],a[0]=b):b=a[0];return b}var j=(e=b("cr:8061"))!=null?e:a;function c(a){var b=i(3),c=j(a.threadKey,a.threadType);c=c[0];var e;b[0]!==a.threadType||b[1]!==c?(e=d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&c,b[0]=a.threadType,b[1]=c,b[2]=e):e=b[2];return e}g["default"]=c}),98);
__d("useMWDefaultE2eeComposerConfiguration",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSThreadAttributionStore","lazyLoadComponent","react","useIsDefaultE2eeOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect,m=b.c,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function a(a){var b=m(6),e=c("useIsDefaultE2eeOpenThread")(a),f,g;b[0]!==e||b[1]!==a.threadKey?(f=function(){if(e){var b=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(a.threadKey));b=b.type==="MWLSEntrypoint"?b.value:(j||(j=d("LSIntEnum"))).toNumber(b.value);c("FBLogger")("maw_default_e2ee_composer_block").info("Default e2ee composer block showing up from non-meteora with entrypoint %s",b)}},g=[a.threadKey,e],b[0]=e,b[1]=a.threadKey,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g);if(e){b[4]!==a?(f=k.jsx(n,{thread:a}),b[4]=a,b[5]=f):f=b[5];return f}}g["default"]=a}),98);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=i(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=j.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var b=i(5),d=a.children;a=a.height;var e;b[0]!==a?(e=j.jsx(k,{height:a}),b[0]=a,b[1]=e):e=b[1];b[2]!==e||b[3]!==d?(a=j.jsx(c("CometPlaceholder.react"),{fallback:e,name:"MWPComposerPlaceholder",children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.c;function m(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);a=d("LSMessagingThreadTypeUtil").isGroup(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function n(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var o=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a,b){var e=l(11),f;e[0]!==b?(f=o(b),e[0]=b,e[1]=f):f=e[1];var g=f;e[2]!==a?(b=m(a),e[2]=a,e[3]=b):b=e[3];var h=b;e[4]!==a?(f=(j||(j=d("I64"))).to_string(a),e[4]=a,e[5]=f):f=e[5];var i=f;e[6]!==g||e[7]!==h||e[8]!==i?(b=function(){g!==c("LSContactReachabilityStatusType").REACHABLE&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:n(g),surface:h,thread_id:i}})},a=[i,g,h],e[6]=g,e[7]=h,e[8]=i,e[9]=b,e[10]=a):(b=e[9],a=e[10]);k(b,a)}g["default"]=a}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MWXLink.react","ReQL","ReQLSuspense","lazyLoadComponent","react","useMWPAdultMinorRestrictionLogging","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n="https://www.facebook.com/help/messenger-app/2258699540867663/?helpref=uf_share",o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function p(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:(l||(l=d("LSIntEnum"))).toNumber(a)}function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j=(k||(k=d("I64"))).equal(g,a.threadKey),q=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return j||!(k||(k=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[e,a.threadKey,a.threadType,g,j],f.id+":62"),r=p(q);c("useMWPAdultMinorRestrictionLogging")(a.threadKey,q==null?void 0:q.contactReachabilityStatusType);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&q!=null){var s=c("MWGetLSThreadReportingTokenFromThread")(a),t=!(k||(k=d("I64"))).equal(q.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(r!==c("LSContactReachabilityStatusType").REACHABLE&&r!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&r!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY){var u,v=h._("__JHASH__6xAG31n9hza__JHASH__");r===c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK?(u=h._("__JHASH__JkBfzTduzvJ__JHASH__"),v=h._("__JHASH__uoHFfFcMxzY__JHASH__",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:n,target:"_blank",children:"Learn more"}))])):r===c("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK&&(u=h._("__JHASH__rXNZmFzbPda__JHASH__"),v=h._("__JHASH__P-AUqVlI57w__JHASH__"));return m.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(o,{fbid:(k||(k=d("I64"))).to_string(q.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableHeader:u,unreachableTitle:v})})}if(t)return m.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(o,{buttonsOverride:b,fbid:(k||(k=d("I64"))).to_string(q.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:s,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:12401","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12401")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");b.useCallback;var k=b.c;function a(){var a=k(4),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("useLSMessagingSource")(),j;a[0]!==b||a[1]!==g||a[2]!==e?(j=function(a,h,j){c("promiseDone")(b.runInTransaction(function(b){var f=d("LSThreadAttributionTypeUtil").getSource(a,g);return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(b),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:j,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:e,snippet:h,text:h,threadKey:a,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":41"))},a[0]=b,a[1]=g,a[2]=e,a[3]=j):j=a[3];return j}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){var b=j(5),e=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(e,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var f=c("useMWV2DisabledPageComposerSendMenuItem")();b[0]!==f||b[1]!==e?(a=function(a){var b=a.title;a=a.id;if(a!=null)return f(e,b,a)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]!==a?(g=k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:n,onSelect:a},popoverResource:l,children:m}),b[3]=a,b[4]=g):g=b[4];return g}function m(a,b){return k.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:k.jsx(c("MWXButton.react"),{icon:c("MWXIconDragHandle"),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})})}m.displayName=m.name+" [from "+f.id+"]";function n(){}g["default"]=a}),226);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2);if(a.disableComposerInput&&a.hasPersistentMenu){var d;b[0]!==a.threadKey?(d=j.jsx(c("MWV2DisabledPageComposer.react"),{threadKey:a.threadKey}),b[0]=a.threadKey,b[1]=d):d=b[1];return d}}g["default"]=a}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c,l=c("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function a(a,b,c){var e=k(7),f;e[0]!==c?(f=m(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){var c;n({action:1,restriction_type:a,surface:g,thread_id:(i||(i=d("I64"))).to_string((c=b)!=null?c:(i||(i=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function b(a,b,c){var e=k(7),f;e[0]!==c?(f=m(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){var c;n({action:2,restriction_type:a,surface:g,thread_id:(i||(i=d("I64"))).to_string((c=b)!=null?c:(i||(i=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function e(a){if(a)if((i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE)))return 40;else if((i||(i=d("I64"))).equal(a.type_,(j||(j=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC)))return 39;else return 6;return 0}function m(a){if(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isPublicCMThread(a);if(c)return b?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function n(a){var b=a.action,c=a.restriction_type,d=a.surface,e=a.thread_id;l.onReady(function(a){return a.log(function(){return{action:b,restriction_type:c,surface:d,thread_id:e}})})}g.useLogFeatureLimitComposerImpression=a;g.useLogViewCommunityStandards=b;g.getRestrictionTypeFromFeatureLimit=e}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var b=k(6),e=a===void 0?"prompt":a,g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m=e==="composer_block",n=l,o;b[0]!==g.tables.mwb_safety_interventions||b[1]!==e||b[2]!==j||b[3]!==m?(a=function(){return d("ReQL").fromTableAscending(g.tables.mwb_safety_interventions).filter(function(a){var b=a.logOnlySafetyInterventionType,c=a.mutImpressionsCount,f=a.userId;return a.uiType===e&&n(b)&&f===(i||(i=d("I64"))).to_string(j)&&(m||(i||(i=d("I64"))).equal(c,(i||(i=d("I64"))).zero))}).map(function(a){return(i||(i=d("I64"))).to_string(a.interventionId)})},o=[g.tables.mwb_safety_interventions,e,j,m],b[0]=g.tables.mwb_safety_interventions,b[1]=e,b[2]=j,b[3]=m,b[4]=a,b[5]=o):(a=b[4],o=b[5]);b=d("ReQLSuspense").useArray(a,o,f.id+":35");return b}function l(a){return a==="education_notice_cm"||a==="education_notice_cm_unbatched"}g["default"]=a}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","react","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).c,l=60*60*1e3,m=24*l,n=23*l,o=1e3;function a(a,b){var e=k(7),f=c("useServerTime")().valueOf();a=a!=null?(j||(j=d("I64"))).to_float(a.expirationTimestampSeconds)*1e3:f;a=a-f;if(a<=n){f=Math.ceil(Math.max(a,l)/l);var g;e[0]!==b||e[1]!==f?(g=b?h._("__JHASH__MtDrzd4mllU__JHASH__",[h._plural(f,"number")]):h._("__JHASH__Oh7AJclyvOB__JHASH__",[h._plural(f,"number")]),e[0]=b,e[1]=f,e[2]=g):g=e[2];return g}else{f=Math.ceil(Math.max(a,m)/m);if(f>=o){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__XJkVHKZY5be__JHASH__"),e[3]=g):g=e[3];return g}e[4]!==b||e[5]!==f?(a=b?h._("__JHASH__DoFdcIuVM_E__JHASH__",[h._plural(f,"number")]):h._("__JHASH__RWH0KbM4haJ__JHASH__",[h._plural(f,"number")]),e[4]=b,e[5]=f,e[6]=a):a=e[6];return a}}g["default"]=a}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function a(a){var b=l(33);a=a.thread;var e=c("useMWCMFetchSafetyInterventions")("composer_block"),f;b[0]!==a?(f=(a==null?void 0:a.threadType)!=null?d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType):!1,b[0]=a,b[1]=f):f=b[1];f=f;f=f&&e.length>0;var g;b[2]!==e?(g={interventions_ids:e},b[2]=e,b[3]=g):g=b[3];g=c("useMWXEntryPointDialog")(c("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),g);var i=g[0];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a==null?void 0:a.threadKey,d("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);g=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a==null?void 0:a.threadType);var n;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("MWPActor.react").isAPPlus(),b[4]=n):n=b[4];n=n;b[5]!==g?(n=g!=null&&(j||(j=d("I64"))).equal(g.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&n,b[5]=g,b[6]=n):n=b[6];n=n;var o=c("useMWPFeatureLimitComposerBlockHeaderText")(g,n),p;b[7]!==g?(p=d("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(g),b[7]=g,b[8]=p):p=b[8];g=p;p=d("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(g,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);g=d("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(g,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);b[9]!==p?(a={onImpressionStart:p},b[9]=p,b[10]=a):a=b[10];p=c("useSinglePartialViewImpression")(a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__7_EenTF_FJG__JHASH__"),b[11]=a):a=b[11];a=a;var q;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._("__JHASH__phCVAIUGUlz__JHASH__"),b[12]=q):q=b[12];q=q;var r;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(r={target:"_blank",url:"https://www.facebook.com/communitystandards/"},b[13]=r):r=b[13];r=r;var s;b[14]!==n||b[15]!==f?(s=n||f?h._("__JHASH__9oilSt_qVYo__JHASH__"):h._("__JHASH___Q1doHhXtgm__JHASH__"),b[14]=n,b[15]=f,b[16]=s):s=b[16];s=s;n=n?q:a;q=f?void 0:r;b[17]!==f||b[18]!==i||b[19]!==e||b[20]!==g?(a=f?function(){i({interventionsIds:e},function(){})}:g,b[17]=f,b[18]=i,b[19]=e,b[20]=g,b[21]=a):a=b[21];b[22]!==s||b[23]!==q||b[24]!==a?(r=[{label:s,linkProps:q,onPress:a}],b[22]=s,b[23]=q,b[24]=a,b[25]=r):r=b[25];b[26]!==n||b[27]!==r||b[28]!==o?(f=m.jsx(c("MWXComposerBanner.react"),{bodyText:n,buttons:r,headerText:o}),b[26]=n,b[27]=r,b[28]=o,b[29]=f):f=b[29];b[30]!==p||b[31]!==f?(g=m.jsx("div",{ref:p,children:f}),b[30]=p,b[31]=f,b[32]=g):g=b[32];return g}g["default"]=a}),226);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a,b,d){var e=i(2);b=b&&(!a||c("isFeatureLimitEnabled")());if(b){e[0]!==d?(a=j.jsx(c("MWPFeatureLimitsBlockedComposer.react"),{thread:d}),e[0]=d,e[1]=a):a=e[1];return a}}g["default"]=a}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c;h;function a(a){var b=i(2),e;b[0]!==a.threadType?(e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=e):e=b[1];b=e;e=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType);return c("useMWPFeatureLimitsBlockedComposerConfiguration")(b,e,a)}g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.c;function m(a){var b=a.reason;a=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}function a(a,b,e,f){var g=l(3),h=k(c("MWPreloadedText"));f=f!=null&&(i||(i=d("I64"))).equal(f,(i||(i=d("I64"))).of_float(c("LSNullstateCTAType").GET_STARTED))&&!h.text;h=!(i||(i=d("I64"))).equal(b,i.zero);b=c("justknobx")._("926");if(f&&!h||!b&&e){f=e?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA;g[0]!==f||g[1]!==a?(h=j.jsx(m,{reason:f,threadKey:a}),g[0]=f,g[1]=a,g[2]=h):h=g[2];return h}}g["default"]=a}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","useMWPNullComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c;i;function a(a){var b=j(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.thread_nullstate||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.thread_nullstate).getKeyRange(a.threadKey)},b[0]=e.tables.thread_nullstate,b[1]=a.threadKey,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a.threadKey?(i=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":27");b[6]!==a?(i=d("LSThreadBitOffset").has(44,a),b[6]=a,b[7]=i):i=b[7];b=i;return c("useMWPNullComposerConfiguration")(a.threadKey,a.lastActivityTimestampMs,b,g==null?void 0:g.ctaType)}g["default"]=a}),98);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"xh8yej3",$$css:!0}};b=j.forwardRef(a);function a(a,b){a=i(4);var d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=[k.container,k.block],a[0]=d):d=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.glimmer})}),a[1]=e):e=a[1];a[2]!==b?(d=j.jsx(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:b,spacing:20,xstyle:d,children:e}),a[2]=b,a[3]=d):d=a[3];return d}e=b;g["default"]=e}),98);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return(i||(i=d("I64"))).lt(e.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))?j.jsx(c("MWXComposerGlimmer.react"),{}):j.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||(k=d("react"))).c;k;function a(a){var b=l(16),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k;b[0]!==g||b[1]!==a.threadKey?(k=(i||(i=d("I64"))).equal(g,a.threadKey),b[0]=g,b[1]=a.threadKey,b[2]=k):k=b[2];var m=k,n;b[3]!==a.threadType||b[4]!==a.threadKey||b[5]!==e||b[6]!==m||b[7]!==g?(k=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return m||!(i||(i=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},n=[e,a.threadKey,a.threadType,g,m],b[3]=a.threadType,b[4]=a.threadKey,b[5]=e,b[6]=m,b[7]=g,b[8]=k,b[9]=n):(k=b[8],n=b[9]);k=d("ReQLSuspense").useFirst(k,n,f.id+":33");if(k==null)return;n=k==null?void 0:k.authorityLevel;var o=k==null?void 0:k.blockedSinceTimestampMs,p;b[10]!==k||b[11]!==n||b[12]!==o||b[13]!==a.threadKey||b[14]!==a.threadType?(p=c("getMWPUnavailableComposerConfiguration")(a.threadKey,a.threadType,{authorityLevel:n,blockedSinceTimestampMs:o,hasMessageCapability:d("LSContactBitOffset").has(0,k),hasReplyMessageCapability:d("LSContactBitOffset").has(1,k),isPage:(i||(i=d("I64"))).equal(k.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}),b[10]=k,b[11]=n,b[12]=o,b[13]=a.threadKey,b[14]=a.threadType,b[15]=p):p=b[15];return p}g["default"]=a}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=d("LSMessagingThreadTypeUtil").isOneToOne(a)&&b,c[0]=a,c[1]=b,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=j(7),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["id"].concat(d("LSContactBitOffset").contactCapabilityFields),b[0]=e):e=b[0];e=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,e);var f=c("useMWIsContactRestricted")(e);f=c("useMWPShouldShowRestrictedComposer")(a.threadType,f);if(f&&e!=null){b[1]!==e.id?(f=(i||(i=d("I64"))).to_string(e.id),b[1]=e.id,b[2]=f):f=b[2];b[3]!==f||b[4]!==a.threadKey||b[5]!==a.threadType?(e=k.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:k.jsx(l,{fbid:f,threadKey:a.threadKey,threadType:a.threadType})}),b[3]=f,b[4]=a.threadKey,b[5]=a.threadType,b[6]=e):e=b[6];return e}}g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","cr:13127","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useState,k=e.c,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,e,f,g,h,o){var p=k(15),q=j(!1),r=q[0];q=q[1];var s=b("cr:13127")(a);s=s&&c("gkx")("7946");if((o||h||s||r)&&(!d("LSMessagingThreadTypeUtil").isOneToOne(e)||f!=null))if(g){p[0]!==a?(o={threadKey:a},p[0]=a,p[1]=o):o=p[1];p[2]!==f||p[3]!==o?(h=i.jsx(n,{otherUser:f,thread:o}),p[2]=f,p[3]=o,p[4]=h):h=p[4];return h}else if(s||r){p[5]!==a?(e={threadKey:a},p[5]=a,p[6]=e):e=p[6];p[7]!==r||p[8]!==e?(g=i.jsx(m,{isODCutoverNavigationInProgress:r,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:q,thread:e}),p[7]=r,p[8]=e,p[9]=g):g=p[9];return g}else{o=f!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER;p[10]!==a?(h={threadKey:a},p[10]=a,p[11]=h):h=p[11];p[12]!==o||p[13]!==h?(s=i.jsx(l,{reason:o,thread:h}),p[12]=o,p[13]=h,p[14]=s):s=p[14];return s}}g["default"]=a}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","useMWCutoverComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c;i;function a(a){var b=j(9),e=(h||(h=c("useReStore")))(),g;b[0]!==a.threadType||b[1]!==a.threadKey||b[2]!==e.tables.contacts?(g=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a.threadKey):d("ReQL").empty()},b[0]=a.threadType,b[1]=a.threadKey,b[2]=e.tables.contacts,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];g=d("ReQLSuspense").useFirst(g,i,f.id+":33");i=((i=(i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":44"))==null?void 0:i.minMessageId)!=null?i:"")==="";var k;b[7]!==g?(k=g!=null&&d("LSContactBitOffset").has(76,g),b[7]=g,b[8]=k):k=b[8];b=k;k=b&&i;b=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(128,a);i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a.threadKey);return c("useMWCutoverComposerConfiguration")(a.threadKey,a.threadType,g,i,b,k)}g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:9773","emptyFunction","react","useMAWEditMessageData","useMWDefaultE2eeComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWReQLCutoverComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h,k=j.memo,l=j.c;function m(a){var b=l(9),d=c("useMWPReQLNullComposerConfiguration")(a),e=c("useMWPDisablePageComposerConfiguration")(a),f=c("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(a),g=c("useMWReQLCutoverComposerConfiguration")(a),h=c("useMWPBlockedComposerConfiguration")(a),i=c("useMWPRestrictedComposerConfiguration")(a),j=c("useMWPReQLUnavailableComposerConfiguration")(a);a=c("useMWDefaultE2eeComposerConfiguration")(a);var k;b[0]!==d||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==i||b[6]!==j||b[7]!==a?(k=[d,e,f,g,h,i,j,a],b[0]=d,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i,b[6]=j,b[7]=a,b[8]=k):k=b[8];return k}function a(a){var e=l(8),f=a.afterSendMessage,g=a.isPreviewThread;a=a.thread;var h=c("useMAWEditMessageData")();h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(h!=null?h.threadType:a.threadType);if(b("cr:9773")!=null&&h){e[0]!==f||e[1]!==g||e[2]!==a?(h=i.jsx(b("cr:9773"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h}else{e[4]!==f||e[5]!==g||e[6]!==a?(h=i.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=h):h=e[7];return h}}var n=k(a);function e(a){var b=l(8),d=a.afterSendMessage,e=a.isPreviewThread,f=a.thread,g=d===void 0?c("emptyFunction"):d;a=m(f);b[0]!==g||b[1]!==e||b[2]!==f?(d=function(){return i.jsx(n,{afterSendMessage:g,isPreviewThread:e,thread:f})},b[0]=g,b[1]=e,b[2]=f,b[3]=d):d=b[3];var h;b[4]!==a||b[5]!==d||b[6]!==f?(h=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:d,thread:f}),b[4]=a,b[5]=d,b[6]=f,b[7]=h):h=b[7];return h}function f(a){var b=l(8),d=a.afterSendMessage,e=a.isPreviewThread,f=a.thread;a=m(f);var g;b[0]!==d||b[1]!==e||b[2]!==f?(g=function(){return i.jsx(n,{afterSendMessage:d,isPreviewThread:e,thread:f})},b[0]=d,b[1]=e,b[2]=f,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g||b[6]!==f?(h=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:g,thread:f}),b[4]=a,b[5]=g,b[6]=f,b[7]=h):h=b[7];return h}g.MWChatComposerGating=e;g.MWInboxComposerGating=f}),98);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=b.c,o=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),p={banner:{backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingStart:"x1xfsgkm",paddingEnd:"xqmdsaz",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=n(21),b=(i||(i=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[1]=f):f=a[1];f=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),f);var g=f[0];f=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var j=f.startFlow;f=c("useMWEBGetUpsellState")();f=f.isRestoreUpsellsDismissed;var q=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,r=m(!1),s=m(!1),t;a[2]!==b||a[3]!==j?(t=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;j({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:k,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:q});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);s.current===!1&&(s.current=!0,c("promiseDone")(o.load(),function(a){return a(g)}))}})},a[2]=b,a[3]=j,a[4]=t):t=a[4];var u=t;a[5]!==u?(t={onVisible:function(){u("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}},a[5]=u,a[6]=t):t=a[6];t=c("useVisibilityObserver")(t);var v=e===4&&!f;a[7]!==v||a[8]!==u?(e=function(){r.current===!1&&v&&(r.current=!0,u("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},f=[v,u],a[7]=v,a[8]=u,a[9]=e,a[10]=f):(e=a[9],f=a[10]);l(e,f);if(!v)return null;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._("__JHASH__4WMqcKoHbeS__JHASH__"),a[11]=e):e=a[11];a[12]!==u||a[13]!==g?(f=function(){u("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),g({source:q})},a[12]=u,a[13]=g,a[14]=f):f=a[14];var w;a[15]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._("__JHASH__KfRv84gajDv__JHASH__"),a[15]=w):w=a[15];a[16]!==f?(e=k.jsx(c("MWXRowItem.react"),{xstyle:p.banner,children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:k.jsxs(k.Fragment,{children:[e," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",testid:void 0,children:w})})]})})}),a[16]=f,a[17]=e):e=a[17];a[18]!==t||a[19]!==e?(w=k.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:t,spacing:0,children:e}),a[18]=t,a[19]=e,a[20]=w):w=a[20];return w}g["default"]=a}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6185531621550317"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c;j;function a(a){var b=k(11),e=a.children,f=a.threadKey,g=(h||(h=c("useReStore")))();b[0]!==f?(a=(i||(i=d("I64"))).to_string(f),b[0]=f,b[1]=a):a=b[1];var j;b[2]!==a?(j={threadID:a},b[2]=a,b[3]=j):j=b[3];a=j;j=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var l=j[0];b[4]!==g.tables.threads||b[5]!==f||b[6]!==l?(a=function(){c("promiseDone")(g.tables.threads.get(f),function(a){if(a==null)return;l({thread:a})})},b[4]=g.tables.threads,b[5]=f,b[6]=l,b[7]=a):a=b[7];j=a;b[8]!==e||b[9]!==j?(a=e(j),b[8]=e,b[9]=j,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWExpandReactionsButton.react",["fbt","I64","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMultiReactConstants","MWXPressable.react","MWXTooltip.react","emptyFunction","intlSummarizeNumber","react","stylex","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;var m=b.useCallback,n=b.useMemo,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiNum:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},fontStyles:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0}};function a(a){var b=a.isMultiReactExpanded,e=a.isReactionReadOnly,f=a.isSecure,g=a.message,j=a.numOverflowEmojis,p=a.sendReaction,q=a.setIsReactionsRowAnimationInProgress,r=a.threadKey,s=a.threadType,t=a.toggleMultiReactExpanded,u=(k||(k=d("I64"))).to_string(r),v=k.to_string(g.timestampMs);a=n(function(){return d("MWChatMessageId").makeSent(u,g.messageId,v)},[u,g.messageId,v]);s=d("MWCMThreadTypes.react").isBroadcastThread(s);r=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(r);var w=m(function(){t(),q(!0)},[q,t]);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:r&&s,hasReactionsV2:r,isBroadcastThread:s,isSecure:f,messageID:a,onVisibilityChange:c("emptyFunction"),sendReaction:p,children:function(a,f,g,k,m){f=h._("__JHASH__S6Ab1Epvc_N__JHASH__");var n=c("intlSummarizeNumber")(j),p="+"+n;n=n.length;g=l.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:e,expanding:!0,onHoverIn:g,onHoverOut:k,onPress:w,onPressIn:m,overlayRadius:"inherit",ref:a,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:l.jsx("div",{className:"x6s0dn4 x7daf1o xdxvlk3 x1fglp x1rp6h8o xg6i1s1 x78zum5 xl56j7k x10b6aqq xsyo7zv xurb0ha x1yrsyyn x1n2onr6 xp4054r",role:"none",children:l.jsx("div",{className:(i||(i=c("stylex")))([].concat(b?[o.fontStyles,o.emoji,o.additionalInlineButton]:[o.fontStyles,o.emojiNum])),role:"none",style:{minWidth:n*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:p})})});return e?g:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:g})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWFDSChatHeaderDetailsSubtitleMutedIcon.react",["ix","FDSTintedIcon_DEPRECATED.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("FDSTintedIcon_DEPRECATED.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWGroupLimitContainer.react",["cr:3409","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:3409")==null?void 0:b("cr:3409")(a.threadKey))!=null?a:[!1,!1];a=a[0];return a?d:c}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderBroadcastChannelSubText.react",["fbt","BaseMiddot.react","CometTextWithEntities.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(3);a=a.memberCount;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=k.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__SvUIYrDirw-__JHASH__").toString()}),b[0]=d):d=b[0];b[1]!==a?(d=k.jsxs(k.Fragment,{children:[d,a>0?k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),c("intlSummarizeNumber")(a),k.jsx(k.Fragment,{children:" "}),h._("__JHASH__YqlBHec3EKS__JHASH__",[h._plural(a)])]}):k.jsx(k.Fragment,{})]}),b[1]=a,b[2]=d):d=b[2];return d}g["default"]=a}),226);
__d("MWInboxInfoMembersSectionStorageKey",[],(function(a,b,c,d,e,f){"use strict";a="__MWInboxInfoMembersSection.isOpen__";f.storageKey=a}),66);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:9362","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:9362")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function a(a){var b=j(6),e=a.onPress;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__mZcaI1xn9AA__JHASH__"),b[0]=a):a=b[0];var f;b[1]!==e?(f=function(){e(),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},b[1]=e,b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:c("MWXIconMenuItemArrowDown"),size:20}),b[3]=g):g=b[3];b[4]!==f?(a=k.jsx(c("MWXPressable.react"),{"aria-label":a,onPress:f,xstyle:l.circleButton,children:g}),b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","InteractionTracingMetrics","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:3907","cr:6714","cr:7486","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useId,m=e.useState,n=e.c;function o(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!(i||(i=d("I64"))).equal(a.messageRenderingType,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function p(a){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}p.displayName=p.name+" [from "+f.id+"]";function q(a){return j.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";e=j.forwardRef(a);function a(a,e){var f=n(51),g=a.entryPoint,h=a.renderFooter,s=a.renderHeader,t=a.thread,u=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();a=m("");var v=a[0];a=a[1];var w=l(),x;f[0]!==t.threadType?(x=d("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),f[0]=t.threadType,f[1]=x):x=f[1];var y=x;x=c("useMWPAriaLabelForMessageListGrid")(t);var z=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),A=z.setVisibleMessage,B=z.visibleMessage,C;f[2]!==t.threadType?(z=function(){return t.threadType},C=[t.threadType],f[2]=t.threadType,f[3]=z,f[4]=C):(z=f[3],C=f[4]);var D=d("Int64Hooks").useMemoInt64(z,C),E=c("useCommunityFolder")(t);f[5]!==E?(z=E!=null?d("LSCommunityBitOffset").has(9,E):!1,f[5]=E,f[6]=z):z=f[6];var F=z,G=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(t.threadKey),H=b("cr:6714")(t.threadKey);C=m(!1);var I=C[0],J=C[1];f[7]!==H||f[8]!==I||f[9]!==A?(z=function(){H&&!I&&A(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:H.messageId,source:"LastReadWatermark",timestamp:H.timestampMs}})},C=[H,A,I],f[7]=H,f[8]=I,f[9]=A,f[10]=z,f[11]=C):(z=f[10],C=f[11]);k(z,C);f[12]!==t.threadKey||f[13]!==D||f[14]!==h?(z=function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:t.threadKey,threadType:D}),h&&h()]})},C=[h,t.threadKey,D],f[12]=t.threadKey,f[13]=D,f[14]=h,f[15]=z,f[16]=C):(z=f[15],C=f[16]);z=d("Int64Hooks").useCallbackInt64(z,C);f[17]===Symbol["for"]("react.memo_cache_sentinel")?(C=new Map(),f[17]=C):C=f[17];var K=C;f[18]===Symbol["for"]("react.memo_cache_sentinel")?(C=function(){return J(!0)},f[18]=C):C=f[18];var L;f[19]!==y||f[20]!==t.threadKey||f[21]!==t.threadType||f[22]!==H||f[23]!==B||f[24]!==E||f[25]!==F||f[26]!==v||f[27]!==D||f[28]!==G||f[29]!==u?(L=function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=y?(i||(i=d("I64"))).equal(t.threadKey,e.threadKey):!1,k=(H==null?void 0:H.messageId)===e.messageId,l=!o(g)&&!o(f),m=B==null?!1:B.messageId===e.messageId&&(B.source==="Reply"||B.source==="Pinned"||B.source==="Search"&&c("isMWNewSearchUXEnabled")());if((c("mwCMIsAnyCMThread")(t.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(t.threadType))&&o(e)&&!l){K.set(e.messageId,e);l=o(g)&&!o(f);if(l){l=Array.from(K.values());K.clear();return j.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:E==null?void 0:E.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:F,isModal:v===e.messageId,isSecureMessage:h,messages:l,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,threadType:D,useReactionsV2:G})}else return null}return j.jsx(d("MWMessageRow.react").MWMessageRow,{containerThreadKey:t.threadKey,domElementRef:b,fbGroupId:E==null?void 0:E.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:F,isModal:v===e.messageId,isSecureMessage:h,message:e,nextMessage:f,prevMessage:g,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,stopHoveringRef:u,threadType:D,useReactionsV2:G})},f[19]=y,f[20]=t.threadKey,f[21]=t.threadType,f[22]=H,f[23]=B,f[24]=E,f[25]=F,f[26]=v,f[27]=D,f[28]=G,f[29]=u,f[30]=L):L=f[30];f[31]!==g||f[32]!==e||f[33]!==z||f[34]!==s||f[35]!==L||f[36]!==t?(C=j.jsx(b("cr:7486"),{entryPoint:g,onPageLoaded:r,onUserScroll:C,pageSize:15,ref:e,renderFooter:z,renderHeader:s,renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:p,renderRow:L,thread:t}),f[31]=g,f[32]=e,f[33]=z,f[34]=s,f[35]=L,f[36]=t,f[37]=C):C=f[37];g=C;f[38]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",z=j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),f[38]=e,f[39]=z):(e=f[38],z=f[39]);f[40]===Symbol["for"]("react.memo_cache_sentinel")?(s=c("uuidv4")(),f[40]=s):s=f[40];f[41]!==g||f[42]!==w?(L=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:s,children:b("cr:3907")==null?g:j.jsx(b("cr:3907"),{id:w,children:g})})}),f[41]=g,f[42]=w,f[43]=L):L=f[43];f[44]!==x||f[45]!==v||f[46]!==L?(C=j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:x,modal:v,setModal:a,children:L}),f[44]=x,f[45]=v,f[46]=L,f[47]=C):C=f[47];f[48]!==t||f[49]!==C?(s=j.jsx(c("MWMessageSendingContext.react").Provider,{children:j.jsx(c("MWClickedMessageContext.react").Provider,{children:j.jsx(c("MWBlockingProtectionContext.react").Provider,{children:j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:e,fallback:z,name:"MWMessageList",children:j.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:t,children:C})})})})}),f[48]=t,f[49]=C,f[50]=s):s=f[50];return s}function r(a,b,d,e){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"page_loaded","AppTiming",void 0,{page_index:e,page_size:d,total_number_of_messages:b.length})})}f=e;g["default"]=f}),98);
__d("MWMessageReaction.react",["BaseContextualLayer.react","I64","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWXPopover.react","MWXPressable.react","MWXText.react","gkx","intlSummarizeNumber","react","stylex","useCometTheme","useFadeEffect"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.useState,o=b.c,p={"--card-background":"rgba(0,0,0,0)"},q={animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x4uz0a7",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xds7yc5",transformOrigin:"x1jpgh95",$$css:!0},emoji:{alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",marginEnd:"x11i5rnm",$$css:!0},emojiEnabled:{cursor:"x1ypdohk",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"xnmxlks",borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",display:"x78zum5",justifyContent:"xl56j7k",paddingBottom:"x10b6aqq",paddingEnd:"xsyo7zv",paddingStart:"xurb0ha",paddingTop:"x1yrsyyn",position:"x1n2onr6",textAlign:"xp4054r",$$css:!0},emojiRowContainer:{borderTopStartRadius:"xdxvlk3",borderTopEndRadius:"x1fglp",borderBottomEndRadius:"x1rp6h8o",borderBottomStartRadius:"xg6i1s1",marginBottom:"x12nagc",marginEnd:"xw3qccf",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},selectedColor:{backgroundColor:"x1y4ma1z",$$css:!0},selectedTextColor:{color:"x1f0x4kx",$$css:!0},tooltipContainer:{borderTopStartRadius:"x1r9drvm",borderTopEndRadius:"x16aqbuh",borderBottomEndRadius:"x9rzwcf",borderBottomStartRadius:"xjkqk3g",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},tootltipBackgroundComet:{backgroundColor:"xj5tmjb",boxShadow:"xms15q0",$$css:!0}};function a(a){var b=o(77),e=a.emoji,f=a.isProcessingReactions,g=a.isReadOnly,i=a.isTooltipShown,r=a.message,s=a.onFocus,t=a.onMouseEnter,u=a.onMouseLeave,v=a.onTooltipCTAPress,w=a.queueSendReactionCallback,x=a.reaction,y=a.sendReaction,z=a.shouldAnimate;a=a.threadKey;var A=c("useCometTheme")("invert"),B=A[0];A=A[1];var C=c("useCometTheme")("light");C[0];C=C[1];var D=d("MWChatReactionsUtils").isHeart(e[0]),E=m(null);i=c("useFadeEffect")(i);var F=i[0],G=i[1];i=i[2];var H=n(x.viewerIsReactor),I=H[0],J=H[1];b[0]!==x.count?(H=(j||(j=d("I64"))).to_int32(x.count),b[0]=x.count,b[1]=H):H=b[1];H=n(H);var K=H[0],L=H[1];H=n(!1);var M=H[0],N=H[1],O=m(null),P;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(H=function(){O.current!=null&&window.clearTimeout(O.current)},P=[],b[2]=H,b[3]=P):(H=b[2],P=b[3]);l(H,P);b[4]!==z?(H=function(){z&&(N(!0),O.current!=null&&window.clearTimeout(O.current),O.current=window.setTimeout(function(){O.current=null,N(!1)},600))},P=[z],b[4]=z,b[5]=H,b[6]=P):(H=b[5],P=b[6]);l(H,P);b[7]!==f||b[8]!==x.count||b[9]!==x.viewerIsReactor?(H=function(){f||(L((j||(j=d("I64"))).to_int32(x.count)),J(x.viewerIsReactor))},P=[f,x.count,x.viewerIsReactor],b[7]=f,b[8]=x.count,b[9]=x.viewerIsReactor,b[10]=H,b[11]=P):(H=b[10],P=b[11]);l(H,P);b[12]===Symbol["for"]("react.memo_cache_sentinel")?(H=function(){J(!0),L(function(a){return a+1})},b[12]=H):H=b[12];var Q=H;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(P=function(){J(!1),L(function(a){return a>1?a-1:a})},b[13]=P):P=b[13];var R=P;H=c("intlSummarizeNumber")(K).length;P=I?C:null;b[14]!==P?(C=(h||(h=c("stylex")))(P),b[14]=P,b[15]=C):C=b[15];b[16]!==I||b[17]!==e||b[18]!==K||b[19]!==y||b[20]!==w?(P=function(){I?R():Q();var a=e.join("");K===1&&I?y(a,I):w(a,function(){y(a,I)})},b[16]=I,b[17]=e,b[18]=K,b[19]=y,b[20]=w,b[21]=P):P=b[21];var S=I&&q.selectedColor,T;b[22]!==S?(T=(h||(h=c("stylex")))([q.emojiRow,S]),b[22]=S,b[23]=T):T=b[23];S=g?null:q.emojiEnabled;var U;b[24]!==S?(U=(h||(h=c("stylex")))([q.emoji,S]),b[24]=S,b[25]=U):U=b[25];S=z||M?q.animatedEmoji:!1;M=D?q.scaleHeartEmoji:!1;b[26]!==S||b[27]!==M?(D=(h||(h=c("stylex")))(S,M),b[26]=S,b[27]=M,b[28]=D):D=b[28];S="multi-react-emoji-"+e[0];b[29]!==e||b[30]!==S?(M=k.jsx(c("MWChatReactionEmoji"),{emoji:e,size:16,testid:void 0}),b[29]=e,b[30]=S,b[31]=M):M=b[31];b[32]!==D||b[33]!==M?(S=k.jsx("div",{className:D,children:M}),b[32]=D,b[33]=M,b[34]=S):S=b[34];b[35]!==U||b[36]!==S?(D=k.jsx("div",{className:U,children:S}),b[35]=U,b[36]=S,b[37]=D):D=b[37];M=I&&q.selectedTextColor;b[38]!==M?(U=(h||(h=c("stylex")))([q.emojiNum,M]),b[38]=M,b[39]=U):U=b[39];S="multi-react-emoji-num-"+e[0];M=H*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER;b[40]!==M?(H={minWidth:M},b[40]=M,b[41]=H):H=b[41];b[42]!==K?(M=c("intlSummarizeNumber")(K),b[42]=K,b[43]=M):M=b[43];var V;b[44]!==U||b[45]!==S||b[46]!==H||b[47]!==M?(V=k.jsx("div",{className:U,"data-testid":void 0,role:"none",style:H,children:M}),b[44]=U,b[45]=S,b[46]=H,b[47]=M,b[48]=V):V=b[48];b[49]!==T||b[50]!==D||b[51]!==V?(U=k.jsxs("div",{className:T,children:[D,V]}),b[49]=T,b[50]=D,b[51]=V,b[52]=U):U=b[52];b[53]!==g||b[54]!==P||b[55]!==U?(S=k.jsx(c("MWXPressable.react"),{disabled:g,onPress:P,overlayRadius:"inherit",ref:E,xstyle:q.emojiRowContainer,children:U}),b[53]=g,b[54]=P,b[55]=U,b[56]=S):S=b[56];b[57]!==g||b[58]!==F||b[59]!==G||b[60]!==A||b[61]!==v||b[62]!==x.reactionFbid||b[63]!==e||b[64]!==f||b[65]!==r||b[66]!==a||b[67]!==i||b[68]!==B?(H=!g&&F&&k.jsx(B,{children:k.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:E,position:"above",ref:i,children:k.jsx("div",{style:c("gkx")("23219")?null:p,children:k.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("23219"),children:k.jsx("div",{className:(h||(h=c("stylex")))(A,q.tooltipContainer,c("gkx")("23219")?null:q.tootltipBackgroundComet,G&&q.tooltipContainerVisible),role:"tooltip",children:k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsx(c("MWChatMultiReactionsTooltip.react"),{isProcessingReactions:f,messageId:r.messageId,onTooltipCTAPress:function(){return v(x.reactionFbid,e.join(""))},reactionFbid:x.reactionFbid,threadKey:a})})})})})})}),b[57]=g,b[58]=F,b[59]=G,b[60]=A,b[61]=v,b[62]=x.reactionFbid,b[63]=e,b[64]=f,b[65]=r,b[66]=a,b[67]=i,b[68]=B,b[69]=H):H=b[69];b[70]!==C||b[71]!==s||b[72]!==t||b[73]!==u||b[74]!==S||b[75]!==H?(M=k.jsxs("div",{className:C,onFocus:s,onMouseEnter:t,onMouseLeave:u,children:[S,H]}),b[70]=C,b[71]=s,b[72]=t,b[73]=u,b[74]=S,b[75]=H,b[76]=M):M=b[76];return M}g["default"]=a}),98);
__d("useEmojiReactionDynamicStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=b.c,n={animationBase:{opacity:"xg01cxk",transitionDuration:"xbb3pvg",transitionProperty:"xeq7tfg",width:"xnalus7",$$css:!0},animationEnter:{animationDuration:"xllfotl",animationName:"x127lhb5",opacity:"x1hc1fzr",$$css:!0},animationEnterWidth1:{width:"x1ygkb0v",$$css:!0},animationEnterWidth2:{width:"x1247r65",$$css:!0},animationEnterWidth3:{width:"xdc2ju1",$$css:!0},animationEnterWidth4:{width:"xgbm1jk",$$css:!0},animationEnterWidth5:{width:"x1rdo73f",$$css:!0},animationEnterWidth6:{width:"x13oubkp",$$css:!0},animationLeave:{animationDuration:"x773k2o",animationName:"xvma63k",opacity:"xg01cxk",width:"xnalus7",$$css:!0}};function o(a){switch(a){case 1:return n.animationEnterWidth1;case 2:return n.animationEnterWidth2;case 3:return n.animationEnterWidth3;case 4:return n.animationEnterWidth4;case 5:return n.animationEnterWidth5;case 6:return n.animationEnterWidth6;default:return null}}function p(){var a=l(new Map());function b(){return a.current}j(function(){return function(){return Array.from(b().values()).forEach(window.clearTimeout)}},[]);return b()}function q(){var a=m(3),b=c("useForceUpdate")(),d=c("useIsMountedRef")(),e;a[0]!==d.current||a[1]!==b?(e=function(){return function(){d.current&&b()}},a[0]=d.current,a[1]=b,a[2]=e):e=a[2];return c("useStable")(e)}function a(a,b,d,e){var f=q(),g=p(),h=c("useStable")(function(){return new Map()}),j=l(!0),m=d.duration,r=m===void 0?100:m,s=d.durationIn,t=d.durationOut,u=d.onEnter,v=d.onEnterComplete,w=d.onLeave,x=d.onLeaveComplete,y=i(function(a,b,c){return{item:b,key:a,order:c,style:{transitionDuration:((a=s)!=null?a:r)+"ms"},xstyle:[n.animationBase,j.current&&n.animationEnter,j.current&&o((c=b==null?void 0:b.reactionCountCharactersNum)!=null?c:0)]}},[s,r]),z=new Map(a.map(function(a,c){return[b(a),{item:a,order:c}]})),A=c("differenceSets")(new Set(z.keys()),new Set(h.keys())),B=c("differenceSets")(new Set(h.keys()),new Set(z.keys())),C=new Map();m=Array.from(c("mapSet")(B,function(a){a=c("nullthrows")(h.get(a));a=a.order;return a})).sort(function(a,b){return a-b});m.forEach(function(b,c){b=b-c;while(b<a.length){c=(c=C.get(b))!=null?c:0;C.set(b,c+1);b+=1}});d=c("sortBy")([].concat(c("mapMapToArray")(h,function(a){var b=a.key;b=z.get(b);if(b){return babelHelpers["extends"]({},a,{item:b.item,order:b.order+((b=C.get(b.order))!=null?b:0)})}return a}),Array.from(c("mapSet")(A,function(a){var b=c("nullthrows")(z.get(a)),d=b.item;b=b.order;return y(a,d,b)}))),function(a){return a.order});k(function(){if(e===!0)return;a.forEach(function(a,d){var e,i=b(a),j=(e=h.get(i))!=null?e:y(i,a,d);A.has(i)&&window.requestAnimationFrame(function(){var b;j.xstyle=[n.animationBase,n.animationEnter,o((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];window.clearTimeout(g.get(i));g.set(i,window.setTimeout(function(){v&&v(a)},(b=s)!=null?b:r));c("setImmediate")(function(){var b;j.xstyle=[n.animationBase,n.animationEnter,o((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];u&&u(a);f()})});j.item=a;j.order=d+((e=C.get(d))!=null?e:0);h.set(i,j)});Array.from(B.values()).forEach(function(a){var b=h.get(a);if(b==null)return;var d=b.item;if(b.status!=="leaving"){var e;b.status="leaving";b.style={transitionDuration:((e=t)!=null?e:r)+"ms"};window.requestAnimationFrame(function(){var e;b.xstyle=[n.animationBase,n.animationLeave];window.clearTimeout(g.get(a));g.set(a,window.setTimeout(function(){h["delete"](a),x&&x(d),f()},(e=t)!=null?e:r));c("setImmediate")(function(){w&&w(d),f()})})}});j.current=!1});return d}g["default"]=a}),98);
__d("useSendReactionCallbackQueue",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState,k=b.c,l=1e3,m=1500;function a(){var a=k(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=new Map(),a[0]=b):b=a[0];var c=i(b),d=i(null);b=j(!1);var e=b[0],f=b[1];if(a[1]===Symbol["for"]("react.memo_cache_sentinel")){b=function(a,b){f(!0),window.clearTimeout(d.current),c.current.set(a,b),d.current=window.setTimeout(function(){g()},m)};var g=function a(){if(c.current.size>0){f(!0);var b=Array.from(c.current.entries())[0],e=b[0];b=b[1];b();c.current["delete"](e);d.current=window.setTimeout(function(){a()},m)}else h()},h=function(){window.setTimeout(function(){d.current=null,f(!1)},l)};a[1]=b}else b=a[1];a[2]!==e?(b=[b,e],a[2]=e,a[3]=b):b=a[3];return b}g["default"]=a}),98);
__d("MWMessageReactionsList.react",["I64","LSAuthorityLevel","LSIntEnum","MWMessageReaction.react","MWMultiReactConstants","intlSummarizeNumber","react","stylex","useEmojiReactionDynamicStyleXTransition","useSendReactionCallbackQueue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;var m=b.useRef,n=b.c;function a(a){var b=n(43),e=a.emojis,f=a.hideTooltip,g=a.isMultiReactExpanded,h=a.isReactionReadOnly,i=a.message,r=a.onTooltipCTAPress,s=a.previousReactionItems,t=a.reactionItemsShown,u=a.reactionsV2,v=a.sendReactionThrottled,w=a.setIsReactionsRowAnimationInProgress,x=a.setShouldAnimate,y=a.shouldAnimate,z=a.showTooltip,A=a.threadKey,B=a.tooltipIndex,C=t.length,D=m(C);a=c("useSendReactionCallbackQueue")();var E=a[0],F=a[1];b[0]!==C||b[1]!==w||b[2]!==g||b[3]!==x?(a=function(){D.current=C,w(!1),g&&x(!1)},b[0]=C,b[1]=w,b[2]=g,b[3]=x,b[4]=a):a=b[4];a=a;var G;b[5]!==C||b[6]!==w?(G=function(){D.current=C,w(!1)},b[5]=C,b[6]=w,b[7]=G):G=b[7];G=G;var H;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(H=[],b[8]=H):H=b[8];H=H;if(u!=null){if(b[9]!==e||b[10]!==F||b[11]!==h||b[12]!==B||b[13]!==i||b[14]!==z||b[15]!==f||b[16]!==r||b[17]!==E||b[18]!==v||b[19]!==s||b[20]!==A||b[21]!==t){b[23]!==e||b[24]!==F||b[25]!==h||b[26]!==B||b[27]!==i||b[28]!==z||b[29]!==f||b[30]!==r||b[31]!==E||b[32]!==v||b[33]!==s||b[34]!==A?(u=function(a,b){var g=a.emoji;a=a.reaction;return e[b]==null?null:{element:l.jsx(c("MWMessageReaction.react"),{emoji:g,isProcessingReactions:F,isReadOnly:h,isTooltipShown:B===b,message:i,onFocus:function(){return z(b)},onMouseEnter:function(){return z(b)},onMouseLeave:f,onTooltipCTAPress:r,queueSendReactionCallback:E,reaction:a,sendReaction:v,shouldAnimate:(s==null?void 0:s.find(function(a){return a.emoji.join("")===g.join("")}))==null&&(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:A},g),key:e.toString()+b,reactionCountCharactersNum:c("intlSummarizeNumber")((j||(j=d("I64"))).to_int32(a.count)).length}},b[23]=e,b[24]=F,b[25]=h,b[26]=B,b[27]=i,b[28]=z,b[29]=f,b[30]=r,b[31]=E,b[32]=v,b[33]=s,b[34]=A,b[35]=u):u=b[35];u=t.map(u);b[9]=e;b[10]=F;b[11]=h;b[12]=B;b[13]=i;b[14]=z;b[15]=f;b[16]=r;b[17]=E;b[18]=v;b[19]=s;b[20]=A;b[21]=t;b[22]=u}else u=b[22];H=u}b[36]!==a||b[37]!==G?(t={duration:d("MWMultiReactConstants").REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION,onEnterComplete:a,onLeaveComplete:G},b[36]=a,b[37]=G,b[38]=t):t=b[38];u=c("useEmojiReactionDynamicStyleXTransition")(H,q,t);b[39]!==y||b[40]!==u||b[41]!==H?(a=y?u.map(p):H.map(o),b[39]=y,b[40]=u,b[41]=H,b[42]=a):a=b[42];return a}function o(a){return a==null?void 0:a.element}function p(a){return l.jsx("div",{className:(h||(h=c("stylex")))([a==null?void 0:a.xstyle]),style:babelHelpers["extends"]({},a.style),children:a.item&&a.item.element},a.key)}p.displayName=p.name+" [from "+f.id+"]";function q(a){return a!=null?a.key:0}g["default"]=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useMemo,k=b.useRef;function l(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function m(a,b){b=((b=b)!=null?b:[]).filter(function(a){return(i||(i=d("I64"))).gt(a.count,i.zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=k(!0),e=k([]),f=j(function(){return m(a,b)},[a,b]),g=j(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return j(function(){if(c.current)c.current=!1,e.current=f.sort(function(a,b){return(i||(i=d("I64"))).compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")});else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:(i||(i=d("I64"))).to_int32(a.reaction.count)>0});e.current=l(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWAddReactionButton.react","MWExpandReactionsButton.react","MWLSThread","MWMessageReactionsList.react","MWMultiReactConstants","ReQL","ReQLSuspense","emptyFunction","justknobx","react","stylex","unrecoverableViolation","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useOnOutsideClick","usePrevious","useReStore","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useRef,m=b.useState,n=b.c,o={wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=n(83),e=a.emojis,g=a.isMultiReactRowExpanded,j=a.message,p=a.onOpenDialog,q=a.outgoing,r=a.reactionsV2,s=a.toggleMultiReactionRowExpansion;a=m(-1);var t=a[0],u=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("2078"),b[0]=a):a=b[0];var v=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={isReactionsRowAnimationInProgress:!1,shouldAnimate:v},b[1]=a):a=b[1];a=m(a);var w=a[0],x=a[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){v&&x(function(b){return babelHelpers["extends"]({},b,{isReactionsRowAnimationInProgress:a})})},b[2]=a):a=b[2];var y=a;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){v&&x(function(b){return babelHelpers["extends"]({},b,{shouldAnimate:a})})},b[3]=a):a=b[3];var z=a;a=m(!1);var A=a[0],B=a[1];a=j.threadKey;var C=(h||(h=c("useReStore")))(),D=d("MWLSThread").useThread(a),E;b[4]!==D||b[5]!==C?(E=function(){return(D==null?void 0:D.parentThreadKey)?d("ReQL").fromTableAscending(C.tables.community_folders).getKeyRange(D==null?void 0:D.parentThreadKey):d("ReQL").empty()},b[4]=D,b[5]=C,b[6]=E):E=b[6];var F=D==null?void 0:D.parentThreadKey,G;b[7]!==C||b[8]!==F?(G=[C,F],b[7]=C,b[8]=F,b[9]=G):G=b[9];F=d("ReQLSuspense").useFirst(E,G,f.id+":99");if(b[10]!==D){G=(E=D)!=null?E:{};b[10]=D;b[11]=G}else G=b[11];E=G;G=E.threadType;if(G==null)throw c("unrecoverableViolation")("thread cannot be null when reacting to message","messenger_web_messaging");b[12]!==G?(E=d("LSMessagingThreadTypeUtil").isArmadilloSecure(G),b[12]=G,b[13]=E):E=b[13];E=E;var H;b[14]!==G?(H=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(G),b[14]=G,b[15]=H):H=b[15];H=H;var I;b[16]!==g||b[17]!==A||b[18]!==s?(I=g?function(){A||(z(!0),s&&s(),y(!0))}:null,b[16]=g,b[17]=A,b[18]=s,b[19]=I):I=b[19];I=c("useOnOutsideClick")(I);var J=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a),K=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(j,E,"instant_react"),L;b[20]!==K||b[21]!==j.messageId?(L=function(a,b){return K(j.messageId,a,b?"remove_reaction":"reaction")},b[20]=K,b[21]=j.messageId,b[22]=L):L=b[22];var M=L;b[23]!==M?(L=function(a,b){M(a,b)},b[23]=M,b[24]=L):L=b[24];L=c("useThrottled")(L,750);var N=l(null),O;b[25]!==t?(O=function(a){if(t===a)return;B(!0);N.current!=null&&window.clearTimeout(N.current);u(-1);N.current=window.setTimeout(function(){u(a)},1500)},b[25]=t,b[26]=O):O=b[26];O=O;var P;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(P=function(){B(!1),N.current!=null&&window.clearTimeout(N.current),N.current=window.setTimeout(function(){return u(-1)},300)},b[27]=P):P=b[27];var Q=P;b[28]!==p?(P=function(a,b){p({reactionFbid:a,reactionType:b}),Q()},b[28]=p,b[29]=P):P=b[29];P=P;var R=c("useGetMultiReactOrderedItems")(e,r);J=J?H===!0?d("MWMultiReactConstants").PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED:d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:d("MWMultiReactConstants").DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED;var S;b[30]!==g||b[31]!==R||b[32]!==J?(S=g?R:R.slice(0,J),b[30]=g,b[31]=R,b[32]=J,b[33]=S):S=b[33];S=S;var T;b[34]!==g||b[35]!==R||b[36]!==J?(T=g?[]:R.slice(J),b[34]=g,b[35]=R,b[36]=J,b[37]=T):T=b[37];J=T;var U=J.length;T=R.length||0;J=c("usePrevious")(R);if(T<1)return null;b[38]!==D||b[39]!==(F==null?void 0:F.communityType)?(R=D==null?!1:d("useIsReactionsV2Enabled").isReactionsV2ReadOnly(D,F==null?void 0:F.communityType),b[38]=D,b[39]=F==null?void 0:F.communityType,b[40]=R):R=b[40];F=R;R=!q&&w.isReactionsRowAnimationInProgress;H=!F&&T>0&&(H||T<d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED)&&!R;T=U>0&&!R;R=q?o.wrapperOutgoing:!1;b[41]!==R?(q=(i||(i=c("stylex")))(o.wrapper,R),b[41]=R,b[42]=q):q=b[42];b[43]!==e||b[44]!==g||b[45]!==F||b[46]!==j||b[47]!==P||b[48]!==J||b[49]!==S||b[50]!==r||b[51]!==L||b[52]!==w.shouldAnimate||b[53]!==O||b[54]!==a||b[55]!==t?(R=k.jsx(c("MWMessageReactionsList.react"),{emojis:e,hideTooltip:Q,isMultiReactExpanded:g,isReactionReadOnly:F,message:j,onTooltipCTAPress:P,previousReactionItems:J,reactionItemsShown:S,reactionsV2:r,sendReactionThrottled:L,setIsReactionsRowAnimationInProgress:y,setShouldAnimate:z,shouldAnimate:w.shouldAnimate,showTooltip:O,threadKey:a,tooltipIndex:t}),b[43]=e,b[44]=g,b[45]=F,b[46]=j,b[47]=P,b[48]=J,b[49]=S,b[50]=r,b[51]=L,b[52]=w.shouldAnimate,b[53]=O,b[54]=a,b[55]=t,b[56]=R):R=b[56];if(b[57]!==T||b[58]!==U||b[59]!==s||b[60]!==g||b[61]!==F||b[62]!==E||b[63]!==j||b[64]!==M||b[65]!==a||b[66]!==G){J=T?k.jsx(c("MWExpandReactionsButton.react"),{isMultiReactExpanded:g,isReactionReadOnly:F,isSecure:E,message:j,numOverflowEmojis:(e=U)!=null?e:0,sendReaction:M,setIsReactionsRowAnimationInProgress:y,threadKey:a,threadType:G,toggleMultiReactExpanded:(P=s)!=null?P:c("emptyFunction")}):null;b[57]=T;b[58]=U;b[59]=s;b[60]=g;b[61]=F;b[62]=E;b[63]=j;b[64]=M;b[65]=a;b[66]=G;b[67]=J}else J=b[67];b[68]!==H||b[69]!==U||b[70]!==s||b[71]!==M||b[72]!==E||b[73]!==j||b[74]!==a||b[75]!==G?(S=H?k.jsx(c("MWAddReactionButton.react"),{isSecure:E,message:j,sendReaction:function(a,b){U>0&&(s==null?void 0:s()),window.setTimeout(function(){M(a,b)},U*10)},setShouldRowStayExpanded:B,threadKey:a,threadType:G}):null,b[68]=H,b[69]=U,b[70]=s,b[71]=M,b[72]=E,b[73]=j,b[74]=a,b[75]=G,b[76]=S):S=b[76];b[77]!==q||b[78]!==I||b[79]!==R||b[80]!==J||b[81]!==S?(r=k.jsxs("div",{className:q,"data-testid":void 0,ref:I,children:[R,J,S]}),b[77]=q,b[78]=I,b[79]=R,b[80]=J,b[81]=S,b[82]=r):r=b[82];return r}g["default"]=a}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWLogBroadcastChannelFalcoEvent","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","ReQL","ReQLSuspense","getMessengerPreciseTimestamp","gkx","justknobx","react","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useMemo,n=b.c,o=c("gkx")("23219")?3:11;function p(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId)},[e,a.threadKey,a.messageId],f.id+":46"),k=(b=d("MWLSThread").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,n=g?(j||(j=d("I64"))).to_int32(g.seenCount):null;b=d("Int64Hooks").useCallbackInt64(function(){if(!k)return;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:16,parentSurface:o,source:15,surface:7,threadFbid:a.threadKey})},[k,a.threadKey]);var p=c("useSinglePartialViewImpression")({onImpressionStart:b});return m(function(){var b=a.isUnsent,e=a.timestampMs,f=a.unsentTimestampMs;if(f!=null&&b)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:f},"first"),h._("__JHASH__8eZEd_EeDsx__JHASH__")];b=n!=null?d("MWMessageDeliveryStatus").getSeenCount(n):d("MWMessageDeliveryStatus").Titles.loading;return[l.jsxs("div",{children:[l.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(e)))])}),(!c("justknobx")._("2943")||n!==0)&&l.jsx("div",{ref:p,children:b})]},"first"),b]},[a,p,n])}function a(a){var b=n(8),d=a.children,e=a.message;a=c("MWClickedMessageContext.react").useHook();var f=a.fetchMessageSeenCount;a=p(e);var g=a[0];a=a[1];var h;b[0]!==f||b[1]!==e?(h=function(a){a&&f(e.threadKey,e.messageId)},b[0]=f,b[1]=e,b[2]=h):h=b[2];var i;b[3]!==a||b[4]!==h||b[5]!==g||b[6]!==d?(i=l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,onVisibilityChange:h,position:"start",tooltip:g,children:d}),b[3]=a,b[4]=h,b[5]=g,b[6]=d,b[7]=i):i=b[7];return i}g["default"]=a}),226);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={incoming:{paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",paddingEnd:"xn6708d",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=k(14),e=a.mediaGroupInfo,f=a.mediaRenderQpl;a=a.outgoing;f=c("useMAWBulkMediaDownloadManualRetry")(e.attachmentsToRetryDownload,f);a=a?m.outgoing:m.incoming;var g;b[0]!==a?(g=(i||(i=c("stylex")))(m.row,a),b[0]=a,b[1]=g):g=b[1];b[2]!==e.mediaDownloadErrorsCount||b[3]!==e.groupSize?(a=h._("__JHASH__xlczHN0K-Kb__JHASH__",[h._param("errorQuantity",e.mediaDownloadErrorsCount),h._param("totalQuantity",e.groupSize)]),b[2]=e.mediaDownloadErrorsCount,b[3]=e.groupSize,b[4]=a):a=b[4];var j;b[5]!==e.attachmentsToRetryDownload.length||b[6]!==f?(j=e.attachmentsToRetryDownload.length>0&&l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),l.jsx(c("MWXLink.react"),{onClick:f,weight_DEPRECATED:"medium",children:h._("__JHASH__BGxC_0TtXwE__JHASH__")})]}),b[5]=e.attachmentsToRetryDownload.length,b[6]=f,b[7]=j):j=b[7];b[8]!==a||b[9]!==j?(e=l.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[a,j]}),b[8]=a,b[9]=j,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(f=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:l.jsx("div",{className:g,children:e})}),b[11]=g,b[12]=e,b[13]=f):f=b[13];return f}g["default"]=a}),226);
__d("useMAWMediaDownloadManualRetry",["react","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.c;function a(a,b){var d=i(2),e;d[0]!==a?(e=[a],d[0]=a,d[1]=e):e=d[1];a=e;d=a;return c("useMAWBulkMediaDownloadManualRetry")(d,b)}g["default"]=a}),98);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","stylex","useMAWMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={incoming:{alignSelf:"xqcrz7y",paddingStart:"x1ye3gou",$$css:!0},outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=j(11),e=a.attachment,f=a.downloadStatusUIState,g=a.mediaRenderQpl;a=a.outgoing;g=c("useMAWMediaDownloadManualRetry")(e,g);var i;b[0]!==f?(i=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(f),b[0]=f,b[1]=i):i=b[1];f=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,i,g,a);e=f.deliveryStatus;i=f.mediaStatusText;g=f.retryButton;f=a?l.outgoing:l.incoming;b[2]!==f?(a=(h||(h=c("stylex")))(l.row,f),b[2]=f,b[3]=a):a=b[3];b[4]!==i||b[5]!==e||b[6]!==g?(f=k.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[i,e,g]}),b[4]=i,b[5]=e,b[6]=g,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(i=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:k.jsx("div",{className:a,children:f})}),b[8]=a,b[9]=f,b[10]=i):i=b[10];return i}g["default"]=a}),98);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.count,e=a.first,f=a.getSecond;this.$1=c("switchMap")(e,function(a){var c=a.data.length;if(c>=b||a.hasMore||a.isLoadingMore)return new(d("ReplayLastSubject").ReplayLastSubject)(babelHelpers["extends"]({},a,{hasMore:!0}));c=d("relay-runtime").Observable.from(f(b-c));return c.map(function(b){return{data:[].concat(a.data,b.data),hasMore:a.hasMore||b.hasMore,isLoadingMore:a.isLoadingMore||b.isLoadingMore}})})}var b=a.prototype;b.subscribe=function(a){return this.$1.subscribe(a)};return a}();g["default"]=a}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=j(19),e=a.isSecureMessage,f=a.maxLength,g=a.maxLines,i=a.seeLessLinkProps,m=a.seeMoreLinkProps,n=a.text,o=a.truncationStyle,p=a.outgoing,q=a.ranges,r=a.renderers,s=a.transforms;a=a.xstyleForText;e=d("MWUnvaultedText").useMWUnvaultedText(e,n);n=p?"white":"primary";p=p?l.outgoing:l.incoming;var t;b[0]!==a||b[1]!==p?(t=(h||(h=c("stylex")))(l.regular,a,p),b[0]=a,b[1]=p,b[2]=t):t=b[2];a=e||"";e=(p=s)!=null?p:d("MWChatTextTransform").textTransforms;b[3]!==f||b[4]!==g||b[5]!==q||b[6]!==r||b[7]!==i||b[8]!==m||b[9]!==a||b[10]!==e||b[11]!==o?(s=k.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:f,maxLines:g,ranges:q,renderers:r,seeLessLinkProps:i,seeMoreLinkProps:m,text:a,transforms:e,truncationStyle:o,truncationThreshold:2,withParagraphs:!0}),b[3]=f,b[4]=g,b[5]=q,b[6]=r,b[7]=i,b[8]=m,b[9]=a,b[10]=e,b[11]=o,b[12]=s):s=b[12];b[13]!==t||b[14]!==s?(p=k.jsx("div",{className:t,dir:"auto",children:s}),b[13]=t,b[14]=s,b[15]=p):p=b[15];b[16]!==n||b[17]!==p?(f=k.jsx(c("MWXText.react"),{color:n,type:"body3",children:p}),b[16]=n,b[17]=p,b[18]=f):f=b[18];return f}g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWPEditMessageHistoryListText.react","MWXMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useState,l=b.c,m={border:{boxShadow:"x7h7r2v",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginBottom:"xjpr12u",minWidth:"xeuugli",opacity:"xbyyjgo",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingEnd:"x1k62owy",$$css:!0},messageBubbleOutgoing:{paddingStart:"x6plb61",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0}};function a(a){var b=l(33),d=a.isReply,e=a.isSecureMessage,f=a.messageHistoryEntry,g=a.outgoing,i=a.renderMessageActions;a=g?"white":void 0;var n;b[0]!==a?(n={color_DEPRECATED:a,weight_DEPRECATED:"semibold"},b[0]=a,b[1]=n):n=b[1];a=n;n=k(!1);var o=n[0],p=n[1];n=g&&m.outgoing;var q;b[2]!==n?(q=(h||(h=c("stylex")))(m.inner,n),b[2]=n,b[3]=q):q=b[3];var r;b[4]!==i?(n=function(){i!=null&&p(!0)},r=function(){i!=null&&p(!1)},b[4]=i,b[5]=n,b[6]=r):(n=b[5],r=b[6]);var s=i?m.makeSpaceForMessageActions:g?m.messageBubbleOutgoing:m.messageBubbleIncoming,t;b[7]!==s?(t=(h||(h=c("stylex")))(s),b[7]=s,b[8]=t):t=b[8];s=g?"right":"left";var u=g?"outgoing":"incoming";d=!g&&d&&m.border;var v;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=[],b[9]=v):v=b[9];var w=f.messageContent||"";b[10]!==e||b[11]!==g||b[12]!==a||b[13]!==w?(v=j.jsx(c("MWPEditMessageHistoryListText.react"),{isSecureMessage:e,maxLength:300,maxLines:3,outgoing:g,ranges:v,seeLessLinkProps:a,seeMoreLinkProps:a,text:w,truncationStyle:"see-more-and-less"}),b[10]=e,b[11]=g,b[12]=a,b[13]=w,b[14]=v):v=b[14];b[15]!==s||b[16]!==u||b[17]!==d||b[18]!==v?(e=j.jsx(c("MWXMessageBubble.react"),{align:s,color:u,connectBottom:!1,connectTop:!1,variant:"opaque",xstyle:d,children:v}),b[15]=s,b[16]=u,b[17]=d,b[18]=v,b[19]=e):e=b[19];b[20]!==t||b[21]!==e?(g=j.jsx("div",{className:t,children:e}),b[20]=t,b[21]=e,b[22]=g):g=b[22];b[23]!==i||b[24]!==o||b[25]!==f?(a=i&&o?j.jsx("div",{className:"xc26acl x78zum5",children:i(f)}):null,b[23]=i,b[24]=o,b[25]=f,b[26]=a):a=b[26];b[27]!==q||b[28]!==n||b[29]!==r||b[30]!==g||b[31]!==a?(w=j.jsxs("div",{className:q,"data-testid":void 0,onMouseEnter:n,onMouseLeave:r,role:"none",children:[g,a]}),b[27]=q,b[28]=n,b[29]=r,b[30]=g,b[31]=a,b[32]=w):w=b[32];return w}g.MWPEditedMessageHistoryEntry=a}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useMemo;var j=b.c;function a(a,b){var e=j(9),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.edit_message_history||e[1]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},e[0]=g.tables.edit_message_history,e[1]=a,e[2]=i):i=e[2];var k;e[3]!==g||e[4]!==a?(k=[g,a],e[3]=g,e[4]=a,e[5]=k):k=e[5];i=d("ReQLSuspense").useArray(i,k,f.id+":29");e[6]!==b||e[7]!==i?(k=b?i.slice(0,-1):i,e[6]=b,e[7]=i,e[8]=k):k=e[8];b=k;return b}g["default"]=a}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","cr:4654","qex","qpl","react","stylex","useEditMessageHistoryLS","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useEffect,m=e.c,n={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingStart:"xd06s5i",$$css:!0},outgoing:{display:"x1lliihq",paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var e=m(26),f=a.editCount,g=a.isReply,i=a.isSecureMessage,p=a.msgId,q=a.outgoing,r=a.renderMessageActions,s=a.threadType;a=a.xstyle;var t=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},u=t.showEdits;t=c("useEditMessageHistoryLS")(p,i);p=b("cr:4654")(p,i);if(e[0]!==i){var v;v=i&&((v=c("qex")._("228"))!=null?v:!1);e[0]=i;e[1]=v}else v=e[1];var w=d("useMAWSeparateReadsSelector").useMAWSeparateReadsArraySelector("EditMessageHistory",p,t,v,o);e[2]!==u||e[3]!==i||e[4]!==s||e[5]!==w||e[6]!==f?(p=function(){u&&(c("QPLUserFlow").addAnnotations(c("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:i},"int":{threadType:(j||(j=d("I64"))).to_int32(s)}}),w!=null&&f!=null&&w.length===(j||(j=d("I64"))).to_int32(f)?c("QPLUserFlow").endSuccess(c("qpl")._(1056849214,"1777")):c("QPLUserFlow").endFailure(c("qpl")._(1056849214,"1777"),"no edits found"))},t=[w,f,u,i,s],e[2]=u,e[3]=i,e[4]=s,e[5]=w,e[6]=f,e[7]=p,e[8]=t):(p=e[7],t=e[8]);l(p,t);v=q?n.outgoing:n.incoming;e[9]!==v||e[10]!==a?(p=(h||(h=c("stylex")))(n.base,v,a),e[9]=v,e[10]=a,e[11]=p):p=e[11];if(e[12]!==g||e[13]!==i||e[14]!==q||e[15]!==r||e[16]!==w){e[18]!==g||e[19]!==i||e[20]!==q||e[21]!==r?(t=function(a,b){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:g,isSecureMessage:i,messageHistoryEntry:a,outgoing:q,renderMessageActions:r},b)},e[18]=g,e[19]=i,e[20]=q,e[21]=r,e[22]=t):t=e[22];v=w.map(t);e[12]=g;e[13]=i;e[14]=q;e[15]=r;e[16]=w;e[17]=v}else v=e[17];e[23]!==p||e[24]!==v?(a=k.jsx("div",{className:p,role:"none",children:v}),e[23]=p,e[24]=v,e[25]=a):a=e[25];t=a;return u?t:null}function o(a,b){return(j||(j=d("I64"))).compare(a.pk,b.pk)}g["default"]=a}),98);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){b===void 0&&(b=c("deepEquals"));return d("relay-runtime").Observable.create(function(c){var d=h,e=a.subscribe({complete:function(){c.complete()},error:function(a){c.error(a)},next:function(a){b(d,a)||(d=a,c.next(a))}});return function(){e.unsubscribe()}})}g["default"]=a}),98);
__d("MWPMessageListSingleDirectionDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWJids","MAWMediaGalleryM2Utils","MLV2DataSourceLogger","Promise","ReQL","ReQLObservable","ReplayLastSubject","WAJids","combineLatestWith","cr:906","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap","useMAWSeparateReadsSelector","useMAWSeparateReadsSelectorCommon"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=b("cr:906")==null?void 0:b("cr:906").MAWMessagesLiveQuery;function l(a){return a.length>0?a[a.length-1]:void 0}var m=2,n=!c("gkx")("7019"),o=c("gkx")("7990");a=function(){function a(a,b,e,f,g,h,k,l,m,n,o){this.$7=new(d("ReplayLastSubject").ReplayLastSubject)(!1),this.$1=a,this.$2=b,this.$4=e,this.$3=f,this.$5=g,this.$6=h,this.$10=k,this.$11=l!=null&&(i||(i=d("I64"))).equal(l,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),this.$15()||(this.$9=d("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$4.threadKey,this.$3,this.$5,k)),this.$12=m,this.$13=n,this.$14=o,this.$8=this.$16()}var e=a.prototype;e.onUnload=function(){var a;(a=this.$9)==null?void 0:a.markQPLCancel();this.$9=void 0};e.$15=function(){return(i||(i=d("I64"))).equal(this.$4.timestampMs,(i||(i=d("I64"))).max_int)&&this.$3==="asc"};e.subscribe=function(a){var b;(b=this.$9)==null?void 0:b.markQPLPoint("subscribed");return this.$8.subscribe(a)};e.$17=function(a){var b,d=this;n&&this.$18(!0);(b=this.$9)==null?void 0:b.markQPLPoint("fetch_more_msgs_start");c("promiseDone")(this.$6.extendRange(a,this.$3,this.$14,this.$12)["finally"](function(){var a;(a=d.$9)==null?void 0:a.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction");n&&d.$18(!1)}))};e.$18=function(a){var d=this;c("justknobx")._("3066")&&!a?c("promiseDone")(new(h||(h=b("Promise")))(function(a){return c("setTimeout")(a,0)}).then(function(){return d.$7.next(a)})):this.$7.next(a)};e.$19=function(a){var b=this.$4,e=b.messageId;b=b.timestampMs;e=(e==null||e==="")&&(i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).max_int);b=e&&(i||(i=d("I64"))).equal(a.minTimestampMs,(i||(i=d("I64"))).max_int);e=(e=c("qex")._("237"))!=null?e:!1;var f=!a.hasMoreBefore||b&&!e;f=this.$3==="asc"?{gte:d("ReQL").key(this.$4.timestampMs),lte:d("ReQL").key(a.hasMoreAfter?a.maxTimestampMs:(i||(i=d("I64"))).max_int)}:{gte:d("ReQL").key(f?(i||(i=d("I64"))).min_int:a.minTimestampMs),lte:d("ReQL").key(this.$4.timestampMs)};a=b&&!e?m:this.$5;b=q(this.$13,this.$2,this.$4,this.$10,this.$3,f,a);f=(e=p(this.$1,this.$3,this.$4,f,a))!=null?e:d("relay-runtime").Observable.from([]);if(b==null||this.$11&&o)return f;if(d("useMAWSeparateReadsSelectorCommon").isDiffingEnabled())return c("combineLatestWith")(b,f).map(function(a){var b=a[0];a=a[1];a=r(a);return d("useMAWSeparateReadsSelector").mawSeparateReadsMapSelector("MessageList",b,a,!0,["transportKey"])});else return b};e.$20=function(a,b,c){var d,e;b===void 0&&(b=[]);a=a;d=(d=l(b))==null?void 0:d[1];e=this.$3==="asc"?[c==null?void 0:c.maxMessageId,(e=c==null?void 0:c.hasMoreAfter)!=null?e:!1,(e=c==null?void 0:c.isLoadingAfter)!=null?e:!1]:[c==null?void 0:c.minMessageId,(e=c==null?void 0:c.hasMoreBefore)!=null?e:!1,(e=c==null?void 0:c.isLoadingBefore)!=null?e:!1];var f=e[0],g=e[1];e=e[2];d=b.length===this.$5&&(d!=null&&d.messageId!==f||!g);c!=null&&b.length<this.$5&&g&&!d&&!a&&!e&&(a=!0,this.$17(c));return{data:b,hasMore:d||g,isLoadingMore:a||!d&&e}};e.$16=function(){var a=this;return this.$15()?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({data:[],hasMore:!1,isLoadingMore:!1})):c("memoizeObservable")(c("combineLatestWith")(this.$7,c("switchMap")(this.$6.getOrCreateMessageRangeCoveringCursor(this.$4,this.$9,this.$12),function(b){var c;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_range");(c=a.$9)==null?void 0:c.addQPLAnnotations({string:{range:JSON.stringify(babelHelpers["extends"]({},b,{maxTimestampMs:b.maxTimestampMs==null?null:(i||(i=d("I64"))).to_string(b.maxTimestampMs),minTimestampMs:b.minTimestampMs==null?null:(i||(i=d("I64"))).to_string(b.minTimestampMs)}))}});return a.$19(b).map(function(a){return{messages:a,messagesRange:b}})})).map(function(b){var c=b[0];b=b[1];b=(b=b)!=null?b:{};var d=b.messages;b=b.messagesRange;return a.$20(c,d,b)}))["do"]({error:function(b){var c;(c=a.$9)==null?void 0:c.markQPLFailure(b);a.$9=void 0},next:function(b){var c,d=b.data;b=b.isLoadingMore;(c=a.$9)==null?void 0:c.markQPLPoint("emitting_messages");if(!b){(c=a.$9)==null?void 0:c.addQPLAnnotations({"int":{final_query_count:a.$5,num_fetched:d.length}});(b=a.$9)==null?void 0:b.markQPLSuccess(d.length);a.$9=void 0}else{(c=a.$9)==null?void 0:c.markQPLPoint("waiting_for_fetch")}}})};return a}();function p(a,b,e,f,g){b=b==="asc"?d("ReQL").fromTableAscending:d("ReQL").fromTableDescending;b=c("gkx")("5081")?b(a.tables.messages.index("messageDisplayOrder")):b(a.tables.messages);var h=b.getKeyRange(e.threadKey).bounds(f).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))}).filter(function(a){a=a.transportKey;return c("justknobx")._("3424")&&d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled({isSilent:!0})?a!=="EncryptedBackupsMedia":!0}).take(g);return d("ReQLObservable").create(a,function(){return h})}function q(a,b,c,e,f,g,h){var j=c.secureThreadJid==null?null:(i||(i=d("I64"))).to_string(c.secureThreadJid);if(b==null||j==null||k==null)return null;e=d("LSMessagingThreadTypeUtil").isGroup(e);e=e?d("WAJids").toGroupJid(j):d("MAWJids").toUserJid(j);return k(a,b,c.threadKey,e,f,g,h)}function r(a){return a.map(function(a){var b=a[0],c=a[1];return b.length===4?[[b[0],b[2]],c]:a})}g["default"]=a}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","Promise","ReQL","ReQLObservable","asyncToGeneratorRuntime","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(a){var e=this;this.$2=function(a){return k(e.$1.tables.messages_ranges_v2__generated,a)};this.getOrCreateMessageRangeCoveringCursor=function(a,b,f){b==null?void 0:b.annotateMessageRangesDataSource("MWPMessageRangeDataSource");b==null?void 0:b.markQPLPoint("msys_message_range_fetch_start");return d("ReQLObservable").create(e.$1,function(){return e.$2(a)}).map(function(f){b==null?void 0:b.markQPLPoint("msys_message_range_fetch_end");f=(f=f[0])==null?void 0:f[1];if(f==null)if(a.messageId==null){var g;return{hasMoreAfter:!(j||(j=d("I64"))).equal(a.timestampMs,j.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey}}else{c("promiseDone")(p(e.$1,a));return{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey}}return f})};this.extendRange=function(a,g,i,k){var o=d("MLV2DataSourceLogger").getMLV2LoggerForThread(a.threadKey,g),p=a.threadKey;if(!n(a,g)){o==null?void 0:o.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return(h||(h=b("Promise"))).resolve()}return e.$1.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;o==null?void 0:o.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");e=(e=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.messages_ranges_v2__generated).getKeyRange(p).bounds({lte:d("ReQL").key(a.minTimestampMs)}).filter(function(b){return(j||(j=d("I64"))).ge(b.maxTimestampMs,a.maxTimestampMs)}))))!=null?e:a;if(!n(e,g)){o==null?void 0:o.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!l(e,a,g)){o==null?void 0:o.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}o==null?void 0:o.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges");return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(b),m(e,g))["finally"](function(){o==null?void 0:o.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges")})});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":132")};this.$1=a};function k(a,b){return d("ReQL").fromTableDescending(a).getKeyRange(b.threadKey).bounds({lte:d("ReQL").key(b.timestampMs)}).filter(function(a){return o(b,a)}).take(1)}function l(a,b,c){if(c==="asc")return(j||(j=d("I64"))).equal(a.minTimestampMs,b.minTimestampMs);else return(j||(j=d("I64"))).equal(a.maxTimestampMs,b.maxTimestampMs)}function m(a,b){var e=a.maxTimestampMs,f=a.minTimestampMs;a=a.threadKey;return b==="asc"?{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:e,threadKey:a}:{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f,threadKey:a}}function n(a,b){return b==="asc"&&a.hasMoreAfter&&!a.isLoadingAfter||b==="desc"&&a.hasMoreBefore&&!a.isLoadingBefore}function o(a,b){a=a.timestampMs;return((j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).max_int)||(j||(j=d("I64"))).ge(b.maxTimestampMs,a))&&(j||(j=d("I64"))).le(b.minTimestampMs,a)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e===void 0&&(e=20);var g=b.messageId,h=b.threadKey;if(g==null)throw c("err")("Cannot issue a point query without a message ID.");yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:g,numContextMessages:(j||(j=d("I64"))).of_float(e),threadKey:h})},"readwrite",void 0,void 0,f.id+":286")});return q.apply(this,arguments)}g.MSYSMessageRangeDataSource=a}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWEBCombinedRangeDataSource","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","cr:13106","gkx","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("8297");a=function(){var a=e.prototype;a.subscribe=function(a){return this.$1.subscribe(a)};a.onUnload=function(){this.$2.forEach(function(a){a.onUnload()})};function e(a,e,f,g,i){var o=this,p=f.after,q=f.before,r=f.cursor,s=f.pageSize,t=f.secondaryThreadKey,u=f.secondaryThreadType,v=f.threadAuthorityLevel,w=f.threadType;this.$2=[];var x=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,f==="desc"&&!(h||(h=d("I64"))).equal(r.timestampMs,(h||(h=d("I64"))).max_int)?babelHelpers["extends"]({},r,{timestampMs:(h||(h=d("I64"))).sub(r.timestampMs,(h||(h=d("I64"))).one)}):r,f,b,l(a,w,v),w,v,g,i,s);o.$2.push(f);return f},y=function(b,f){f=new(c("MWPMessageListSingleDirectionDataSource"))(a,e,{messageId:r.messageId,threadKey:c("nullthrows")(t),timestampMs:f==="desc"&&!(h||(h=d("I64"))).equal(r.timestampMs,(h||(h=d("I64"))).max_int)?(h||(h=d("I64"))).sub(r.timestampMs,(h||(h=d("I64"))).one):r.timestampMs},f,b,l(a,c("nullthrows")(u),v),w,v,g,i,s);o.$2.push(f);return f},z;t==null||u==null?(f=x(q,"desc"),z=x(p,"asc")):(f=new(c("MWPConcatenateMessageListsDataSource"))({count:q,first:x(q,"desc"),getSecond:function(a){return y(a,"desc")}}),z=new(c("MWPConcatenateMessageListsDataSource"))({count:p,first:y(p,"asc"),getSecond:function(a){return x(a,"asc")}}));q=c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(w)&&j?(p=b("cr:13106")==null?void 0:b("cr:13106")(a,r.threadKey))!=null?p:q:q;var A=new Map();q=c("combineLatestWith")(f,z,p).map(function(a){var b=a[0],c=a[1];a=a[2];a.forEach(function(a){return A.set(a[1].messageId,a)});a=new Set(A.keys());var d=b.data.toReversed().concat(c.data).sort(n(r.threadKey));m(a,d);var e=[];for(var f=A,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];!a.has(j)?A["delete"](j):e.push(i)}return{authoritativeMessages:d,hasNext:c.hasMore,hasPrevious:b.hasMore,isLoadingNext:c.isLoadingMore,isLoadingPrevious:b.isLoadingMore,optimisticMessages:e}});this.$1=c("switchMap")(q,function(b){var c=b.authoritativeMessages,d=b.hasNext,e=b.hasPrevious,f=b.isLoadingNext,g=b.isLoadingPrevious;b=b.optimisticMessages;return k(a,b).map(function(a){a=[].concat(c,a);a.sort(n(r.threadKey));return{data:a,hasNext:d,hasPrevious:e,isLoadingNext:f,isLoadingPrevious:g}})})}return e}();function k(a,b){if(b.length===0)return c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});var e=b.map(function(b){b[0];b=b[1];return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b.offlineThreadingId)}).map(function(b){return d("ReQLObservable").create(a,function(){return b})});return c("combineLatestWith").apply(void 0,e).map(function(a){var c=[];a.forEach(function(a,d){if(a.length===0)return;a=a[0];a[0];a=a[1];c.push([b[d][0],a])});return c})}function l(a,b,e){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)?(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&c("gkx")("7990")?c("MAWDumbRangeDataSource")():c("MAWEBCombinedRangeDataSource")(a):new(d("MWPMessageRangeDataSource").MSYSMessageRangeDataSource)(a)}function m(a,b){if(a.size===0)return;var e=b.length-1;while(e>=0){var f=b[e];f[0];f=f[1];a.has(f.offlineThreadingId)&&((h||(h=d("I64"))).lt(f.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?b.splice(e,1):a["delete"](f.offlineThreadingId));e--}}var n=function(a){return function(b,c){b=b[1];c=c[1];var e=(h||(h=d("I64"))).compare(b.threadKey,c.threadKey);if(e!==0)return(h||(h=d("I64"))).equal(b.threadKey,a)?1:-1;e=h.compare(b.primarySortKey,c.primarySortKey);if(e!==0)return e;e=h.compare((e=b.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero,(e=c.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero);return e!==0?e:h.compare(b.timestampMs,c.timestampMs)}};g["default"]=a}),98);
__d("useIsNearBottomOfScrollArea",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState,k=b.c,l=10;function a(a,b){var c=k(6),d=b===void 0?l:b;b=j(!0);var e=b[0],f=b[1];c[0]!==a.current||c[1]!==d?(b=function(){var b=a.current;if(b==null)return;var c=function(){return f(Math.abs(b.scrollHeight-b.scrollTop-b.clientHeight)<d)},e=window.requestAnimationFrame(c);b.addEventListener("scroll",c);return function(){b.removeEventListener("scroll",c),window.cancelAnimationFrame(e)}},c[0]=a.current,c[1]=d,c[2]=b):b=c[2];var g;c[3]!==d||c[4]!==a?(g=[d,a],c[3]=d,c[4]=a,c[5]=g):g=c[5];i(b,g);return e}g["default"]=a}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","useIsNearBottomOfScrollArea"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react"));function a(a){var b=j(4),d=a.alwaysShow,e=a.jumpToMostRecentMessage,f=a.renderButton;a=a.scrollAreaRef;a=c("useIsNearBottomOfScrollArea")(a,108);a=a===!1||d;b[0]!==f||b[1]!==e||b[2]!==a?(d=f?k.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:a,children:f(e)}):null,b[0]=f,b[1]=e,b[2]=a,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("MWPMessageRowCalculateStatusV2.react",["GenderConst","I64","MAWThreadCutover","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","gkx","react","useGetMediaGroupInformation","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||(j=d("react"));b=j;var k=b.useEffect,l=b.useMemo,m=b.useState,n=b.c,o={type:"NoneStatus"},p={type:"Loading"},q={type:"RetriableError"},r={type:"Error"},s={type:"Sending"},t={type:"Sent"},u={type:"Delivered"};function a(a){var b=a.children,e=a.isBroadcastChannel,g=e===void 0?!1:e;e=a.isBroadcastThread;var j=a.isLargeGroup,m=a.isSecureGroupThread,n=a.isSecureThread,w=a.message,y=a.nextMessage,z=d("MWPActor.react").useActor(),A=(h||(h=c("useReStore")))(),B=(i||(i=d("I64"))).equal(z,w.senderId),C=y!=null&&!(i||(i=d("I64"))).equal(z,y.senderId),D=w.isUnsent,E=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();E=E.seenCountV2Enabled;var F=!w.isUnsent&&E,G=y==null;E=c("useMWIsReadReceiptsDisabledForThread")(w.threadKey);n=c("useGetMediaGroupInformation")(w,n);var H=c("MWClickedMessageContext.react").useHook(),I=H.clickedMessageId,J=H.fetchMessageSeenCount,K=H.hasError;H=H.isLoading;var L=d("ReQLSuspense").useFirst(function(){return F?d("ReQL").fromTableAscending(A.tables.community_chat_message_seen_count,["seenCount"]).getKeyRange(w.threadKey,w.messageId):d("ReQL").empty()},[A,F,w.threadKey,w.messageId],f.id+":110");k(function(){g===!0&&G&&J(w.threadKey,w.messageId)},[J,w.messageId,w.threadKey,G,g,B]);var M=v(a,function(a){return!G&&a.length===0},[G]),N=x(function(){return d("ReQL").fromTableDescending(A.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(w.threadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,z)}).take(1)},function(a){return a.length>0},[w.threadKey,z]).length>0,O=x(function(){return d("ReQL").fromTableDescending(A.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(w.threadKey).bounds({gte:d("ReQL").key(w.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,z)}).take(1)},function(a){return N&&a.length>0},[w.timestampMs,w.threadKey,z,N]),P=O.length>0;O=x(function(){return d("ReQL").fromTableDescending(A.tables.participants.index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(w.threadKey).bounds({gte:d("ReQL").key(w.timestampMs)}).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,z)}).take(1)},function(a){return a.length>0||P},[w.threadKey,w.timestampMs,P,z]).length>0;var Q=v(a,function(a){return P&&a.length===0},[P]),R=l(function(){var a;return d("MWMessageDeliveryStatus").seenCount((i||(i=d("I64"))).to_int32((a=L==null?void 0:L.seenCount)!=null?a:(i||(i=d("I64"))).zero))},[L==null?void 0:L.seenCount]),S=l(function(){return d("MWMessageDeliveryStatus").seenHead(M)},[M]),T=l(function(){return d("MWMessageDeliveryStatus").seenHead(Q)},[Q]);if(w.isAdminMessage)return b(o);if(e)if(!F){if(!B||y!=null||D)return b(o)}else{if(I!==w.messageId)return b(o);if(H)return b(p);return K?b(q):L!=null?b(R):b(p)}if(!B){if(m&&!c("gkx")("3265")||j)return b(o);return g===!0?L!=null?b(R):b(o):M.length>0?a.children(S):a.children(o)}if(B&&G&&g&&(L!=null&&(i||(i=d("I64"))).to_int32(L.seenCount)>0))return b(R);if(C&&m)return b(o);if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(0)))return b(o);if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(4)))return b(r);if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(5)))return b(q);if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(1)))return b(s);if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(6)))return b(t);if(j)if(y!=null||D)return b(o);else if((i||(i=d("I64"))).equal(w.sendStatusV2,(i||(i=d("I64"))).of_int32(2)))return b(u);if(P&&!E)return Q.length>0?b(T):b(o);if(n!=null&&n.isMediaGroupLastMessage)if(n.hasAllMessagesSent)return b(t);else return b(s);return O?b(u):b(t)}a.displayName=a.name+" [from "+f.id+"]";function v(a,b,e){var g=n(25),j=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor(),l=a.message,m=a.nextMessage,o=c("useMWIsReadReceiptsDisabledForThread")(l.threadKey),p;g[0]!==a.isSecureThread||g[1]!==l.threadKey?(p=a.isSecureThread?(i||(i=d("I64"))).to_string(l.threadKey):void 0,g[0]=a.isSecureThread,g[1]=l.threadKey,g[2]=p):p=g[2];a=d("MAWThreadCutover").useGetCutoverSecureThreadKey(p);g[3]!==a?(p=a!=null?(i||(i=d("I64"))).of_string(a):null,g[3]=a,g[4]=p):p=g[4];var q=p;g[5]!==m||g[6]!==l.timestampMs||g[7]!==l.threadKey||g[8]!==j.tables.participants||g[9]!==j.tables.contacts||g[10]!==k||g[11]!==q?(a=function(){var a=m!=null?{gte:d("ReQL").key(l.timestampMs),lt:d("ReQL").key(m.timestampMs)}:{gte:d("ReQL").key(l.timestampMs)};a=d("ReQL").fromTableAscending(j.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(l.threadKey).bounds(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)});var b={gte:d("ReQL").key(l.timestampMs)},c=q!=null?d("ReQL").fromTableAscending(j.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(q).bounds(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}):d("ReQL").empty();return d("ReQL").union(a,c).map(function(a){var b=d("ReQLSuspense").toArray(c,f.id+":453").some(function(b){return(i||(i=d("I64"))).equal(b.contactId,a.contactId)});if(b)return;return a}).filter(Boolean).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.tables.contacts,["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a.contactId),f.id+":468");return[a,b]})},g[5]=m,g[6]=l.timestampMs,g[7]=l.threadKey,g[8]=j.tables.participants,g[9]=j.tables.contacts,g[10]=k,g[11]=q,g[12]=a):a=g[12];p=m==null?void 0:m.timestampMs;var r=m==null,s=q==null,t;g[13]!==j||g[14]!==l.threadKey||g[15]!==l.timestampMs||g[16]!==p||g[17]!==r||g[18]!==s||g[19]!==k||g[20]!==e?(t=[j,l.threadKey,l.timestampMs,p,r,s,k].concat(e),g[13]=j,g[14]=l.threadKey,g[15]=l.timestampMs,g[16]=p,g[17]=r,g[18]=s,g[19]=k,g[20]=e,g[21]=t):t=g[21];p=x(a,b,t);g[22]!==o||g[23]!==p?(r=o?[]:p.map(w).filter(Boolean),g[22]=o,g[23]=p,g[24]=r):r=g[24];return r}function w(a){var b,e=a[0];a=a[1];if(a==null)return;return{gender:c("GenderConst").UNKNOWN_SINGULAR,id:(i||(i=d("I64"))).to_string(a.id),imageSrc:c("getLSMediaContactProfilePictureUrl")(a),name:(b=e.nickname)!=null?b:a.name,timestamp:i.to_float(e.readActionTimestampMs)}}function x(a,b,c){var e=m(void 0),g=e[0];e=e[1];c=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").empty():a()},[].concat(c,[g]),f.id+":528");b(c)&&g==null&&e(c);return g!=null?g:c}g["default"]=a}),98);
__d("MWXMessageScrollList.react",["CometInfiniteScrollTrigger.react","MWXScrollableAreaStyles","gkx","react","stylex","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useLayoutEffect,l=b.useRef,m=b.c,n=10,o=function(a){return a},p={expanding:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",minHeight:"x121v3j4",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0}};function q(a){var b=m(22),d=a.anchoredElement,e=a.getKeyForItem,f=a.hasNext;a=a.items;e=e===void 0?o:e;var g=a.length,h;b[0]!==g||b[1]!==a||b[2]!==e?(h=g>0?e(a[0]):void 0,b[0]=g,b[1]=a,b[2]=e,b[3]=h):h=b[3];var i=h;b[4]!==g||b[5]!==a||b[6]!==e?(h=g>0?e(a[a.length-1]):void 0,b[4]=g,b[5]=a,b[6]=e,b[7]=h):h=b[7];var j=h,p=l(g),q=l(i),r=l(j),s=l(),t=l(),u=l(),v=l(),w=l();b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){a=a.target;if(!(a instanceof HTMLDivElement))return;if(s.current!=null&&a.scrollHeight!==s.current||t.current!=null&&a.clientHeight!==t.current)return;u.current=a.scrollTop},b[8]=a):a=b[8];e=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){var a=w.current;if(a==null)return;a.scrollTop<=n&&(a.scrollTop=a.scrollHeight)},a=[],b[9]=h,b[10]=a):(h=b[9],a=b[10]);k(h,a);b[11]!==d||b[12]!==g||b[13]!==i||b[14]!==j||b[15]!==f?(h=function(){var a,b,c,e,h,k,l;a=(a=d==null?void 0:(a=d.current)==null?void 0:a.offsetTop)!=null?a:0;var m=r.current,o=q.current;b=(b=p.current)!=null?b:0;c=(c=s.current)!=null?c:0;e=(e=t.current)!=null?e:0;h=(h=u.current)!=null?h:0;k=(k=v.current)!=null?k:-1;var x=w.current;if((x==null?void 0:x.scrollHeight)===0&&(x==null?void 0:x.clientHeight)===0)return;s.current=(l=x==null?void 0:x.scrollHeight)!=null?l:s.current;u.current=(l=x==null?void 0:x.scrollTop)!=null?l:u.current;p.current=g;q.current=i;r.current=j;v.current=a;if(x==null)return;l=x.clientHeight;var y=x.scrollHeight;t.current=l;var z=Math.abs(c-h-e)<n;m=m!=null&&j!==m;o=o!=null&&i!==o;b=g>b;o=b&&o;b=b&&m;var A=e!==0&&e!==l;m=k!==-1&&k>h&&k<h+e;var B;(d==null?void 0:d.current)!=null&&m?B=a-(k-h):!f&&z?B=h+y-c+e-l:o?B=h+y-c:b&&(B=h);var C=B;if(C!=null){x.scrollTop=C;u.current=B;var D=window.requestAnimationFrame(function(){var a=x.scrollTop;Math.abs(a-C)>n?x.scrollTop=C+(a>C?1:-1)*n:A&&(x.scrollTop=C)});return function(){return window.cancelAnimationFrame(D)}}},b[11]=d,b[12]=g,b[13]=i,b[14]=j,b[15]=f,b[16]=h):h=b[16];a=h;h=c("useResizeObserver")(a);var x=c("useResizeObserver")(a),y;b[17]!==a?(y=[a],b[17]=a,b[18]=y):y=b[18];k(a,y);a=c("useMergeRefs")(w,h);b[19]!==x||b[20]!==a?(y={contentRef:x,onScroll:e,ref:a},b[19]=x,b[20]=a,b[21]=y):y=b[21];return y}e=j.forwardRef(a);function a(a,b){var d=m(51),e=a.anchoredElement,f=a.ariaLabel,g=a.getKeyForItem,i=a.hasNext,k=a.hasPrevious,l=a.isLoadingNext,n=a.isLoadingPrevious,o=a.items,r=a.loadNext,s=a.loadPrevious,t=a.onUserScroll,u=a.renderFooter,v=a.renderHeader,w=a.renderItem,x=a.renderLoadingAnimation;a=a.role;a=a===void 0?"grid":a;var y=o.length,z;d[0]!==k||d[1]!==v?(z=!k&&v!=null&&j.jsx(j.Fragment,{children:v()},"header"),d[0]=k,d[1]=v,d[2]=z):z=d[2];d[3]!==x||d[4]!==y?(v=x==null?void 0:x(y),d[3]=x,d[4]=y,d[5]=v):v=d[5];var A;d[6]!==k||d[7]!==n||d[8]!==s||d[9]!==v?(A=j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:k,isLoading:n,onLoadMore:s,xstyle:p.expanding,children:v},"loadPrevious"),d[6]=k,d[7]=n,d[8]=s,d[9]=v,d[10]=A):A=d[10];d[11]!==w||d[12]!==o||d[13]!==y?(k=o.map(function(a,b){return w(a,o[b-1],o[b+1],c("gkx")("7810")?y-1-b:0)}),d[11]=w,d[12]=o,d[13]=y,d[14]=k):k=d[14];d[15]!==x||d[16]!==y?(n=x==null?void 0:x(y),d[15]=x,d[16]=y,d[17]=n):n=d[17];d[18]!==i||d[19]!==l||d[20]!==r||d[21]!==n?(s=j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:i,isLoading:l,onLoadMore:r,xstyle:p.expanding,children:n},"loadNext"),d[18]=i,d[19]=l,d[20]=r,d[21]=n,d[22]=s):s=d[22];d[23]!==i||d[24]!==u?(v=!i&&u!=null&&j.jsx(j.Fragment,{children:u()},"footer"),d[23]=i,d[24]=u,d[25]=v):v=d[25];d[26]!==z||d[27]!==A||d[28]!==k||d[29]!==s||d[30]!==v?(x=[z,A].concat(k,[s,v]),d[26]=z,d[27]=A,d[28]=k,d[29]=s,d[30]=v,d[31]=x):x=d[31];l=x;d[32]!==e||d[33]!==g||d[34]!==i||d[35]!==o?(r={anchoredElement:e,getKeyForItem:g,hasNext:i,items:o},d[32]=e,d[33]=g,d[34]=i,d[35]=o,d[36]=r):r=d[36];n=q(r);u=n.contentRef;var B=n.onScroll;z=n.ref;d[37]!==t||d[38]!==B?(A=function(a){t==null?void 0:t(),B(a)},d[37]=t,d[38]=B,d[39]=A):A=d[39];k=A;s=c("useMergeRefs")(z,b);d[40]===Symbol["for"]("react.memo_cache_sentinel")?(v=(h||(h=c("stylex")))(p.scrollArea,c("gkx")("8503")&&p.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed),d[40]=v):v=d[40];d[41]===Symbol["for"]("react.memo_cache_sentinel")?(x="x78zum5 xdt5ytf x1iyjqo2 x2lah0s xl56j7k x121v3j4",d[41]=x):x=d[41];d[42]!==u||d[43]!==l?(e=j.jsx("div",{className:x,ref:u,children:l}),d[42]=u,d[43]=l,d[44]=e):e=d[44];d[45]!==f||d[46]!==k||d[47]!==s||d[48]!==a||d[49]!==e?(g=j.jsx("div",{"aria-label":f,className:v,"data-testid":void 0,onScroll:k,ref:s,role:a,children:e}),d[45]=f,d[46]=k,d[47]=s,d[48]=a,d[49]=e,d[50]=g):g=d[50];return g}f=e;g["default"]=f}),98);
__d("useMWPMessageListOnScrollToBottom",["I64","MWMessageListScrollContext.react","Promise","gkx","react","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");e.useCallback;var k=e.useEffect,l=e.c;function m(a,d,e,f,g){var i=l(10),j;i[0]!==f||i[1]!==e?(j=function(){return(h||(h=b("Promise"))).resolve(f&&!e)},i[0]=f,i[1]=e,i[2]=j):j=i[2];j=j;var m=c("useMWPSafelyMarkThreadAsRead")(g,j,a,d);i[3]!==a?(g=a(),i[3]=a,i[4]=g):g=i[4];var n=g;i[5]!==f||i[6]!==n||i[7]!==m?(j=function(){f&&!n&&m()},d=[f,n,m],i[5]=f,i[6]=n,i[7]=m,i[8]=j,i[9]=d):(j=i[8],d=i[9]);k(j,d)}function a(a,b,e,f,g,h){var j=l(11),n=c("useIsNearBottomOfScrollArea")(g),o=d("MWMessageListScrollContext.react").useMWMessageListScrollContextSetters();j[0]!==h.threadKey?(g=(i||(i=d("I64"))).to_string(h.threadKey),j[0]=h.threadKey,j[1]=g):g=j[1];var p=g,q;j[2]!==o||j[3]!==p||j[4]!==n?(g=function(){if(c("gkx")("7117")&&o!=null){o.setIsThreadAtBottom(p,n);return function(){return o.unsetIsThreadAtBottom(p)}}},q=[n,o,p],j[2]=o,j[3]=p,j[4]=n,j[5]=g,j[6]=q):(g=j[5],q=j[6]);k(g,q);j[7]!==f||j[8]!==n?(g=function(){f!=null&&f(n)},q=[n,f],j[7]=f,j[8]=n,j[9]=g,j[10]=q):(g=j[9],q=j[10]);k(g,q);m(a,b,e,n,h)}g["default"]=a}),98);
__d("getOrCreateMapValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}f["default"]=a}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.createRef,j=b.startTransition;b.useCallback;var k=b.useEffect,l=b.useRef,m=b.c;function a(){var a=m(11),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=new Map(),a[0]=b):b=a[0];var e=l(b);b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var f=b.setVisibleMessage,g=b.visibleMessage;a[1]!==g||a[2]!==f?(b=function(a){var b=c("getOrCreateMapValue")(e.current,a,i);g!=null&&a===g.messageId&&(g==null?void 0:g.ref)!==b&&f(babelHelpers["extends"]({},g,{ref:b}));return b},a[1]=g,a[2]=f,a[3]=b):b=a[3];b=b;var h,n;a[4]!==g||a[5]!==f?(h=function(){var a=g==null?void 0:g.messageId;if(a==null||g==null)return;var b=e.current.get(a);b!==(g==null?void 0:g.ref)&&j(function(){f(babelHelpers["extends"]({},g,{ref:b}))})},n=[g,f],a[4]=g,a[5]=f,a[6]=h,a[7]=n):(h=a[6],n=a[7]);k(h,n);a[8]!==g?(h=function(){var a,b=g==null?void 0:(a=g.ref)==null?void 0:a.current;if(b==null)return;var c=window.requestAnimationFrame(function(){b.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return function(){return window.cancelAnimationFrame(c)}},n=[g],a[8]=g,a[9]=h,a[10]=n):(h=a[9],n=a[10]);k(h,n);return b}g["default"]=a}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=b.setVisibleMessage;return i(function(){var b=a.current;b!=null&&(c(void 0),b.scrollTop=b.scrollHeight)},[a,c])}g["default"]=a}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","cr:6271","emptyFunction","gkx","justknobx","qex","react","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));f=h;var l=f.useImperativeHandle,m=f.useRef,n=f.c,o={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}},p=k.forwardRef(a);function a(a,e){var f=n(34),g=a.checkIsThreadManuallySetAsUnread,h=a.entryPoint,j=a.onPageLoaded,p=a.onScrollToBottom,r=a.onUserScroll,s=a.pageSize,t=a.renderFooter,u=a.renderHeader,v=a.renderJumpToMostRecentMessageButton,w=a.renderLoadingAnimation,x=a.renderRow,y=a.secondaryThread,z=a.shouldPausePageLoadTracking,A=a.thread;a=g===void 0?c("emptyFunction").thatReturnsFalse:g;g=j===void 0?c("emptyFunction"):j;j=z===void 0?!1:z;c("vulture")("1zl07QCbSU1");var B=m();z=b("cr:6271")(A,y,s);y=z.hasNext;var C=z.hasPrevious,D=z.isLoadingNext,E=z.isLoadingPrevious,F=z.loadNext,G=z.loadPrevious;z=z.messages;var H=c("useMWPMessageListScrollVisibleMessageIntoView")();if(f[0]!==A.threadKey||f[1]!==z){var I;f[3]!==A.threadKey?(I=function(a){return(i||(i=d("I64"))).equal(a.threadKey,A.threadKey)?d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a):null},f[3]=A.threadKey,f[4]=I):I=f[4];I=z.map(I).filter(Boolean);f[0]=A.threadKey;f[1]=z;f[2]=I}else I=f[2];d("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(I,c("qex")._("365")===!0?s:10,g,j,y);c("useMWPMessageListOnScrollToBottom")(a,h,y,p,B,A);var J=c("useMWPRelayMessageListJumpToMostRecentMessage")(B);f[5]!==J?(I=function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:function(){J(!0)},restoreScrollPosition:c("emptyFunction")}},s=[J],f[5]=J,f[6]=I,f[7]=s):(I=f[6],s=f[7]);l(e,I,s);var K=m(null);j=(g=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:g.ref;f[8]!==H||f[9]!==x?(a=function(a,b,e,f){return k.jsx("div",{className:(i||(i=d("I64"))).to_float(a.displayedContentTypes)===8&&"x1vjfegm",ref:H(a.messageId),children:k.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return B.current},unmountXStyle:o.backgroundColor,children:k.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:x({domElementRef:K,message:a,nextMessage:e,prevMessage:b,rowIndexFromBottom:f})})})},a.offlineThreadingId)},f[8]=H,f[9]=x,f[10]=a):a=f[10];f[11]!==w?(h=function(a){a=a>c("justknobx")._("2674");return k.jsxs(k.Fragment,{children:[w==null?void 0:w(a),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems",hold:!a})]})},f[11]=w,f[12]=h):h=f[12];f[13]!==j||f[14]!==y||f[15]!==C||f[16]!==D||f[17]!==E||f[18]!==z||f[19]!==F||f[20]!==G||f[21]!==r||f[22]!==t||f[23]!==u||f[24]!==a||f[25]!==h?(p=k.jsx(c("BaseHeadingContextWrapper.react"),{children:k.jsx(c("MWXMessageScrollList.react"),{anchoredElement:j,getKeyForItem:q,hasNext:y,hasPrevious:C,isLoadingNext:D,isLoadingPrevious:E,items:z,loadNext:F,loadPrevious:G,onUserScroll:r,ref:B,renderFooter:t,renderHeader:u,renderItem:a,renderLoadingAnimation:h,role:"none"})}),f[13]=j,f[14]=y,f[15]=C,f[16]=D,f[17]=E,f[18]=z,f[19]=F,f[20]=G,f[21]=r,f[22]=t,f[23]=u,f[24]=a,f[25]=h,f[26]=p):p=f[26];f[27]!==y||f[28]!==J||f[29]!==v?(e=k.jsx(c("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:y,jumpToMostRecentMessage:J,renderButton:v,scrollAreaRef:B}),f[27]=y,f[28]=J,f[29]=v,f[30]=e):e=f[30];f[31]!==p||f[32]!==e?(I=k.jsxs(c("Box.react"),{xstyle:o.list,children:[p,e]}),f[31]=p,f[32]=e,f[33]=I):I=f[33];return I}function q(a){return a.messageId}f=k.forwardRef(e);function e(a,b){var e=n(15),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];c("vulture")("44HsNGv2BPp");a=f;var g=a.renderHeader,h=a.renderLoadingAnimation;a=a.thread;if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&!c("gkx")("7990")){var l;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(l=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),e[2]=l):l=e[2];var m;e[3]!==g?(m=g==null?void 0:g(),e[3]=g,e[4]=m):m=e[4];e[5]!==m?(g=k.jsxs(k.Fragment,{children:[l,m]}),e[5]=m,e[6]=g):g=e[6];return g}l=(i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);if(l){e[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),e[7]=m):m=e[7];e[8]!==h?(g=h==null?void 0:h(!1),e[8]=h,e[9]=g):g=e[9];e[10]!==g?(a=k.jsxs(k.Fragment,{children:[m,g]}),e[10]=g,e[11]=a):a=e[11];return a}e[12]!==f||e[13]!==b?(l=k.jsx(p,babelHelpers["extends"]({},f,{ref:b})),e[12]=f,e[13]=b,e[14]=l):l=e[14];return l}a=f;g["default"]=a}),98);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.c,o=h._("__JHASH__erSLCwH2gH2__JHASH__");function a(a){var b=n(17),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var k,p;b[0]!==e?(k=function(){e==null?void 0:e.addPoint("render-replies-raven")},p=[e],b[0]=e,b[1]=k,b[2]=p):(k=b[1],p=b[2]);m(k,p);var q=(i||(i=c("useReStore")))(),r=g.replySourceId,s=g.threadKey;b[3]!==r||b[4]!==q||b[5]!==s?(k=function(){return r!=null?d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(s,r):d("ReQL").empty()},p=[q,s,r],b[3]=r,b[4]=q,b[5]=s,b[6]=k,b[7]=p):(k=b[6],p=b[7]);g=d("ReQLSuspense").useFirst(k,p,f.id+":55");k=o;if(g!=null){p=(j||(j=d("LSIntEnum"))).unwrapIntEnum(g.attachmentType);bb0:switch(p){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__ZUGF0BOPIS7__JHASH__"),b[8]=g):g=b[8];k=g;break bb0;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._("__JHASH___qBQkB3_Go4__JHASH__"),b[9]=p):p=b[9];k=p;break bb0;default:k=o}}g=k;var t;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p="x6s0dn4 x78zum5",t=l.jsx("span",{className:"x1lliihq x1w0mnb",children:l.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWViewOnceMessageIcon"),size:12})}),b[10]=p,b[11]=t):(p=b[10],t=b[11]);b[12]!==k?(g=l.jsxs("div",{"aria-label":g,className:p,children:[t,k]}),b[12]=k,b[13]=g):g=b[13];b[14]!==a||b[15]!==g?(p=l.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:g}),b[14]=a,b[15]=g,b[16]=p):p=b[16];return p}g["default"]=a}),226);
__d("MWSupportTranslatedMessageText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={incoming:{color:"x18lvrbx",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=j(15),e=a.maxLength,f=a.maxLines,g=a.seeLessLinkProps,i=a.seeMoreLinkProps,m=a.text,n=a.truncationStyle,o=a.ranges,p=a.renderers,q=a.transforms;a=a.xstyleForText;var r;b[0]!==a?(r=(h||(h=c("stylex")))(l.regular,a,l.incoming),b[0]=a,b[1]=r):r=b[1];a=m||"";q=(m=q)!=null?m:d("MWChatTextTransform").textTransforms;b[2]!==e||b[3]!==f||b[4]!==o||b[5]!==p||b[6]!==g||b[7]!==i||b[8]!==a||b[9]!==q||b[10]!==n?(m=k.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:e,maxLines:f,ranges:o,renderers:p,seeLessLinkProps:g,seeMoreLinkProps:i,text:a,transforms:q,truncationStyle:n,truncationThreshold:2,withParagraphs:!0}),b[2]=e,b[3]=f,b[4]=o,b[5]=p,b[6]=g,b[7]=i,b[8]=a,b[9]=q,b[10]=n,b[11]=m):m=b[11];b[12]!==r||b[13]!==m?(e=k.jsx(c("MWXText.react"),{color:"primary",type:"body3",children:k.jsx("div",{className:r,dir:"auto",children:m})}),b[12]=r,b[13]=m,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("MWSupportTranslatedMessageTextEntry.react",["MWSupportTranslatedMessageText.react","MWXMessageBubble.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6);a=a.text;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={color_DEPRECATED:void 0,weight_DEPRECATED:"semibold"},b[0]=d):d=b[0];d=d;var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e="x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo",b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1k62owy",b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=[],b[3]=g):g=b[3];b[4]!==a?(e=j.jsx("div",{className:e,"data-testid":void 0,role:"none",children:j.jsx("div",{className:f,children:j.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",children:j.jsx(c("MWSupportTranslatedMessageText.react"),{maxLength:300,maxLines:3,ranges:g,seeLessLinkProps:d,seeMoreLinkProps:d,text:a,truncationStyle:"see-more-and-less"})})})}),b[4]=a,b[5]=e):e=b[5];return e}g.MWSupportTranslatedMessageTextEntry=a}),98);
__d("MWSupportTranslatedMessageTextWrapper.react",["MWSupportTranslatedMessageTextEntry.react","MWSupportTranslationsContext.react","react","stylex","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingStart:"xd06s5i",$$css:!0}};function a(a){var b=j(7),e=a.msgId;a=a.xstyle;var f=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext();f=f.showUntranslatedText;e=c("useSupportTranslationsFetchDataLS")(e);if(e==null)return null;var g;b[0]!==a?(g=(h||(h=c("stylex")))(l.base,l.incoming,a),b[0]=a,b[1]=g):g=b[1];b[2]!==e?(a=k.jsx(d("MWSupportTranslatedMessageTextEntry.react").MWSupportTranslatedMessageTextEntry,{text:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==g||b[5]!==a?(e=k.jsx("div",{className:g,role:"none",children:a}),b[4]=g,b[5]=a,b[6]=e):e=b[6];g=e;return f?g:null}g["default"]=a}),98);
__d("MWV2ChatRTCButtonsBaseButton.react",["MWChatHeaderActionButton.react","MWXThreadThemeColor","gkx","react","useMWIsOffline"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),e=a.disabled,f=a.icon,g=a.label,h=a.loggingEvent,k=a.onPress,l=a.size;a=a.testid;var m=c("useMWIsOffline")(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),b[0]=n):n=b[0];e=m||((e=e)!=null?e:!1);m=m?void 0:g;b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==k||b[6]!==l||b[7]!==a||b[8]!==m?(n=j.jsx(c("MWChatHeaderActionButton.react"),{color:n,disabled:e,icon:f,label:g,loggingEvent:h,onPress:k,size:l,testid:void 0,tooltipLabel:m,tooltipPosition:c("gkx")("23219")?"below":"above"}),b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=a,b[8]=m,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("MWV2ChatRTCButtonsAudio.react",["fbt","MWStartRTCCallUtils","MWV2ChatRTCButtonsBaseButton.react","MWXIconPhone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7),e=a.canCall,f=a.size;a=a.startAudioCall;if(e===d("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED)return null;var g;b[0]!==e?(g=e===d("MWStartRTCCallUtils").CanCallResult.SECURE_VOICE_UNSUPPORTED?h._("__JHASH__AmOrybl4tkj__JHASH__"):h._("__JHASH__7OlJstElKZQ__JHASH__"),b[0]=e,b[1]=g):g=b[1];g=g;e=e!==d("MWStartRTCCallUtils").CanCallResult.VOICE_SUPPORTED;var i;b[2]!==e||b[3]!==g||b[4]!==a||b[5]!==f?(i=k.jsx(c("MWV2ChatRTCButtonsBaseButton.react"),{disabled:e,icon:c("MWXIconPhone"),label:g,loggingEvent:"start_audio_call",onPress:a,size:f,testid:void 0}),b[2]=e,b[3]=g,b[4]=a,b[5]=f,b[6]=i):i=b[6];return i}g["default"]=a}),226);
__d("MWXIconCamcorder",["MWXSvgIcon","SVGIcon","cr:12350","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12350")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2ChatRTCButtonsJoinExistingChat.react",["fbt","I64","LSIntEnum","LSRtcCallState","MWXCircleButton.react","MWXIconCamcorder","MWXIconPhone","MWXThreadThemeColor","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=(i||(i=d("react"))).c,m=i;function a(a){var b=l(15),e=a.ongoingCallState,f=a.size,g=a.startAudioCall,i=a.startVideoCall;if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;b[0]!==g||b[1]!==i?(a=function(a){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_1TO1_CALL)))return[h._("__JHASH__Jezj_QnZwHq__JHASH__"),c("MWXIconPhone"),g];else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_1TO1_CALL)))return[h._("__JHASH__LWBq4gDrf_a__JHASH__"),c("MWXIconCamcorder"),i];return["",c("MWXIconPhone"),c("emptyFunction")]},b[0]=g,b[1]=i,b[2]=a):a=b[2];a=a;var n;b[3]!==a||b[4]!==e?(n=a(e),b[3]=a,b[4]=e,b[5]=n):n=b[5];a=n;e=a[0];n=a[1];a=a[2];var o;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),b[6]=o):o=b[6];b[7]!==n||b[8]!==e||b[9]!==a||b[10]!==f?(o=m.jsx(c("MWXCircleButton.react"),{color:o,icon:n,label:e,onPress:a,size:f,testid:void 0}),b[7]=n,b[8]=e,b[9]=a,b[10]=f,b[11]=o):o=b[11];b[12]!==e||b[13]!==o?(n=m.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("23219")?"below":"above",tooltip:e,children:o}),b[12]=e,b[13]=o,b[14]=n):n=b[14];return n}g["default"]=a}),226);
__d("MWV2ChatRTCButtonsVideo.react",["fbt","MWStartRTCCallUtils","MWV2ChatRTCButtonsBaseButton.react","MWXIconCamcorder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(7),e=a.canCall,f=a.size;a=a.startVideoCall;if(e===d("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED)return null;var g;b[0]!==e?(g=e===d("MWStartRTCCallUtils").CanCallResult.SECURE_VIDEO_UNSUPPORTED?h._("__JHASH__peNbbKoq33W__JHASH__"):h._("__JHASH__BhmiwbAyMN2__JHASH__"),b[0]=e,b[1]=g):g=b[1];g=g;e=e!==d("MWStartRTCCallUtils").CanCallResult.VIDEO_SUPPORTED;var i;b[2]!==e||b[3]!==g||b[4]!==a||b[5]!==f?(i=k.jsx(c("MWV2ChatRTCButtonsBaseButton.react"),{disabled:e,icon:c("MWXIconCamcorder"),label:g,loggingEvent:"start_video_chat",onPress:a,size:f,testid:void 0}),b[2]=e,b[3]=g,b[4]=a,b[5]=f,b[6]=i):i=b[6];e=i;return e}g["default"]=a}),226);
__d("MWV2ChatRTCButtons.react",["I64","LSIntEnum","LSRtcCallState","MWStartRTCCallUtils","MWV2ChatRTCButtonsAudio.react","MWV2ChatRTCButtonsJoinExistingChat.react","MWV2ChatRTCButtonsVideo.react","react","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("react"))).c,l=h;function m(a){return a}function a(a){var b=k(25),e=a.canAudioCall,f=a.canVideoCall,g=a.ongoingCallState,h=a.renderContainer,n=a.size,o=a.startWebAudioCall,p=a.startWebVideoCall;a=a.threadKey;h=h===void 0?m:h;n=n===void 0?28:n;var q=c("useShouldTryWithMessengerDesktop")(),r=d("MWStartRTCCallUtils").useStartMessengerDesktopCall(a,"video",p);a=d("MWStartRTCCallUtils").useStartMessengerDesktopCall(a,"audio",o);r=q?r:p;p=q?a:o;if(e===d("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED&&f===d("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED)return null;if(!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))){b[0]!==g||b[1]!==n||b[2]!==p||b[3]!==r?(q=l.jsx(c("MWV2ChatRTCButtonsJoinExistingChat.react"),{ongoingCallState:g,size:n,startAudioCall:p,startVideoCall:r}),b[0]=g,b[1]=n,b[2]=p,b[3]=r,b[4]=q):q=b[4];b[5]!==h||b[6]!==q?(a=h(q),b[5]=h,b[6]=q,b[7]=a):a=b[7];return a}b[8]!==e||b[9]!==n||b[10]!==p?(o=l.jsx(c("MWV2ChatRTCButtonsAudio.react"),{canCall:e,size:n,startAudioCall:p}),b[8]=e,b[9]=n,b[10]=p,b[11]=o):o=b[11];b[12]!==h||b[13]!==o?(g=h(o),b[12]=h,b[13]=o,b[14]=g):g=b[14];b[15]!==f||b[16]!==n||b[17]!==r?(q=l.jsx(c("MWV2ChatRTCButtonsVideo.react"),{canCall:f,size:n,startVideoCall:r}),b[15]=f,b[16]=n,b[17]=r,b[18]=q):q=b[18];b[19]!==h||b[20]!==q?(a=h(q),b[19]=h,b[20]=q,b[21]=a):a=b[21];b[22]!==g||b[23]!==a?(e=l.jsxs(l.Fragment,{children:[g,a]}),b[22]=g,b[23]=a,b[24]=e):e=b[24];return e}g["default"]=a}),98);
__d("MWV2ComposerStickerButtonLegacy.react",["JSResourceForInteraction","MWChatComposerIcons","MWV2ComposerStickerCommon","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButtonLegacy.react"),l={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=i(12),e=a.color,f=a.disabled,g=a.isSecureThread,h=a.onSelectStickerPack;a=a.onSendMessage;a=c("useMWV2ComposerOnStickerSelect")(a,g,"MWV2ComposerStickerButtonLegacy");var m=c("MessengerWebUXLogger").useInteractionLogger(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n="x1fepime",b[0]=n):n=b[0];b[1]!==h||b[2]!==a||b[3]!==g?(n={className:n,onSelectStickerPack:h,onStickerSelect:a,shouldAlwaysShowAvatarPack:g,shouldHideDefaultPacks:g},b[1]=h,b[2]=a,b[3]=g,b[4]=n):n=b[4];b[5]!==f||b[6]!==m||b[7]!==e?(h=function(a,b,g,h,i,k,n){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:j.jsx(c("MWXPressable.react"),{"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:f,onHoverIn:h,onHoverOut:i,onPress:function(){b(),m==null?void 0:m({eventName:"composer_open_sticker_picker"})},onPressIn:k,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("23219")?l.buttonMDS:l.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:f?void 0:e,size:20})})})},b[5]=f,b[6]=m,b[7]=e,b[8]=h):h=b[8];b[9]!==n||b[10]!==h?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:n,popoverResource:k,position:"above",children:h}),b[9]=n,b[10]=h,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("MWXIconArrowLeft",["MWXSvgIcon","SVGIcon","cr:12289","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12289")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconArrowRight",["MWXSvgIcon","SVGIcon","cr:12291","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12291")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBell",["MWXSvgIcon","SVGIcon","cr:12321","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12321")),c("gkx")("23219"));g["default"]=a}),98);
__d("Query__lightspeed_data",["LSRelayContext","Promise","emptyFunction","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=new Map(),f=d("LSRelayContext").getContext(a);f instanceof(h||(h=b("Promise")))&&c("promiseDone")(f,function(a){f=a,e.forEach(function(a){return a()}),e.clear()});return{read:function(){return f instanceof(h||(h=b("Promise")))?d("relay-runtime").suspenseSentinel():{context:f,value:void 0}},subscribe:function(a){if(!(f instanceof(h||(h=b("Promise")))))return c("emptyFunction");var d={};e.set(d,a);return function(){e["delete"](d)}}}}g.lightspeed_data=a}),98);
__d("TetraMWChatComposerOverflowIcons.react",["MWChatChatButtonColorConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}};a=function(a){var b=a.fill,e=a.size,f=a.title;a=a.xstyle;a=a===void 0?!1:a;return j.jsxs("svg",{className:(h||(h=c("stylex")))(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,a),height:e.toString()+"px",viewBox:"0 0 40 42",width:e.toString()+"px",children:[j.jsx("title",{children:f}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 4.5 30.5)",width:"29",x:"-6.5",y:"26.5"}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 20.5 24.5)",width:"41",x:"3.5",y:"20.5"}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 36.5 35.5)",width:"19",x:"30.5",y:"31.5"})]})};b=function(a){var b=a.fill,e=a.size,f=a.title;a=a.xstyle;a=a===void 0?!1:a;return j.jsxs("svg",{className:(h||(h=c("stylex")))(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,a),height:String(e)+"px",viewBox:"0 0 46 46",width:String(e)+"px",children:[j.jsx("title",{children:f}),j.jsx("path",{d:"M18 17.54v.92c0 1.79 1.75 3.26 4 3.49v-7.9c-2.25.23-4 1.7-4 3.49zM26 26.2v7.6c2.13-.5 4-1.94 4-3.34v-.92c0-1.4-1.87-2.84-4-3.34z",fill:b,transform:"translate(-1 -1)"}),j.jsx("path",{d:"M24 1a23 23 0 1023 23A23 23 0 0024 1zm10 29.46c0 3.95-4 6.83-8 7.42V40a2 2 0 01-4 0v-2.06c-4.43-.3-7.94-3.52-7.94-7.48a2 2 0 014 0c0 1.78 1.72 3.24 3.94 3.49V26c-4.46-.28-8-3.51-8-7.49v-.92c0-4 3.54-7.21 8-7.49V8a2 2 0 014 0v2.13c4 .63 7.09 3.71 7.09 7.41a2 2 0 01-4 0A3.74 3.74 0 0026 14.21v7.91c4 .59 8 3.47 8 7.42z",fill:b,transform:"translate(-1 -1)"})]})};e=function(a){var b=a.fill,e=a.size;a=a.title;return j.jsxs("svg",{className:(h||(h=c("stylex")))(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,d("MWChatChatButtonColorConstants").styles.strokeGrey),height:e.toString()+"px",viewBox:"0 0 34 48",width:e.toString()+"px",children:[j.jsx("title",{children:a}),j.jsx("path",{d:"M17 37v9",fill:"none",stroke:b,strokeLinejoin:"round",strokeWidth:"4"}),j.jsx("path",{d:"M10 46h14",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px"}),j.jsx("path",{d:"M39 20v3.5A14.5 14.5 0 0124.5 38h-1A14.5 14.5 0 019 23.5V20",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",transform:"translate(-7)"}),j.jsx("rect",{fill:b,height:"28",rx:"6.5",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",width:"14",x:"10",y:"2"})]})};g.PollsSVG=a;g.DollarSignSVG=b;g.MicrophoneSVG=e}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){if(b)return!1;b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16));b=b&&a.needsAdminApprovalForNewParticipant===!1;return d("LSThreadBitOffset").has(27,a)||b}g["default"]=a}),98);
__d("getMWV2HeaderSettingsPopoverTooltip",["fbt","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.threadType;a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);return a?h._("__JHASH__J1KJGjGSRI0__JHASH__"):h._("__JHASH__FjEOIpwxx5G__JHASH__")}g["default"]=a}),226);
__d("useC4GEngagementSurface",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="messenger_inbox";switch(a){case"ChatTab":b="chats_tab"}return b}g["default"]=a}),98);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","gkx","react","useEnsureContactsExistAndUpdated","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c;function a(a,b){var e=j(27);c("useEnsureContactsExistAndUpdated")(b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?a:void 0,c("gkx")("8672"));var g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables._user_info?(i=function(){return d("ReQL").fromTableAscending(g.tables._user_info).map(function(a){return a.facebookUserId})},e[0]=g.tables._user_info,e[1]=i):i=e[1];var k;e[2]!==g?(k=[g],e[2]=g,e[3]=k):k=e[3];var l=d("ReQLSuspense").useFirst(i,k,f.id+":45");e[4]!==l||e[5]!==g.tables.contacts?(i=function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(l):d("ReQL").empty()},e[4]=l,e[5]=g.tables.contacts,e[6]=i):i=e[6];e[7]!==g||e[8]!==l?(k=[g,l],e[7]=g,e[8]=l,e[9]=k):k=e[9];i=d("ReQLSuspense").useFirst(i,k,f.id+":50");k=i!=null&&d("LSContactBitOffset").has(80,i);var m;e[10]!==a||e[11]!==b||e[12]!==g.tables.contacts?(m=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},e[10]=a,e[11]=b,e[12]=g.tables.contacts,e[13]=m):m=e[13];var n;e[14]!==g||e[15]!==a||e[16]!==b?(n=[g,a,b],e[14]=g,e[15]=a,e[16]=b,e[17]=n):n=e[17];m=d("ReQLSuspense").useFirst(m,n,f.id+":69");e[18]!==m?(n=m!=null&&d("LSContactBitOffset").has(83,m),e[18]=m,e[19]=n):n=e[19];n=n;if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)){var o;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!0,null],e[20]=o):o=e[20];return o}if(i==null){c("FBLogger")("default_e2ee").info("Viewer is null when checking default e2ee thread capability");e[21]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[21]=o):o=e[21];return o}if(!c("gkx")("8672")&&!k){n&&c("FBLogger")("default_e2ee").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");e[22]===Symbol["for"]("react.memo_cache_sentinel")?(i=[!1,!0,null],e[22]=i):i=e[22];return i}if(m==null){e[23]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[23]=o):o=e[23];return o}e[24]!==n||e[25]!==m.id?(k=[n,!0,m.id],e[24]=n,e[25]=m.id,e[26]=k):k=e[26];return k}g["default"]=a}),98);
__d("useEditMessageHistoryMAWNoop",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){a=i(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useMAWSelectedMessageNoOp",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){}f["default"]=a}),66);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a,b){var e=j(9),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(7),e[0]=f):f=e[0];var g=d("MWLSDatabaseLazySync").useSync(f);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog"),e[1]=f):f=e[1];f=c("useMWXLazyDialog")(f);var h=f[0];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"),e[2]=f):f=e[2];f=c("useMWXLazyDialog")(f);var k=f[0];e[3]!==g||e[4]!==b||e[5]!==k||e[6]!==a||e[7]!==h?(f=function(){c("promiseDone")(g());var e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);e?k({threadKey:a}):h({threadKey:a})},e[3]=g,e[4]=b,e[5]=k,e[6]=a,e[7]=h,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function a(a,b){var e=j(7),f;e[0]!==a?(f=(i||(i=d("I64"))).to_string(a),e[0]=a,e[1]=f):f=e[1];e[2]!==f?(a={threadID:f},e[2]=f,e[3]=a):a=e[3];f=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),a,void 0,l);var g=f[0];e[4]!==g||e[5]!==b?(a=function(){return g({enableEditNameOrDescription:!0,entryPoint:b})},e[4]=g,e[5]=b,e[6]=a):a=e[6];return a}function l(){return k.jsx(c("MWXCardedDialogLoadingState.react"),{})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPMessageListData",["I64","Int64Hooks","MAWObservableUtils","MAWStateContext.react","MWPMessageListDataSource","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","cr:558","justknobx","qex","react","useObservable","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=e.useState;function p(a,b){return JSON.stringify(a)===JSON.stringify(b)}var q=c("justknobx")._("3383");function a(a,e,g){var j,r=a.authorityLevel,s=a.threadKey,t=a.threadType,u=(h||(h=c("useReStore")))(),v=n(d("MAWObservableUtils").getUniqueRef()),w=b("cr:558")(),x=l(d("MAWStateContext.react").MAWDispatchContext);a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();a=a.visibleMessage;var y=a==null?void 0:a.messageId,z=(a=a==null?void 0:a.timestamp)!=null?a:(i||(i=d("I64"))).max_int,A=e==null?void 0:e.threadKey,B=e==null?void 0:e.threadType,C=c("qex")._("365")===!0?g:c("justknobx")._("2575");a=o(C);var D=a[0],E=a[1];e=o(C);var F=e[0],G=e[1];g=o(y);var H=g[0],I=g[1];a=o(z);var J=a[0],K=a[1];e=o(q);g=e[0];var L=e[1];a=o(!1);e=a[0];var M=a[1],N=n(new Map()),O=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.tables.mi_act_mapping_table,["jid"]).getKeyRange(s).map(function(a){return a.jid})},[u,s],f.id+":92"),P=d("Int64Hooks").useMemoInt64(function(){return new(c("MWPMessageListDataSource"))(u,w,{after:F,before:D,cursor:{messageId:H,secureThreadJid:O,threadKey:s,timestampMs:J},pageSize:C,secondaryThreadKey:A,secondaryThreadType:B,threadAuthorityLevel:r,threadType:t},x,v.current)},[F,D,u,w,O,x,H,A,B,s,t,J,r,C]);a=c("useObservable")(P);var Q=a[0];a=a[1];m(function(){return function(){P.onUnload()}},[P]);m(function(){L(!1),M(!1)},[Q]);if(a!=null)throw a;a=(a=Q==null?void 0:Q.data.map(function(a){a[0];a=a[1];var b=N.current.get(a.messageId);if(b!=null&&p(a,b))return b;c("qex")._("189")&&N.current.set(a.messageId,a);return a}))!=null?a:[];var R=a.some(function(a){return a.messageId===y});d("Int64Hooks").useEffectInt64(function(){R||(K(z),I(y),E(C),G(C),q&&L(!0))},[R,y,z,C]);var S=(j=Q==null?void 0:Q.hasNext)!=null?j:!1,T=((j=Q==null?void 0:Q.isLoadingNext)!=null?j:!1)||e;j=k(function(){!T&&S&&(G(F+C),M(!0))},[S,T,F,C]);var U=(e=Q==null?void 0:Q.hasPrevious)!=null?e:!0,V=((e=Q==null?void 0:Q.isLoadingPrevious)!=null?e:!1)||g;Q=k(function(){!V&&U&&(E(D+C),L(!0))},[U,V,D,C]);return{hasNext:S,hasPrevious:U,isLoadingNext:T,isLoadingPrevious:V,loadNext:j,loadPrevious:Q,messages:a}}g["default"]=a}),98);
__d("useMWV2StartGroupCall",["I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","getRTCCallStateOfLSRTCCallState","react","useMWXLazyDialog","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).c;function a(a,b,e,f){var g=k(11),h=a.ongoingCallState,l=a.threadKey,m=a.threadType,n=c("useRTWebCometStartCallCallback")();g[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatRestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"),g[0]=a):a=g[0];a=c("useMWXLazyDialog")(a);var o=a[0],p;g[1]!==b||g[2]!==m||g[3]!==h||g[4]!==e||g[5]!==l||g[6]!==f||g[7]!==o||g[8]!==n?(a=function(a){var g,k=a.jid,p=a.ongoingCallServerInfoData,q=a.otherParticipantId;a=a.restrictedUsers;a=a===void 0?[]:a;b();g=(g=d("LSMessagingThreadTypeUtil").isGroup(m))!=null?g:!1;g=g&&a.length>0;var r={existingCall:p!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((i||(i=d("LSIntEnum"))).unwrapIntEnum(h),(i||(i=d("LSIntEnum"))).unwrapIntEnum(m)),initiator_fbid:null,server_info_data:p}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isArmadilloSecure(m),mediaType:e,thread:{e2eeThreadID:k!=null?(j||(j=d("I64"))).to_string(k):void 0,id:(j||(j=d("I64"))).to_string(l),secureOneToOneThreadPeerId:q!=null&&(j||(j=d("I64"))).equal(m,(i||(i=d("LSIntEnum"))).ofNumber(15))?(j||(j=d("I64"))).to_string(q):void 0,type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(m)},trigger:f};return g?o({onContinue:function(){return n(r)},restrictedUsers:a}):n(r)},p=[b,m,h,e,l,f,n,o],g[1]=b,g[2]=m,g[3]=h,g[4]=e,g[5]=l,g[6]=f,g[7]=o,g[8]=n,g[9]=a,g[10]=p):(a=g[9],p=g[10]);return d("Int64Hooks").useCallbackInt64(a,p)}g["default"]=a}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!1}f["default"]=a}),66);