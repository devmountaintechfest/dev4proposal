;/*FB_PKG_DELIM*/

__d("MAWEncryptedBackupsRestoreDialogContexts_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWEncryptedBackupsRestoreDialogContexts_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWChatEncryptedBackupsDismissalDialogContextProvider.react",["MWChatEncryptedBackupsDismissalDialogContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=b.c;function a(a){var b=k(5),d=a.children;a=a.isDismissedDisabledValue;a=j(a);var e=a[0];a=a[1];b[0]!==e?(a={isDismissedDisabled:e,setIsDismissedDisabled:a},b[0]=e,b[1]=a):a=b[1];e=a;a=e;b[2]!==a||b[3]!==d?(e=i.jsx(c("MWChatEncryptedBackupsDismissalDialogContext").Provider,{value:a,children:d}),b[2]=a,b[3]=d,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react",["MWChatEncryptedBackupsSetIsDialogPersistedContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(5),d=a.children;a=a.setIsDialogPersisted;var e;b[0]!==a?(e={setIsDialogPersisted:a},b[0]=a,b[1]=e):e=b[1];e=e;e=e;if(a!=null){b[2]!==e||b[3]!==d?(a=i.jsx(c("MWChatEncryptedBackupsSetIsDialogPersistedContext").Provider,{value:e,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}return d}g["default"]=a}),98);
__d("MWEBHasSeenAutoRestoreNoticeContextProvider.react",["MWEBHasSeenAutoRestoreNoticeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c;function a(a){var b=j(5),d=a.children;a=a.hasSeenNotice;var e;b[0]!==a?(e={hasSeenNotice:a},b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]!==e||b[3]!==d?(a=i.jsx(c("MWEBHasSeenAutoRestoreNoticeContext").Provider,{value:e,children:d}),b[2]=e,b[3]=d,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MAWEncryptedBackupsRestoreDialogContexts.react",["CometRelay","CometTransientDialogProvider.react","MAWEncryptedBackupsRestoreDialogContexts_query.graphql","MWChatEncryptedBackupsDismissalDialogContextProvider.react","MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react","MWEBFlowSourceContextProvider.react","MWEBHasSeenAutoRestoreNoticeContextProvider.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","react","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useMemo;var k=e.c;function a(a){var e,f=k(30),g=a.children,i=a.query,l=a.setIsDialogPersisted;a=a.source;i=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWEncryptedBackupsRestoreDialogContexts_query.graphql"),i);e=(e=i.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var m;f[0]!==e?(m={vestaGetUserInfoResponse$key:e},f[0]=e,f[1]=m):m=f[1];e=c("useMWChatEncryptedBackupsVestaUserInfo")(m);f[2]!==i.xfb_backup?(m={encryptedBackup:i.xfb_backup},f[2]=i.xfb_backup,f[3]=m):m=f[3];m=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(m);m=m.getVirtualDevices;var n;f[4]!==m?(n=m(),f[4]=m,f[5]=n):n=f[5];m=n;n=m.offlineDevicesCount;m=m.vestaClientID;var o;f[6]!==e.attemptsRemaining||f[7]!==e.loginTimeoutRemainingSecs?(o={attemptsRemaining:e.attemptsRemaining,loginTimeoutRemainingSecs:e.loginTimeoutRemainingSecs,vestaClientID:null},f[6]=e.attemptsRemaining,f[7]=e.loginTimeoutRemainingSecs,f[8]=o):o=f[8];e=o;o=e;e=(e=(e=i.xfb_backup)==null?void 0:e.has_otc_eligible_devices)!=null?e:void 0;i=(i=(i=i.viewer.encrypted_backup)==null?void 0:i.has_seen_eb_auto_restore_notice)!=null?i:!1;var p;f[9]!==l?(p=function(a){l==null?void 0:l(a)},f[9]=l,f[10]=p):p=f[10];var q;f[11]!==g?(q=j.jsx(c("CometTransientDialogProvider.react"),{children:g}),f[11]=g,f[12]=q):q=f[12];f[13]!==o||f[14]!==q?(g=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContext.Provider,{value:o,children:q}),f[13]=o,f[14]=q,f[15]=g):g=f[15];f[16]!==p||f[17]!==g?(o=j.jsx(c("MWChatEncryptedBackupsDismissalDialogContextProvider.react"),{isDismissedDisabledValue:!1,children:j.jsx(c("MWChatEncryptedBackupsRestoreUpsellDialogContextProvider.react"),{setIsDialogPersisted:p,children:g})}),f[16]=p,f[17]=g,f[18]=o):o=f[18];f[19]!==a||f[20]!==o?(q=j.jsx(c("MWEBFlowSourceContextProvider.react"),{source:a,children:o}),f[19]=a,f[20]=o,f[21]=q):q=f[21];f[22]!==i||f[23]!==q?(p=j.jsx(c("MWEBHasSeenAutoRestoreNoticeContextProvider.react"),{hasSeenNotice:i,children:q}),f[22]=i,f[23]=q,f[24]=p):p=f[24];f[25]!==e||f[26]!==n||f[27]!==m||f[28]!==p?(g=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:e,offlineDevicesCountInitialValue:n,vestaClientIDInitialValue:m,children:p}),f[25]=e,f[26]=n,f[27]=m,f[28]=p,f[29]=g):g=f[29];return g}g["default"]=a}),98);
__d("MWChatEncryptedBackupsOTCHelpDialogPage.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsOTCHelpDialogPage.react").__setRef("MWChatEncryptedBackupsOTCHelpDialogPage.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsPinCodeRestoreStep.react",["fbt","CometPlaceholder.react","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWEBQPResetPIN.react","MWEBVestaUserInfoContext.react","MWXColumn.react","MWXColumnItem.react","MWXDialogPageLegacy.react","MWXLink.react","MWXMultiStepDialogHeader.react","MWXText.react","QPLUserFlow","cr:6247","focusScopeQueries","gkx","lazyLoadComponent","promiseDone","react","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsPinCodeRestore","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState,m=e.c,n=c("gkx")("23219"),o=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedStep.react").__setRef("MWChatEncryptedBackupsPinCodeRestoreStep.react"),p="chat-encrypted-backups-dialog-layout-restore-step";function a(a){var e=m(31),f=a.clientID,g=a.onChooseOtc,i=a.onClose,r=a.onComplete,s=a.onForgotPin;a=a.shouldShowForgotButton;a=a===void 0?!0:a;var t=l(null),u=t[0];t=t[1];var v;e[0]!==f||e[1]!==r?(v={clientID:f,focusRegionId:p,onVestaComplete:r},e[0]=f,e[1]=r,e[2]=v):v=e[2];f=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore(v);var w=f.focusOnInput;v=f.inputProps;var x=f.isInProgress,y=f.isLabyrinthError,z=f.isPinCodeIncorrect;f=f.isVestaError;var A=l(!1),B=A[0];A=A[1];x=x||B;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._("__JHASH__ZgAep0T7S_u__JHASH__"),e[3]=B):B=e[3];B=B;var C=d("MWEBVestaUserInfoContext.react").useMWEBVestaUserInfo(),D=C.attemptsRemaining;C=C.loginTimeoutRemainingSecs;var E=D===0,F=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),G=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SCREEN",void 0,function(){w(),I!=null&&c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_OPTION_DISPLAYED_RESTORE_SCREEN")}),H;e[4]!==a||e[5]!==F||e[6]!==x||e[7]!==s?(H=a?j.jsx(c("MWXLink.react"),{disabled:F||x,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_FORGOT_PIN_CLICK"),s()},rel:"noreferrer",testid:void 0,children:j.jsx(c("MWXText.react"),{color:F||x?"disabled":"highlight",type:"button2",children:h._("__JHASH__UY_FDJp7Rzt__JHASH__")})}):null,e[4]=a,e[5]=F,e[6]=x,e[7]=s,e[8]=H):H=e[8];a=H;var I=g!==null?j.jsx(c("MWXText.react"),{color:F||x?"disabled":"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{disabled:F||x,onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),g()},rel:"noreferrer",testid:void 0,children:h._("__JHASH__rIytKXj5Yr0__JHASH__")})}):null;H=I!=null?I:a;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__6pjlJMQcqkh__JHASH__"),e[9]=a):a=e[9];a=a;var J;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(J=c("lazyLoadComponent")(o),e[10]=J):J=e[10];J=J;if(e[11]!==F||e[12]!==D||e[13]!==C||e[14]!==i||e[15]!==r||e[16]!==G||e[17]!==u||e[18]!==z||e[19]!==I||e[20]!==y||e[21]!==f||e[22]!==E||e[23]!==x||e[24]!==v||e[25]!==H){a=F?j.jsx(J,{attemptsRemaining:D,loginTimeoutRemainingSecs:C,onClose:i,onComplete:r}):j.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,ref:d("xplatToDOMRef").xplatToDOMRef(G),children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,spacing:0,children:[j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPResetPIN.react"),{})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:j.jsx("div",{className:"x1l90r2v x2b8uid",children:B})})}),j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:(J=u)!=null?J:z&&I!=null?h._("__JHASH__92mf973T2UM__JHASH__"):z?h._("__JHASH__TG8l6XqQAul__JHASH__"):y||f?h._("__JHASH__oI6Lha5PMTv__JHASH__"):void 0,children:j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:p,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},v,{disabled:C!=null||E||x,testid:void 0}))})})}),x&&j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:n})}),!x&&j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"x1y1aw1k",children:H})}),b("cr:6247")!=null&&j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatEncryptedBackupsPinCodeRestoreStep",children:j.jsx(b("cr:6247"),{onComplete:r,onError:t,setIsLoading:A})})]})});e[11]=F;e[12]=D;e[13]=C;e[14]=i;e[15]=r;e[16]=G;e[17]=u;e[18]=z;e[19]=I;e[20]=y;e[21]=f;e[22]=E;e[23]=x;e[24]=v;e[25]=H;e[26]=a}else a=e[26];B=a;e[27]===Symbol["for"]("react.memo_cache_sentinel")?(J=[],e[27]=J):J=e[27];k(q,J);e[28]===Symbol["for"]("react.memo_cache_sentinel")?(t=j.jsx(c("MWXMultiStepDialogHeader.react"),{withCloseButton:!1,withoutBackButton:!0}),e[28]=t):t=e[28];e[29]!==B?(A=j.jsxs(j.Fragment,{children:[t,B]}),e[29]=B,e[30]=A):A=e[30];return A}function q(){c("promiseDone")(o.load())}g["default"]=a}),226);
__d("MWChatEncryptedBackupsRingIndeterminateIcon.react",["CometHeroHoldTrigger.react","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={large:{minHeight:"x1zwvfr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",$$css:!0},small:{minHeight:"x1edz59j",$$css:!0}};function a(a){var b=j(6);a=a.size;a=a===void 0?"large":a;a=l[a];var d;b[0]!==a?(d=(h||(h=c("stylex")))(l.root,a),b[0]=a,b[1]=d):d=b[1];var e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWEBRingSpinner",hold:!0}),e=k.jsx(c("MWXSpinner.react"),{color:"blue",size:60}),b[2]=a,b[3]=e):(a=b[2],e=b[3]);b[4]!==d?(a=k.jsxs("div",{className:d,children:[a,e]}),b[4]=d,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MWEBOTCDialogStep.react",["cr:3134","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var c=i(2),d;c[0]!==a?(d=j.jsx(b("cr:3134"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=d):d=c[1];return d}g["default"]=a}),98);
__d("MWEBOTCErrorMessages",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){return h._("__JHASH__lBlURV9iIv0__JHASH__")};b=function(){return h._("__JHASH__rIH_-tfv2x2__JHASH__")};c=function(){return h._("__JHASH__WypD50Gdi03__JHASH__")};d=function(){return h._("__JHASH__7uRJ4wtXcoz__JHASH__")};e=function(){return h._("__JHASH__XUu1h3R4qPj__JHASH__")};f=function(){return h._("__JHASH__ndaWq552FSK__JHASH__")};var i=function(){return h._("__JHASH__WoNRZZnIdhP__JHASH__")};g.getOtcIsWrongErrorMessage=a;g.getNoSessionOngoingErrorMessage=b;g.getMaxAttemptsReachedErrorMessage=c;g.getSessionExpiredErrorMessage=d;g.getGeneralErrorMessage=e;g.getNotificationFailedToSendErrorMessage=f;g.getFailedToFetchOtcDevicesErrorMessage=i}),226);
__d("MWEBOTCGating",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("qex")._("2054"))!=null?a:!1}function b(){var a;return(a=c("qex")._("2118"))!=null?a:!1}function d(){var a;return(a=c("qex")._("2119"))!=null?a:!1}function e(){var a;return(a=c("qex")._("2117"))!=null?a:!1}function f(){var a;return(a=c("qex")._("2055"))!=null?a:!1}g.showDevicesPopover=a;g.showResendButton=b;g.showNewTitle=d;g.shouldSeeNewHelpFlow=e;g.shouldCheckFirst=f}),98);
__d("MWEBQPOneTimeCode.react",["ix","CometImageFromIXValue.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=c("gkx")("23433");b=k.forwardRef(a);function a(a,b){var d=j(5),e=a.alt;a=a.xstyle;var f;d[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l?h("421460"):h("421458"),d[0]=f):f=d[0];f=f;d[1]!==e||d[2]!==b||d[3]!==a?(f=k.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:b,source:f,xstyle:a}),d[1]=e,d[2]=b,d[3]=a,d[4]=f):f=d[4];return f}e=b;g["default"]=e}),98);
__d("PAKEClientTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({PAKE_TEST:-1,ENCRYPTED_BACKUPS:0,EB_MULTI_USER_OTC:1});f["default"]=a}),66);
__d("useMWAbandonRestoreConfirmationDialog",["fbt","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","gkx","react","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");b.useCallback;var j=b.c;function a(a){var b=j(3),e=c("useMWXConfirmationDialog")(),f=c("gkx")("23219"),g;b[0]!==e||b[1]!==a?(g=function(){e({body:f?h._("__JHASH__igJ7_fPkBWf__JHASH__"):h._("__JHASH__mJ4KzCvoneV__JHASH__"),confirm:h._("__JHASH__NclomsdgTqa__JHASH__"),title:h._("__JHASH__Lc-TiofSivN__JHASH__")},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CONFIRMATION_CLICK"),a==null?void 0:a()},function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"DONT_RESTORE_CANCEL_CLICK")})},b[0]=e,b[1]=a,b[2]=g):g=b[2];return g}g["default"]=a}),226);
__d("MWEBRestoreDialog.react",["InteractionTracing.xplat","MAWEncryptedBackupsRestoreStep.react","MAWPinCodeGating","MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsRingIndeterminateIcon.react","MWEBHasSeenAutoRestoreNoticeContext","MWEBLazyLoadResetPinPage","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsForgotRCStep","MWEncryptedBackupsOtcRestoreSteps","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXMultiStepDialog.react","PAKECleanupSessionReasonEnum","PAKEClientTypeEnum","QPLUserFlow","cr:6320","cr:6321","promiseDone","react","requireDeferred","useLabyrinthLogging","useMWAbandonRestoreConfirmationDialog","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=c("requireDeferred")("CleanupPakeSession").__setRef("MWEBRestoreDialog.react"),p=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreDialog.react");function a(a){var e=a.cancellable;e=e===void 0?!0:e;var f=a.onClose,g=a.onDismissUpsell,i=n(!1),q=(h||(h=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var r=a.startFlow,s=c("useMWEBFlowSourceContext")();a=l(c("MWChatEncryptedBackupsDismissalDialogContext"));var t=a.isDismissedDisabled,u=a.setIsDismissedDisabled;a=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();var v=a.virtualDeviceInfo;a=l(c("MWEBHasSeenAutoRestoreNoticeContext"));var w=a.hasSeenNotice,x=k(function(){g==null?void 0:g(),v.doesUserHaveOtcEligibleDevices===!0&&o.onReady(function(a){c("promiseDone")(a({cleanupReason:c("PAKECleanupSessionReasonEnum").FLOW_ABANDONED,clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,deviceId:d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),storage:q}))})},[g,v.doesUserHaveOtcEligibleDevices,q]);a=k(function(){d("MWChatEncryptedBackupsLogging").closeDialogCancelFlow({event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,onClose:function(){return f()}}),x()},[f,x]);var y=c("useMWAbandonRestoreConfirmationDialog")(a),z=k(function(){d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"reset_skip",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),f(),x()},[f,x]),A=b("cr:6320")==null?void 0:b("cr:6320")(),B=b("cr:6321")==null?void 0:b("cr:6321")(),C=v.vestaClientID!=null;m(function(){i.current||(i.current=!0,d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:q,onFetch:function(a){var b=a.ebsmWiped,e=a.firstUpsellTime,f=a.hasEbKeysLocally,g=a.hasEBSM,h=a.hasPDB,i=a.hasUserRestoredBefore;a=a.hasUserRestoredBeforeTemp;var j=s();r({additionalAnnotations:{eb_session_identifier:e,ebsm_wiped:b,has_eb_keys_locally:f,has_ebsm:g,has_pdb:h,has_user_restored_before:i,has_user_restored_before_temp:a,restore_upsell_first_impression_time:e},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:j});j===c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK&&(c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("eb_soft_block",!0)}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"INBOX_SOFTBLOCK_RESTORE_SCREEN"));c("promiseDone")(p.load(),function(a){return a(f)})}}))},[s,r,q]);return j.jsx(c("MWXMultiStepDialog.react"),{onClose:t?f:y,size:"small",withCloseButton:e,children:function(a){if(v.offlineDevicesCount===-1)return j.jsx(c("MWChatEncryptedBackupsRingIndeterminateIcon.react"),{});var b=function(b){return A!=null?A({onNextStep:b,pushPage:a}):B!=null?B({hasSeenNotice:w,onNextStep:b,pushPage:a}):f()};return j.jsx(c("MAWEncryptedBackupsRestoreStep.react"),{clientID:d("MAWPinCodeGating").isPinCodeEnabled()&&C?v.vestaClientID:null,offlineDevicesCount:v.offlineDevicesCount,onChooseOtc:v.doesUserHaveOtcEligibleDevices?function(){return d("MWEncryptedBackupsOtcRestoreSteps").pushByOneTimeCodePage({onClose:y,onOtcComplete:function(){b(function(){u(!0),c("MWEBLazyLoadResetPinPage")(f,a)})},onSkip:z,pushPage:a})}:null,onClose:y,onComplete:function(){b(f)},onForgotPin:function(){d("MWEncryptedBackupsForgotPinStep").pushForgotPinPage({offlineDeviceCount:v.offlineDevicesCount,onClose:f,onComplete:f,pushPage:a})},onForgotRC:function(){d("MWEncryptedBackupsForgotRCStep").pushForgotRCPage({onClose:f,onComplete:f,pushPage:a})},onSkip:z,pushPage:a,shouldShowForgotButton:!0,source:s()})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreInterstitialDialogWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreInterstitialDialogWrapper_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWEncryptedBackupsRestoreDialogContexts_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBRestoreInterstitialDialogWrapper.react",["CometRelay","MAWEncryptedBackupsRestoreDialogContexts.react","MWChatEncryptedBackupsQPLSource.enum","MWEBRestoreDialog.react","MWEBRestoreInterstitialDialogWrapper_query.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i;function a(a){var e=j(9),f=a.query,g=a.setIsClosed,i=a.setIsDialogPersisted;a=a.setIsDismissed;f=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBRestoreInterstitialDialogWrapper_query.graphql"),f);var l=c("MWChatEncryptedBackupsQPLSource.enum").INBOX_INTERSTITIAL_SOFTBLOCK,m;e[0]!==g?(m=function(){return g(!0)},e[0]=g,e[1]=m):m=e[1];var n;e[2]!==m||e[3]!==a?(n=k.jsx(c("MWEBRestoreDialog.react"),{onClose:m,onDismissUpsell:a}),e[2]=m,e[3]=a,e[4]=n):n=e[4];e[5]!==f||e[6]!==i||e[7]!==n?(m=k.jsx(c("MAWEncryptedBackupsRestoreDialogContexts.react"),{query:f,setIsDialogPersisted:i,source:l,children:n}),e[5]=f,e[6]=i,e[7]=n,e[8]=m):m=e[8];return m}g["default"]=a}),98);
__d("usePakeInitiatorManager",["FBLogger","PakeCpaceWasm","Promise","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect,k=e.useRef,l=e.c,m=c("requireDeferred")("establishPakeHandshakeAsInitiator").__setRef("usePakeInitiatorManager"),n=3e4;function a(a){var e=l(14),f=a.onGeneralFailure,g=a.onMaxAttemptsReached,i=a.onNoSessionExists,q=a.onSessionExpired,r=a.onSuccessfulSecretDecryption,s=a.onWrongOtc,t=a.timeout,u=a.clientType,v=t===void 0?n:t,w=c("useAsyncReStore")(),x=k(null),y=k(p),z=k(o),A=k(null),B=k(!1);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){B.current===!1&&(B.current=!0,c("promiseDone")(d("PakeCpaceWasm").PakeCPaceWasm().then(function(a){A.current=a}),void 0,function(){c("FBLogger")("labyrinth_web").mustfix("PAKE: Error loading WASM module")}));return function(){var a;z.current();(a=x.current)==null?void 0:a["delete"]();y.current()}},t=[],e[0]=a,e[1]=t):(a=e[0],t=e[1]);j(a,t);e[2]!==w||e[3]!==u||e[4]!==f||e[5]!==g||e[6]!==i||e[7]!==q||e[8]!==r||e[9]!==s||e[10]!==v?(a=function(a){return(h||(h=b("Promise"))).all([w,m.load()]).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b[0];b=b[1];b=(yield b({clientType:u,onGeneralFailure:f,onMaxAttemptsReached:g,onNoSessionExists:i,onSessionExpired:q,onSuccessfulSecretDecryption:r,onWrongOtc:s,otc:a,pakeCpaceModule:A.current,storage:c,timeout:v}));c=b.pakeClient;var d=b.stopTimeout;b=b.unsubFromMessagesTable;x.current=c;y.current=d;z.current=b});return function(a){return c.apply(this,arguments)}}())},e[2]=w,e[3]=u,e[4]=f,e[5]=g,e[6]=i,e[7]=q,e[8]=r,e[9]=s,e[10]=v,e[11]=a):a=e[11];t=a;e[12]!==t?(a={establishPakeHandshakeAsInitiator:t},e[12]=t,e[13]=a):a=e[13];return a}function o(){}function p(){}g["default"]=a}),98);
__d("usePushFDSMultiStepDialogEntryPointPage",["BaseMultiPageEntryPointImpl.react","CometRelay","FDSMultiStepDialogPushPageContext.react","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=b.useTransition,l=b.c;function a(a,b){var e=l(8),f=k(),g=f[0],h=f[1],m=c("useCometRelayEntrypointContextualEnvironmentProvider")(),n=j(d("FDSMultiStepDialogPushPageContext.react").FDSMultiStepDialogPushPageContext);e[0]!==b||e[1]!==m||e[2]!==a||e[3]!==n?(f=function(e,f){if(b==null)return;h(function(){var g,h=d("CometRelay").loadEntryPoint(m,a,b);g=(g=f)!=null?g:{};var j=g.fallback;g=babelHelpers.objectWithoutPropertiesLoose(g,["fallback"]);n(function(){return i.jsx(c("BaseMultiPageEntryPointImpl.react"),{entryPoint:a,environmentProvider:m,fallback:j,loadedEntryPoint:h,otherProps:e,preloadParams:b,usePlaceholder:j!=null})},g)})},e[0]=b,e[1]=m,e[2]=a,e[3]=n,e[4]=f):f=e[4];f=f;var o;e[5]!==g||e[6]!==f?(o=[g,f],e[5]=g,e[6]=f,e[7]=o):o=e[7];return o}g["default"]=a}),98);
__d("MWEncryptedBackupsInsertOTCStep.react",["fbt","EBSMGating","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsOTCHelpDialogPage.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBOTCErrorMessages","MWEBOTCGating","MWEBQPOneTimeCode.react","MWEncrypedBackupsSendOTCNotifications","MWEncryptedBackupsLocalStorageEntryEnum","MWXColumn.react","MWXColumnItem.react","MWXDeferredPopoverTrigger.react","MWXDialogPageLegacy.react","MWXLink.react","MWXMultiStepDialogHeader.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","PAKEClientTypeEnum","QPLUserFlow","focusScopeQueries","gkx","promiseDone","react","requireDeferred","useAsyncReStore","useFetchOTCEligibleEBDevices","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","usePakeInitiatorManager","usePushFDSMultiStepDialogEntryPointPage","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o=b.c,p=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsInsertOTCStep.react"),q=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("MWEncryptedBackupsInsertOTCStep.react"),r=c("requireDeferred")("MWEncryptedBackupsOTCEligibleDevicesPopover.react").__setRef("MWEncryptedBackupsInsertOTCStep.react"),s=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("MWEncryptedBackupsInsertOTCStep.react"),t=c("requireDeferred")("deserializeSecretsAndAddDevice").__setRef("MWEncryptedBackupsInsertOTCStep.react"),aa=c("JSResourceForInteraction")("MWEBPushResetPinPage").__setRef("MWEncryptedBackupsInsertOTCStep.react"),u="chat-encrypted-backups-dialog-layout-second-step",ba=6,ca=c("gkx")("23219"),da=c("gkx")("20861");function a(a){var b=o(88),e=a.isSecondStep,f=a.onComplete,g=a.onViewAllDevices,i=a.onClose,w=a.onSkip,x=e===void 0?!1:e;a=n(!1);e=a[0];var y=a[1],z=m(!1),A=m(!1),B=m(ea);a=n(null);var C=a[0],D=a[1],E=c("useAsyncReStore")();a=c("useFetchOTCEligibleEBDevices")(x?"store-or-network":"network-only");var F=a.triggerFetchOtcEligibleDevices,G=c("useMWEBFlowSourceContext")(),H=k(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted,I;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){B.current()}},I=[],b[0]=a,b[1]=I):(a=b[0],I=b[1]);l(a,I);a=d("MWEncrypedBackupsSendOTCNotifications").useSendOTCNotifications();var J=a[0];I=a[1];b[2]!==J?(a=function(){J()["catch"](function(){c("FBLogger")("labyrinth_web").mustfix("OTC: Send otc notifications sproc failed."),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_SEND_NOTIFICATION_FAILURE"),D(d("MWEBOTCErrorMessages").getNotificationFailedToSendErrorMessage())})},b[2]=J,b[3]=a):a=b[3];var K=a,L;b[4]!==x||b[5]!==K?(a=function(){z.current===!1&&(z.current=!0,c("promiseDone")(aa.load()),c("MWChatEncryptedBackupsOTCHelpDialogPage.entrypoint").root.preload(),x||K())},L=[x,K],b[4]=x,b[5]=K,b[6]=a,b[7]=L):(a=b[6],L=b[7]);l(a,L);b[8]!==H?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_API_FAILURE"),D(d("MWEBOTCErrorMessages").getGeneralErrorMessage()),A.current=!0,y(!1),H==null?void 0:H(!1)},b[8]=H,b[9]=a):a=b[9];L=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_MAX_ATTEMPTS_REACHED"),D(d("MWEBOTCErrorMessages").getMaxAttemptsReachedErrorMessage()),A.current=!0,y(!1)},b[10]=a):a=b[10];var M;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(M=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_NO_SESSION"),D(d("MWEBOTCErrorMessages").getNoSessionOngoingErrorMessage()),A.current=!0,y(!1)},b[11]=M):M=b[11];var N;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(N=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SESSION_EXPIRED"),D(d("MWEBOTCErrorMessages").getSessionExpiredErrorMessage()),A.current=!0,y(!1)},b[12]=N):N=b[12];var O;b[13]!==H||b[14]!==E||b[15]!==f?(O=function(a){var b=a.decryptedSecret,e=a.initiatorId;H==null?void 0:H(!0);c("promiseDone")(t.load(),function(a){c("promiseDone")(E.then(function(g){return a({db:g,initiatorId:e,onAddDeviceFailure:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FAILURE"),D(d("MWEBOTCErrorMessages").getGeneralErrorMessage()),A.current=!0,y(!1),H==null?void 0:H(!1)},onAddDeviceFinish:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_ADD_DEVICE_FINISHED"),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGating").isBackendSetupSuccessfulForEBSM()}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),s.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))}),p.onReady(function(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}),f(),y(!1),q.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;a(g)["catch"](function(a){return c("FBLogger")("labyrinth_web").mustfix("OTC Restore: Error when fetching backup ids, %s",a)})})},secrets:b})}),function(a){B.current=a})})},b[13]=H,b[14]=E,b[15]=f,b[16]=O):O=b[16];O=O;var P;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(P=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_INCORRECT_CODE"),D(d("MWEBOTCErrorMessages").getOtcIsWrongErrorMessage()),A.current=!0,y(!1)},b[17]=P):P=b[17];b[18]!==L||b[19]!==O?(a={clientType:c("PAKEClientTypeEnum").ENCRYPTED_BACKUPS,onGeneralFailure:L,onMaxAttemptsReached:a,onNoSessionExists:M,onSessionExpired:N,onSuccessfulSecretDecryption:O,onWrongOtc:P},b[18]=L,b[19]=O,b[20]=a):a=b[20];M=c("usePakeInitiatorManager")(a);var Q=M.establishPakeHandshakeAsInitiator;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(N=function(){D()},b[21]=N):N=b[21];b[22]!==G||b[23]!==Q?(P={focusRegionId:u,inputSize:ba,onChange:N,onComplete:function(a){var b=G();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"one_time_code",source:b}});y(!0);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SUBMIT");c("promiseDone")(Q(a))}},b[22]=G,b[23]=Q,b[24]=P):P=b[24];L=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(P);O=L[0];a=L[1];var R=a.clearNumericInput,S=a.focusOnInput;M=a.isLoading;b[25]!==K||b[26]!==S?(N=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_RESEND_CLICK"),K(),S()},b[25]=K,b[26]=S,b[27]=N):N=b[27];P=N;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(L={},b[28]=L):L=b[28];a=c("usePushFDSMultiStepDialogEntryPointPage")(c("MWChatEncryptedBackupsOTCHelpDialogPage.entrypoint"),L);a[0];var T=a[1];b[29]!==T||b[30]!==i||b[31]!==w?(N=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_HELP_CLICK"),d("MWEBOTCGating").shouldSeeNewHelpFlow()&&T({onClose:i,onSkip:w})},b[29]=T,b[30]=i,b[31]=w,b[32]=N):N=b[32];L=N;b[33]!==R?(a=function(){A.current&&(R(),A.current=!1)},N=[R],b[33]=R,b[34]=a,b[35]=N):(a=b[34],N=b[35]);l(a,N);b[36]!==x||b[37]!==S?(a={onVisible:function(){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{bool:{otc_check_first:x,otc_devices_popover:d("MWEBOTCGating").showDevicesPopover()}}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_SCREEN"),S()}},b[36]=x,b[37]=S,b[38]=a):a=b[38];N=c("useVisibilityObserver")(a);b[39]!==x?(a=d("MWEBOTCGating").showNewTitle()&&!x?h._("__JHASH__ZdKKLkchlbs__JHASH__"):h._("__JHASH__mdY4-jjsr2I__JHASH__"),b[39]=x,b[40]=a):a=b[40];a=a;var U;b[41]!==M||b[42]!==I||b[43]!==P||b[44]!==R||b[45]!==g||b[46]!==F?(U=d("MWEBOTCGating").showResendButton()?{disabled:M||I,label:h._("__JHASH__UA_X5BHDdA7__JHASH__"),onPress:P,testid:"mw-eb-otc-insert-resend-code-button"}:{disabled:M,label:h._("__JHASH__UdIx77e_03V__JHASH__"),onPress:function(){R(),D(),g({onFetchOtcEligibleDevicesError:function(){D(d("MWEBOTCErrorMessages").getFailedToFetchOtcDevicesErrorMessage()),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_FETCH_OTC_ELIGIBLE_DEVICES_FAILURE"),F()},onResendCodeFailure:function(){D(d("MWEBOTCErrorMessages").getNotificationFailedToSendErrorMessage()),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESEND_NOTIFICATION_FAILURE")}}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_VIEW_ALL_DEVICES_CLICK")}},b[41]=M,b[42]=I,b[43]=P,b[44]=R,b[45]=g,b[46]=F,b[47]=U):U=b[47];I=U;P=I;b[48]!==x||b[49]!==L?(U=d("MWEBOTCGating").showResendButton&&!x?{label:h._("__JHASH__94rkJHAT5R0__JHASH__"),linkProps:d("MWEBOTCGating").shouldSeeNewHelpFlow?void 0:{target:"_blank",url:"https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more"},onPress:L,testid:"mw-eb-otc-insert-help-button"}:void 0,b[48]=x,b[49]=L,b[50]=U):U=b[50];I=U;L=I;U=L!=null;b[51]===Symbol["for"]("react.memo_cache_sentinel")?(I=j.jsx(c("MWXMultiStepDialogHeader.react"),{withCloseButton:!1,withoutBackButton:!0,withoutHeaderBottomBorder:!0}),b[51]=I):I=b[51];var V=U&&!e?P:void 0;L=U&&!e?L:void 0;var W;b[52]===Symbol["for"]("react.memo_cache_sentinel")?(W="x2lwn1j",b[52]=W):W=b[52];var X=U&&!e?void 0:16,Y;b[53]===Symbol["for"]("react.memo_cache_sentinel")?(Y=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:j.jsx("div",{className:"xg87l8a",children:j.jsx(c("MWEBQPOneTimeCode.react"),{})})}),b[53]=Y):Y=b[53];var Z;b[54]!==a?(Z=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingVertical:16,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a})}),b[54]=a,b[55]=Z):Z=b[55];b[56]!==x?(a=!x&&j.jsx(c("MWXColumnItem.react"),{align:"center",children:j.jsx("div",{className:"x1l90r2v x2b8uid",children:d("MWEBOTCGating").showDevicesPopover()?j.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"middle",popoverProps:{},popoverResource:r,position:"above",children:v}):j.jsx(c("MWXText.react"),{color:"secondary",type:"body3",children:h._("__JHASH__lzSAd4UfKCU__JHASH__")})})}),b[56]=x,b[57]=a):a=b[57];M=M||e;var $;b[58]!==O||b[59]!==M?($=j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:u,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},O,{disabled:M,testid:void 0}))}),b[58]=O,b[59]=M,b[60]=$):$=b[60];b[61]!==C||b[62]!==$?(O=j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:C,children:$}),b[61]=C,b[62]=$,b[63]=O):O=b[63];b[64]!==C?(M=da&&C===d("MWEBOTCErrorMessages").getGeneralErrorMessage()?j.jsx("div",{className:"xwib8y2",children:j.jsx(c("MWXText.react"),{align:"center",color:"negative",type:"body4",children:h._("__JHASH__47yJJ8U23lB__JHASH__")})}):null,b[64]=C,b[65]=M):M=b[65];b[66]!==O||b[67]!==M?($=j.jsxs(c("MWXColumnItem.react"),{align:"center",children:[O,M]}),b[66]=O,b[67]=M,b[68]=$):$=b[68];b[69]!==e||b[70]!==U?(C=e&&j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:U?16:0,paddingVertical:U?8:0,children:j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:ca?"disabled":"blue",size:12})}),j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body3",children:h._("__JHASH__G3IwntRJlbU__JHASH__")})})]})}),b[69]=e,b[70]=U,b[71]=C):C=b[71];b[72]!==U||b[73]!==e||b[74]!==P?(O=!U&&!e&&j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:8,children:j.jsx(c("MWXText.react"),{color:P.disabled?"disabled":"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{disabled:P.disabled,onClick:P.onPress,rel:"noreferrer",children:P.label})})}),b[72]=U,b[73]=e,b[74]=P,b[75]=O):O=b[75];b[76]!==X||b[77]!==Z||b[78]!==a||b[79]!==$||b[80]!==C||b[81]!==O?(M=j.jsx("div",{className:W,children:j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingTop:16,paddingVertical:X,spacing:8,children:[Y,Z,a,$,C,O]})}),b[76]=X,b[77]=Z,b[78]=a,b[79]=$,b[80]=C,b[81]=O,b[82]=M):M=b[82];b[83]!==V||b[84]!==N||b[85]!==L||b[86]!==M?(U=j.jsxs(j.Fragment,{children:[I,j.jsx(c("MWXDialogPageLegacy.react"),{callToActionGroupLayout:"expanded",includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION:!1,primaryCallToAction:V,ref:N,secondaryCallToAction:L,children:M})]}),b[83]=V,b[84]=N,b[85]=L,b[86]=M,b[87]=U):U=b[87];return U}function v(a,b){return j.jsx(c("MWXText.react"),{color:"secondary",type:"body3",children:h._("__JHASH__qB8i3rbuT2p__JHASH__",[h._param("device",j.jsx(c("MWXText.react"),{color:"blueLink",ref:a,type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_DEVICES_POPOVER_CLICK"),b()},testid:void 0,children:h._("__JHASH__l-i0ZTsx1AJ__JHASH__")})}))])})}v.displayName=v.name+" [from "+f.id+"]";function ea(){}g["default"]=a}),226);
__d("useMWEBAutoRestoreNoticeStep",["MWChatEncryptedBackupsDismissalDialogContext","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","ReQL","ReQLSuspense","deferredLoadComponent","react","react-forget-runtime","requireDeferred","useLabyrinthLogging","useMWEBFlowSourceContext","useMWEBSetHasSeenNotice","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||(j=d("react"))).c;b=j;var l=h||(h=c("react"));b.useCallback;b.useContext;var m=c("deferredLoadComponent")(c("requireDeferred")("MWEBAutoRestoreNoticeDialogStep.react").__setRef("useMWEBAutoRestoreNoticeStep"));function a(){var a=k(10),b=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),e=b.startFlow;b=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(c("MWChatEncryptedBackupsDismissalDialogContext"),n);var g=b.setIsDismissedDisabled,h=c("useMWEBFlowSourceContext")(),j=(i||(i=c("useReStore")))();a[0]!==j.tables.auto_restore_opt_out?(b=function(){return d("ReQL").fromTableAscending(j.tables.auto_restore_opt_out)},a[0]=j.tables.auto_restore_opt_out,a[1]=b):b=a[1];var o;a[2]!==j?(o=[j],a[2]=j,a[3]=o):o=a[3];var p=d("ReQLSuspense").useArray(b,o,f.id+":55"),q=c("useMWEBSetHasSeenNotice")();a[4]!==p||a[5]!==e||a[6]!==h||a[7]!==g||a[8]!==q?(b=function(a){var b=a.hasSeenNotice,f=a.onNextStep,i=a.pushPage;a=p.filter(function(a){return a.optOutKey===c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE}).length>0;var j=function(){d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent}),f()};e({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:h()});if(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_OUT");j();return}c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_IN");d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);if(b){j();return}g(!0);q();i(function(){return l.jsx(m,{onComplete:j,pushPage:i})},{withoutBackButton:!0,withoutCloseButton:!0})},a[4]=p,a[5]=e,a[6]=h,a[7]=g,a[8]=q,a[9]=b):b=a[9];return b}function n(a){return[a.setIsDismissedDisabled]}g["default"]=a}),98);